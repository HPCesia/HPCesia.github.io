<?xml version="1.0" encoding="utf-8"?>
<rss version="2.0"
  xmlns:atom="http://www.w3.org/2005/Atom"
  xmlns:content="http://purl.org/rss/1.0/modules/content/">
  <channel>
    <title>璜珀的小屋</title>
    <link>https://blog.hpcesia.com/</link>
    
    <atom:link href="https://blog.hpcesia.com/rss2.xml" rel="self" type="application/rss+xml"/>
    
    <description>一个普通的个人博客网站，记录了个人的一些互联网使用、数学、编程的学习经验</description>
    <pubDate>Sat, 23 Nov 2024 15:28:47 GMT</pubDate>
    <generator>http://hexo.io/</generator>
    
    <item>
      <title>塞尔维亚旅游回忆 - 上篇 - Day 1-3</title>
      <link>https://blog.hpcesia.com/posts/841b8c27/</link>
      <guid>https://blog.hpcesia.com/posts/841b8c27/</guid>
      <pubDate>Sat, 23 Nov 2024 15:28:47 GMT</pubDate>
      
      <description>记录 2024 春节进行的为期 7 天的塞尔维亚旅行。由于篇幅过多，分为三篇进行发布，此为上篇。本篇主要记录在塞尔维亚与波黑交界处附近的旅行。</description>
      
      
      
      <content:encoded><![CDATA[<div class="note info no-icon modern"><p>本次旅游时间：2024 年 2 月 13 日 - 2024 年 2 月 21日（北京时间）。</p></div><h2 id="day1---启程">Day1 - 启程</h2><p>Day1 路线：重庆 → 卡塔尔 → 贝尔格莱德 → 兹拉蒂博尔</p><p>一整天都基本在赶路，不是在飞机上就是在汽车上。</p><h3 id="重庆-卡塔尔">重庆 → 卡塔尔</h3><p>这次旅游是我爸拉着我去的，我们在卡塔尔航空上买了两张往返塞尔维亚的经济舱机票。由于重庆无直达航线，需经卡塔尔中转（理论上去北京中转也行，但是好像一周就一次航班），购买的是凌晨起飞，上午（当地时间）到达的机票。</p><figure><img src= "" data-lazy-src="https://bu.dusays.com/2024/10/28/671f2b03450d2.webp"alt="航班信息" /><figcaption aria-hidden="true">航班信息</figcaption></figure><p>2 月 12 日晚上 22点整，我们到达了江北机场的国际候机室，等待登机。由于候机室的饮料实在太贵<del>（一罐可乐45块，你怎么不去抢啊）</del>，我爸又爱喝饮料，于是用了他的信用卡权益换了两个贵宾休息室的位置爽喝饮料爽恰零食。</p><p>2 月 13 日凌晨 0 点 15分，我们于江北机场坐上了前往卡塔尔的飞机。因为是春节期间，起飞后空姐给每个人都塞了个小红包，里面是两个金币巧克力：</p><p><img src= "" data-lazy-src="https://bu.dusays.com/2024/10/28/671f2af83071f.webp"alt="飞机上的小红包" /> <imgsrc="https://bu.dusays.com/2024/10/28/671f2af952ea8.webp"alt="金币巧克力" /></p><p>经济舱的环境实在是难受，整整 10小时的飞行时间完全睡不着一点（悲）。而且我坐在靠窗位置，导致想去上厕所得先把我爸喊醒，就更麻烦了。</p><h3 id="卡塔尔-贝尔格莱德">卡塔尔 → 贝尔格莱德</h3><p>经过 10小时的经济舱折磨，我们终于到达了中东土豪卡塔尔的多哈机场。整个候机楼到处都是奢侈品免税店，比迪拜的机场还让人眼花缭乱。</p><p><img src= "" data-lazy-src="https://bu.dusays.com/2024/10/28/671f2afe9b614.webp"alt="卡塔尔多哈机场候机楼" /> <imgsrc="https://bu.dusays.com/2024/10/28/671f2b0cd9a61.webp"alt="免税店里摆豪车" /></p><p>在候机楼煎熬等待了两个小时一行，我们总算是坐上了前往贝尔格莱德的飞机。</p><figure><img src= "" data-lazy-src="https://bu.dusays.com/2024/10/28/671f2b0da864c.webp"alt="航班信息" /><figcaption aria-hidden="true">航班信息</figcaption></figure><h3 id="贝尔格莱德-兹拉蒂博尔">贝尔格莱德 → 兹拉蒂博尔</h3><h4 id="中午">中午</h4><p>经过 5 小时的旅程，我们总算是到达了塞尔维亚境内。</p><figure><img src= "" data-lazy-src="https://bu.dusays.com/2024/10/28/671f2b027933f.webp"alt="贝尔格莱德机场" /><figcaption aria-hidden="true">贝尔格莱德机场</figcaption></figure><p>刚出机场，我就注意到了机场顶部的大字「BELGRADE AIRPORT NIKOLATESLA」：</p><figure><img src= "" data-lazy-src="https://bu.dusays.com/2024/10/28/671f2b0e9402a.webp"alt="特斯拉机场" /><figcaption aria-hidden="true">特斯拉机场</figcaption></figure><p>这时候我才知道原来特斯拉是塞尔维亚裔人😂。</p><p>离开机场后，我跟着我爸在附近的租车点，提走了提前预订的车，开始塞尔维亚自驾游。不幸的是，我放假时忘记带驾照回家，因此只有拥有国际驾照的我爸能开车，我只能待在副驾驶位聊天、拍照和玩手机。</p><p>贝尔格莱德机场附近全是农村小房子，最显眼的大概是成片打着中文标牌的赌场。不过我对赌博不感兴趣，我爸则锐评：真想玩赌博，这地方太掉价了，不如去澳门或者拉斯维加斯。刚进入贝尔格莱德市区，我看到的是成片的老旧居民楼：</p><figure><img src= "" data-lazy-src="https://bu.dusays.com/2024/10/28/671f2b0fbab06.webp"alt="老小区" /><figcaption aria-hidden="true">老小区</figcaption></figure><p>说实话，和国内三四线小城里的小区给我的感觉差不多。掉色的外墙看着颇为破旧。正好已是当地时间中午，我们找了个居民楼楼下的比萨店，照着菜单上的图片点了一份看着还行的比萨作为午饭。</p><figure><img src= "" data-lazy-src="https://bu.dusays.com/2024/10/28/671f2af1795ff.webp"alt="午餐" /><figcaption aria-hidden="true">午餐</figcaption></figure><h4 id="下午">下午</h4><p>吃过午饭，便该离开贝尔格莱德市区，一路向西南出发前往兹拉蒂博尔。一路上风景都还不错，也遇到了不少欧洲特色建筑（教堂和城堡）。</p><details><summary>多图折叠</summary><p><img src= "" data-lazy-src="https://bu.dusays.com/2024/10/28/671f2b097274a.webp"alt="不知名教堂" /> <imgsrc="https://bu.dusays.com/2024/10/28/671f2b10c5b81.webp"alt="不知名城堡" /> <imgsrc="https://bu.dusays.com/2024/10/28/671f2b05cd936.webp"alt="路上风景" /></p></details><p>到达兹拉蒂博尔后，我们在预定好的民宿处安顿下来，然后出去觅食。</p><figure><img src= "" data-lazy-src="https://bu.dusays.com/2024/10/28/671f2b0a8f7b2.webp"alt="民宿一角" /><figcaption aria-hidden="true">民宿一角</figcaption></figure><figure><img src= "" data-lazy-src="https://bu.dusays.com/2024/10/28/671f2af6eaafd.webp"alt="晚餐" /><figcaption aria-hidden="true">晚餐</figcaption></figure><p>晚上散步的时候看到了一个军官的雕像，上面写着「КАЈМАКЧАЛАН АРМИЈСКИЂЕНЕРАЛ КРСТА СМИЉАНИЋ 1868·1944」。</p><figure><img src= "" data-lazy-src="https://bu.dusays.com/2024/10/28/671f2af47b414.webp"alt="纪念当地陆军将领的雕像" /><figcaption aria-hidden="true">纪念当地陆军将领的雕像</figcaption></figure><details><summary>关于这个将领的信息</summary><p>写这个博客的时候查了下维基，原来是南斯拉夫在一战时期的的陆军将军，名字可以翻译为「克尔斯塔·斯米尔贾尼奇」，照片长这样：</p><figure><img src= "" data-lazy-src="https://bu.dusays.com/2024/10/28/671f2b0442826.webp"alt="克尔斯塔·斯米尔贾尼奇照片" /><figcaption aria-hidden="true">克尔斯塔·斯米尔贾尼奇照片</figcaption></figure><p>这个雕像是为了纪念这个将军在凯马克查伦（Kaymakchalan 或Кајмакчалана）战役上带领德里纳（Drina 或 Дринска）师的成就而设立的。</p></details><p>散完步，买了点饮料和零食，我们就回到民宿，准备第二天的旅程。</p><h2 id="day2---索道与雪山">Day2 - 索道与雪山</h2><h3 id="上午">上午</h3><p>一大早，我们就起床出发，徒步前往不远处的兹拉蒂博尔缆车的出发点。一路上有不少售卖当地特产的商店，如果忽略掉招牌上的西里尔字母，似乎与国内一些古镇并无多少区别。</p><figure><img src= "" data-lazy-src="https://bu.dusays.com/2024/11/08/672dbd310976c.webp"alt="卖腌制肉品的店" /><figcaption aria-hidden="true">卖腌制肉品的店</figcaption></figure><p>兹拉蒂博尔拥有目前世界最长的空中索道缆车，全长 9公里，将兹拉蒂博尔城与 Tornik山峰相连，一路上的风景基本都是草原与牧场。票价已经忘记是多少了，当时也没拍照片，但是印象里不算贵。包车会更贵一点，但是我们起得够早，此时缆车的出发点并没有人在排队，所以我们只需要正常购票就能事实上地达成包厢的目的。事实证明开头那段旅游景点介绍是真实的，路上的风景是相当美丽，一路上只会疯狂拍照了：</p><details><summary>多图折叠</summary><p><img src= "" data-lazy-src="https://bu.dusays.com/2024/11/08/672dbd297f292.webp"alt="索道途中的草原" /> <imgsrc="https://bu.dusays.com/2024/11/08/672dc010071ec.webp"alt="湖边风景" /> <imgsrc="https://bu.dusays.com/2024/10/28/671f2b3fcd348.webp"alt="索道途中的湖" /> <imgsrc="https://bu.dusays.com/2024/11/08/672dc03a8c8b2.webp"alt="山脚风景" /> <imgsrc="https://bu.dusays.com/2024/11/08/672dc03867e76.webp"alt="山上的滑雪道" /></p></details><p>美妙的时光总算过得很快，一转眼，缆车就到达了此行的终点：山顶。对于常年居住在南方的我来说，雪景确实是个稀罕玩意儿，基本只有出去旅游才见得到。就是山上的温度实在是有点冷了，我在准备行李的时候不知道要到雪山上，只准备了适合山脚下温度的衣服，到了山上只能瑟瑟发抖（悲）。</p><details><summary>多图折叠</summary><p><img src= "" data-lazy-src="https://bu.dusays.com/2024/11/08/672dbd2b07f90.webp"alt="山顶风光" /> <imgsrc="https://bu.dusays.com/2024/11/08/672dc36a83976.webp"alt="山顶风光" /> <imgsrc="https://bu.dusays.com/2024/11/23/674162710fa5f.webp"alt="山顶风光" /> <imgsrc="https://bu.dusays.com/2024/11/08/672dc36d46e6c.webp"alt="山顶风光" /></p></details><p>这座山也是一个滑雪的好去处，除去我们所坐的观光缆车外，还有一个专为滑雪者提供服务的缆车，可以穿着滑雪板直达山顶，源源不断地有滑雪者坐着缆车到达山顶，然后沿着滑雪道飞驰。</p><figure><img src= "" data-lazy-src="https://bu.dusays.com/2024/10/28/671f2b77efea7.webp"alt="滑雪者" /><figcaption aria-hidden="true">滑雪者</figcaption></figure><p>由于我实在是扛不住山上的气温，只在山顶待了不到一个小时，我们便乘坐缆车回到了山下。回到山下的时候虽然才当地时间十点，但因为出门时没吃早饭，我和我爸都已经有些饿了，于是我们找了个路边的店，一人买了一个欧洲版肉夹馍作为今天的午餐。</p><figure><img src= "" data-lazy-src="https://bu.dusays.com/2024/10/28/671f2b762df34.webp"alt="午餐" /><figcaption aria-hidden="true">午餐</figcaption></figure><h3 id="中午-1">中午</h3><p>边走边吃地吃完了午饭后，我们决定先好好逛一下这个镇子，毕竟昨晚虽然也散步走了一小圈，但天色太黑看不真切。</p><figure><img src= "" data-lazy-src="https://bu.dusays.com/2024/11/08/672dc5cd7f08a.webp"alt="镇上风光" /><figcaption aria-hidden="true">镇上风光</figcaption></figure><p>镇上大部分其实只是看个新鲜，也就是常规的欧洲民居罢了，唯一值得放在文章里的是一个小教堂。教堂虽小，里面的装饰却不含糊，金碧辉煌<del>（虽然见识过阿联酋的宫殿后已经不稀奇了）</del>。说实话，我对这些教堂并不怎么感兴趣，尤其是这种小的，只是随便拍了几张照片。我爸倒是对此相当感兴趣，各种角度拍了半天。</p><details><summary>多图折叠</summary><p><img src= "" data-lazy-src="https://bu.dusays.com/2024/11/08/672dc5d1ccd79.webp"alt="教堂一侧" /> <imgsrc="https://bu.dusays.com/2024/11/08/672dc5dbbd8f4.webp"alt="教堂正门" /> <imgsrc="https://bu.dusays.com/2024/11/08/672dc5c9ebd17.webp"alt="教堂内部" /></p></details><h3 id="下午-1">下午</h3><p>下午，依旧是我爸开车，去参观一个非常偏僻的教堂。一路基本都是乡间小路，虽然我爸几十年老司机技艺娴熟，但还是让我有些担心我们租的这辆奥迪轿车能否撑得住路上的颠簸。</p><p><img src= "" data-lazy-src="https://bu.dusays.com/2024/11/23/67416148ce238.webp"alt="不知名教堂" /> <imgsrc="https://bu.dusays.com/2024/10/28/671f2b82e130b.webp"alt="不知名教堂" /></p><p>结果到了教堂，我们才发现今天教堂关门了，于是只能在外面拍几张照作罢。</p><p>回民宿的路上，我爸突然发现有一条支路可以开到早上坐缆车到的山顶上，而我们租的这辆车的轮胎和性能都足够在较浅的雪地里行驶，因此我们又开着车前往山顶。</p><figure><img src= "" data-lazy-src="https://bu.dusays.com/2024/11/23/67416096e30c9.webp"alt="上山路上" /><figcaption aria-hidden="true">上山路上</figcaption></figure><p>此时的山顶，在下午的阳光照耀下，雪相比早上少了不少，露出了下面的土地。气温也暖和了不少，至少不用在寒风中瑟瑟发抖了。</p><figure><img src= "" data-lazy-src="https://bu.dusays.com/2024/11/23/6741609a50574.webp"alt="下午的山顶风光" /><figcaption aria-hidden="true">下午的山顶风光</figcaption></figure><p>在山顶又拍了些照，我们便返回了民宿，买了些零食和饮料，为第三天的旅程做准备。</p><figure><img src= "" data-lazy-src="https://bu.dusays.com/2024/11/23/6741ef5461d15.webp"alt="杂货店" /><figcaption aria-hidden="true">杂货店</figcaption></figure><h2 id="day3---古桥">Day3 - 古桥</h2><h3 id="上午-1">上午</h3><p>一大早，我们便收拾好东西，退掉民宿，驱车前往波黑的莫斯塔尔。路上倒是没多少好说的，唯一值得一提的是手机信号。在塞尔维亚境内，一路上基本都是4G 信号，至少是可以正常水群聊天的。但一到波黑境内，手机信号立马降到2G，时不时会直接无信号。由于没料想到手机信号会那么差，我手机上没有多少适合消磨时间的东西，只能玩玩数独解闷。</p><p>我们一直开到一个服务区才有手机信号，这时候也差不多该吃饭了。</p><figure><img src= "" data-lazy-src="https://bu.dusays.com/2024/10/28/671f2b7a2927e.webp"alt="服务区的午餐" /><figcaption aria-hidden="true">服务区的午餐</figcaption></figure><p>但服务区的手机信号仍然值得吐槽：只有在外面信号才是能正常使用的，餐厅里面只有2G信号，相当难绷了。而我爸又要到餐厅外面抽烟，我只能待在餐厅里面空欢喜一场。</p><h3 id="下午-2">下午</h3><p>一路奔波到了莫斯塔尔，我们入住了一个离莫斯塔尔古桥不远的民宿，稍微休整了一下，便步行出来前往古桥。</p><p>在民宿门口，正对着的是一个教堂。这个教堂比昨天小镇上的教堂要大上少许，放了一大排椅子，更符合我心中对教堂的印象。</p><p><img src= "" data-lazy-src="https://bu.dusays.com/2024/10/28/671f2b853abf5.webp"alt="民宿门口的教堂" /> <imgsrc="https://bu.dusays.com/2024/10/28/671f2b9091a93.webp"alt="教堂内部" /></p><p>在教堂里拍了些照，我们便继续前往古桥。古桥位于莫斯塔尔老城当中，不过我更愿意称之为古镇，毕竟老城城区大小也就一个镇子左右，城里都是些狭窄的石子路，若是将石子换成青石板，白墙黑瓦换成木柱青瓦，倒是与国内古镇别无二致。</p><figure><img src= "" data-lazy-src="https://bu.dusays.com/2024/11/23/6741ef4cda505.webp"alt="老城小道" /><figcaption aria-hidden="true">老城小道</figcaption></figure><p>穿过一小段老城的道路，便是著名的莫斯塔尔古桥。说是古桥，其实这桥修成也才20 年。1993 年，原先的古桥在波黑战争中被炸毁，直到 8年后才重建，虽然新桥仿照原先古桥的样式修建，使用的材料大部分是被炸毁的古桥的石料，但确确实实是一座新桥了，只是在文化上仍是一座古桥。</p><figure><img src= "" data-lazy-src="https://bu.dusays.com/2024/11/23/6741ef5100b3b.webp"alt="古桥一侧岸边" /><figcaption aria-hidden="true">古桥一侧岸边</figcaption></figure><p>桥上游客不少，能听到一些中文的交流声音，毕竟古桥是世界文化遗产，有我们之外的国人来此地一游也不奇怪。桥的两侧设有高高的铁栏杆，以防游客不慎跌落。据说几年前，这个桥上是没有额外布设铁栏杆的，兴许是近几年出现了一些游客跌落事件，这才加装了更高的栏杆吧。在古桥上可以拍到两侧的风景，远处还有一座更现代的桥，那也是我们来时驱车经过的桥梁。在晚上，古桥还会在两侧打上灯光，照亮桥拱。</p><p><img src= "" data-lazy-src="https://bu.dusays.com/2024/10/28/671f2b88b24b7.webp"alt="古桥两侧风景" /> <imgsrc="https://bu.dusays.com/2024/10/28/671f2b8d76941.webp"alt="晚上的古桥" /></p><p>在老城里逛了一圈，人乏马困，于是便在回民宿的路上找了一家餐厅用餐。今天的晚餐是烤肉大餐，算是我这个肉食爱好者的福音了。</p><figure><img src= "" data-lazy-src="https://bu.dusays.com/2024/10/28/671f2b7d6d711.webp"alt="老城晚餐" /><figcaption aria-hidden="true">老城晚餐</figcaption></figure><p>吃饱喝足，下楼时偶遇从北京过来旅游的一家三口，难得有缘遇见同胞，相互聊了五六分钟，便回了民宿休息，备战第四天的旅程了。</p><div class="note info no-icon modern"><p>中篇和下篇还处于只有图片占坑的草稿状态，等以后有时间会写完发出来的<del>（在写了在写了）</del>。</p></div>]]></content:encoded>
      
      
      <category domain="https://blog.hpcesia.com/categories/%E6%97%85%E8%A1%8C%E5%9B%9E%E5%BF%86/">旅行回忆</category>
      
      
      <category domain="https://blog.hpcesia.com/tags/%E5%A1%9E%E5%B0%94%E7%BB%B4%E4%BA%9A/">塞尔维亚</category>
      
      <category domain="https://blog.hpcesia.com/tags/%E6%AC%A7%E6%B4%B2/">欧洲</category>
      
      
      <comments>https://blog.hpcesia.com/posts/841b8c27/#disqus_thread</comments>
      
    </item>
    
    <item>
      <title>周寄（二）</title>
      <link>https://blog.hpcesia.com/posts/45a2901b/</link>
      <guid>https://blog.hpcesia.com/posts/45a2901b/</guid>
      <pubDate>Sun, 17 Nov 2024 11:22:17 GMT</pubDate>
      
      <description>一些闲聊与思考</description>
      
      
      
      <content:encoded><![CDATA[<p>这次周记其实主要都是些闲聊，一周的时间里，想到什么就在写什么，最后再整理一下，兴许这才是周记的正确打开方式？但想不出一个好名字用来总结了，想到了再说，现在先用着没名字的标题吧。本次周记记录时间为：11.09- 11.17。</p><h2 id="体测">体测</h2><p>这周的体测是霉好的一千米跑和坐位体前屈，而我这学期就跑过三四次长跑，体能下降严重。再加上经常熬夜，结果就是，我成功打破了我大学以来的一千米跑最差记录，用时五分零二秒，妥妥的不及格（悲）。</p><h2 id="第一台-vps">第一台 VPS</h2><p>这周，我拿下了年轻人的第一台 VPS，买的是香港 2H2G 的轻量云，首年110，价格还算能接受<del>（两张大月卡的钱）</del>。我馋 VPS也有段时间了，主要是馋密码管理，也就是 <ahref="https://github.com/dani-garcia/vaultwarden">VaultWarden</a>。</p><p>火狐的密码管理其实用起来也还行，毕竟我现在用的不能网页登录的软件，基本都是用密码登录也要再输一遍手机验证码的。国内厂商的软件大都这样，123456和 20位的大小写字母数字符号混合密码没有本质区别，因为最后都要发一遍手机验证码。但是密码存火狐那里总归不是个事，还是存自己手上舒服。</p><p>VPS 还部署了一些其他东西，截止本文发布时，除去上文提到的VaultWarden，我在 VPS 上还部署了 <ahref="https://github.com/louislam/uptime-kuma">UptimeKuma</a>（部署的网站状态监测，未来可能也会给友链做一下监测）、<ahref="https://github.com/usememos/memos">Memos</a>说说（用于替换我博客原来使用的静态说说）、<ahref="https://github.com/go-gitea/gitea">Gitea</a>（用于存储博客源码与持续部署，不用受制于GitHub Action 的免费额度）、<ahref="https://github.com/AlistGo/alist">Alist</a>（统一各个网盘，得益于服务器位置，可以直接访问谷歌云盘）、<ahref="https://github.com/searxng/searxng">SearXNG</a>（搜索引擎聚合，同样得益于服务器位置，可以直接用谷歌搜索）、<ahref="https://github.com/FreshRSS">FreshRSS</a>，还有个 <ahref="https://github.com/gethomepage/homepage/">Homepage</a>（个人导航页）。虽然部署了不少东西，不过目前服务器内存只占用了55%，CPU 更是占用不超过20%，所以还可以再部署点别的东西，如果有好用的项目欢迎各位在评论区推荐一下。</p><figure><img src= "" data-lazy-src="https://bu.dusays.com/2024/11/15/67375a70a0fd3.webp"alt="个人仪表盘" /><figcaption aria-hidden="true">个人仪表盘</figcaption></figure><p>这里避雷一下 <ahref="https://github.com/Lissy93/dashy">Dashy</a>，这个项目作为仪表盘来说，实在是有点太重了——部署时需要本地编译网页而非拉取预编译文件，导致只有4H8G 以上配置的实例才能正常使用。我逝了一次，直接 CPU和内存双双爆满，等了五分钟还是没反应，1Panel直接卡死，只能去服务商那里重启服务器后卸载 Dashy。如果是性能不错的NAS，倒是可以考虑用这个项目作为仪表盘。Dashy虽然还可以无服务器部署，但这样就丧失了 Dashy最大的优势：可视化配置界面，只能慢慢改 yaml，所以我选择放弃， <ahref="https://gethomepage.dev/">Homepage</a>也就是不能可视化配置，又不是不能用。不过 Homepage有个问题，那就是不支持设置密码，需要我使用反向代理提供的密码功能，但这样就会导致每次重新打开浏览器都需要重新输入密码，而且Bitwarden 的浏览器扩展也不能自动填充，需要手动复制，有点麻烦。</p><p>说到 <ahref="https://github.com/1Panel-dev/1Panel">1Panel</a>，这里还要吐槽一下1Panel 应用商店里的 Gitea，强制要求数据库从 MySQL 和 PostgreSQL里二选一，而这两尊大神光是部署就能吃掉我 1/4 的内存。Gitea本身是支持使用 SQLite的，对于我这种仅限个人小项目使用的需求是完全够用的。好在 1Panel支持从本地导入应用，我把应用商店里的 Gitea下到本地删掉选择数据库相关的内容后，上传回服务器，顺利安装运行。</p><p>另外 Gitea 的手机端编辑体验，相比 GitHub也差了不少。比如这段文字就是在 Gitea的网页端用手机码的，而这节上面的几段文字则是在手机端的 Obsidian上码完再复制过来的。Gitea在文本框内似乎只能唤起一次输入法界面，导致我换个地方点一下就不能正常输入，需要点一下文本框外面再点回来才能再次唤起输入法。不过手机端编辑代码的舒适度应该不是Gitea 的重点，也就将就了。但是自部署的 Gitea就不需要在同步的时候科学上网了，再在 Gitea 上配置一下仓库镜像推送到GitHub，对写代码的体验提升还是不错的。</p><h2 id="关于鸿蒙的一点担忧">关于鸿蒙的一点担忧</h2><p>我个人是确定在年底会入手华为的 Mate70作为时隔三年半的新手机了（据说是 11.26 发布），现在手上用的 Mate40虽然还能用，但总归是有些不顺心的地方。Mate70 使用鸿蒙 Next这个新系统，不顺心的地方肯定会更多，但我毕竟没有自己的收入，换新手机只能全力倚父，而家里出钱就只能换家里选定的华为手机，所以只能是我去适应一下系统了。而且到时候我自己还会把省下来的生活费拿出一部分买台方便折腾的安卓做备用机，弥补这么多年用华为所缺失的折腾手机的快乐。</p><p>鸿蒙 Next 最让我担心的还是生态问题。虽然国内的软件大都在积极适配鸿蒙Next，期间也闹了不少笑话（比如 QQ 忘记加密接口造福一众 QQ机器人开发者，微信里的升级按钮会跳转到 App Store <del>怎么全是 TX的</del>），但待到年底 Mate70发布时，鸿蒙的生态真的能满足我的日常使用需求吗？我对此深感怀疑。</p><p>首先就是上面提到的 VaultWarden 了，BitWarden客户端这种需求量不大的开源软件，短时间内肯定没人移植到鸿蒙，不像 Clash这种刚需级软件，早早地就有人移植到鸿蒙 Next 上。</p><p>VaultWarden主要是我确实真金白银花在上面了，所以排在最前，但我日常使用最频繁的还是火狐的跨端同步功能。那么问题来了：Mozilla今年都两次裁员了，真的还有人力来开发鸿蒙端的火狐吗？华为和 Mozilla最大的关系大概是同为 Rust基金会的董事，但是这层关系应该管不到浏览器适配。更何况鸿蒙 Next的卖点之一就是只有系统自带的 WebView，其他非 Chromium内核的浏览器真的有机会上鸿蒙吗？其他浏览器的同步能力大概是比不上火狐的，而且Windows端的对应浏览器使用体验肯定也远不如火狐，所以这对我影响也很大。</p><p>接着是几个安卓的 Xpose 模块和功能软件，主要是优化QQ、B站、知乎使用体验（<del>他宝贝的</del> B站<del>小可爱</del>天天给我贴脸推送低质逆天视频来吸引争议带来的流量，所以我用模块把推荐视频和评论区全屏蔽了）的模块，和跳开屏广告的软件。没了它们，手机用起来就不那么丝滑了。</p><p>最后是几个米哈游的游戏。虽然我大部分时间都是在电脑上打这几个游戏，手机就起个收菜清日常任务的作用，但少了他们，多少会不习惯一阵子。虽说米哈游早早就宣布要进行鸿蒙适配，但目前还是毫无音讯。虽然原神和星铁也有网页版的云游戏，但是使用体验只能说，比没有强。希望等到Mate70 发布的时候，至少官方的云游戏能适配鸿蒙。</p><p>担忧说完了，总归是得有点好消息才行。好消息是，虽然华为学苹果搞封闭应用商店，但是在侧载安装上留的口子比苹果大：鸿蒙目前应用自签名有效期是一年，侧载安装的开源软件可以过很长时间才重新签名一遍，比苹果只有七天好不少。</p><h2 id="国产虫豸软件">国产虫豸软件</h2><p>上文提到我在用 Xpose模块精简软件界面，事实上，我对某些国产虫豸软件的臃肿界面诟病已久。我用过界面最舒适的正版在线音乐软件，居然是安卓端的Apple Music，国内的软件，像 Q音、网易、酷狗等，一个二个都是恨不得在音乐软件里再塞个直播软件，太难绷了。在线听歌其实也有开源的<a href="https://github.com/listen1" rel="external nofollow noreferrer">Listen 1</a>可用，但是我还是更喜欢本地听歌，所以没有用这个软件。</p><p>刚才只是针对了音乐软件，事实上，大部分国产商业软件，都喜欢在一个本职功能很简单的软件上塞上视频直播、小游戏、借贷等功能，每个软件都在试图接管一切娱乐需求，这只让我极度恶心。</p><p>但国产软件的界面还是有救的，那就是——关怀模式/大字模式/长辈模式。没错，给看不清屏幕的长辈用的界面，才是我这个年轻人最喜欢的界面：干净清爽，大部分花里胡哨没用的功能都不见了，但是厂商认为的核心功能绝对会保留。当然，也有像某宝这种虫豸，长辈模式依旧塞一堆垃圾功能，除了字大点没别的区别，不过大部分情况下使用长辈模式能够极大优化某些国产软件的使用体验。有的软件还会提供英文模式，可能比长辈模式还要简洁，例如中国移动APP 的英文模式就只有话费、流量、通话时长和充值这几个功能。</p><figure><img src= "" data-lazy-src="https://bu.dusays.com/2024/11/15/67372b5cae80e.webp"alt="中国移动的英文版" /><figcaption aria-hidden="true">中国移动的英文版</figcaption></figure><p>使用体验上英文版 &gt;&gt;中文版属于是国产虫豸软件的常态了。包括像各种功能也是一到英文版、一到国外，就开始收敛了。例如Google Play Store上的微信，在国外网络环境下就不会自己后台保活烧电量，而是走正常的消息推送路径；但只要让它发现使用者其实处于国内环境，各种妖魔鬼怪招式又会轮番上阵。</p><h2 id="聊天分寸">聊天分寸</h2><p>这周在好几个 QQ群水群的时候都遇到了一些聊天分寸的问题，所以想在周记里聊聊。</p><p>首先需要明确的是，不同的地方有不同的聊天氛围，有各自需要注意的分寸，就像星铁的这段剧情对话一样：</p><figure><img src= "" data-lazy-src="https://bu.dusays.com/2024/11/15/67375cdb3580c.webp"alt="星穹铁道剧情截图" /><figcaption aria-hidden="true">星穹铁道剧情截图</figcaption></figure><p>在我活跃过的 QQ群里，有以发百草枯表情包为乐的群，满屏都是绿色农药图片乱飞；有全是老司机发车验车，满屏都是磁链种子的群；有每天话题在emo→涩涩→文爱→学术→emo 之间循环的群；有专注技术讨论，闲聊超过三句就会因ot(off topic) 被叫停的群，每个群都有不一样的聊天分寸。</p><p>如果聊天环境完全陌生或者完全熟悉，我自然是不怕掌握不到分寸的，因为前者我基本不说话，自然不会冒犯他人；后者大家都熟悉聊天氛围，哪些冒犯的话并无恶意大家心里有数，即使稍微冒犯到了对方，也有沟通的余地。我最怕应对的是熟悉环境里的陌生人：熟悉意味着我会说些带有一定冒犯性质，但熟人不会在意的话；陌生人意味着他会在意我说的冒犯的话，结果就是我会无意间冒犯到他，然后吵起来（悲）。</p><h2 id="小学生春游综合症">小学生春游综合症</h2><p>其实就是「明明第二天有事需要早起，却辗转反侧难以入睡」的情况。虽然心情和原因大不相同，但我还是更喜欢称之为小学生春游综合症，听起来会更有乐趣一些。</p><p>我经常会在第二天需要早起——通常是六七点——的时候，在床上闭着眼睛躺一两个小时就是睡不着。很明显，这和我的生物钟有关，常年累月的熬夜已经让我无法突然早睡了。我也尝试过前一天只睡四五个小时来强迫自己早睡，但结果往往是身体非常困，精神却很清醒，也不知道为什么。</p>]]></content:encoded>
      
      
      <category domain="https://blog.hpcesia.com/categories/%E7%94%9F%E6%B4%BB%E7%82%B9%E6%BB%B4/">生活点滴</category>
      
      
      <category domain="https://blog.hpcesia.com/tags/%E5%91%A8-%E6%9C%88%E8%AE%B0/">周/月记</category>
      
      
      <comments>https://blog.hpcesia.com/posts/45a2901b/#disqus_thread</comments>
      
    </item>
    
    <item>
      <title>在 Hexo 博客中接入新版 Memos</title>
      <link>https://blog.hpcesia.com/posts/a604572f/</link>
      <guid>https://blog.hpcesia.com/posts/a604572f/</guid>
      <pubDate>Tue, 12 Nov 2024 14:11:01 GMT</pubDate>
      
      <description>在 Hexo 博客中接入最新版本的 Memos (0.22.4) 的个人经验。Memos 的 API 经常变化，导致老教程通常会有不适用的地方，因此记录当前最新版本的部署方式。</description>
      
      
      
      <content:encoded><![CDATA[<p>部署 <a href="https://www.usememos.com/" rel="external nofollow noreferrer">Memos</a>网络上已经有很多教程了，本文就不在此赘述了，直接说正题。</p><h2 id="利用-cloudflare-worker-制作-api-接口">利用 Cloudflare Worker制作 API 接口</h2><p>Memos 的 <a href="https://memos.apidocumentation.com/" rel="external nofollow noreferrer">API</a>有个问题，那就是几乎所有 API 都需要传入 token，但是 Memos 并没有精细化的token 管理，例如限定 token 的权限等，所以直接在 js 中写入 token是极度不安全的，通过 token，其他人可以随意修改你的Memos，无论内容还是账户还是资源。因此我们需要一个只向外提供部分 API的包装。</p><p>这里我选择的是赛博大善人 <ahref="https://www.cloudflare.com/zh-cn/">Cloudflare</a> 的 <ahref="https://developers.cloudflare.com/workers/">Worker</a> 作为 API的包装，免费 Worker 足以应对博客的小流量了。我在此提供一个 Worker实现，只向外暴露了获取公开 Memos 与按 uid 获取 Memo 的接口。该 Worker部署时需要在 Worker 的设置中添加一个机密，键为 <code>TOKEN</code>，值为Memos 设置页面的 token 字符串。</p><figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br></pre></td><td class="code"><pre class="shiki shiki-themes one-light one-dark-pro"><span class="line"><span style="color:#A626A4;--shiki-dark:#C678DD">const</span><span style="color:#986801;--shiki-dark:#E5C07B"> API_BASE_URL</span><span style="color:#0184BC;--shiki-dark:#56B6C2"> =</span><span style="color:#50A14F;--shiki-dark:#98C379"> "https://your.memos.domain"</span><span style="color:#383A42;--shiki-dark:#ABB2BF">;</span></span><span class="line"><span style="color:#A626A4;--shiki-dark:#C678DD">const</span><span style="color:#986801;--shiki-dark:#E5C07B"> BANNED_MEMO_KEY_LIST</span><span style="color:#0184BC;--shiki-dark:#56B6C2"> =</span><span style="color:#383A42;--shiki-dark:#ABB2BF"> [</span><span style="color:#50A14F;--shiki-dark:#98C379">"keys"</span><span style="color:#383A42;--shiki-dark:#ABB2BF">, </span><span style="color:#50A14F;--shiki-dark:#98C379">"you"</span><span style="color:#383A42;--shiki-dark:#ABB2BF">, </span><span style="color:#50A14F;--shiki-dark:#98C379">"don't"</span><span style="color:#383A42;--shiki-dark:#ABB2BF">, </span><span style="color:#50A14F;--shiki-dark:#98C379">"want"</span><span style="color:#383A42;--shiki-dark:#ABB2BF">, </span><span style="color:#50A14F;--shiki-dark:#98C379">"to"</span><span style="color:#383A42;--shiki-dark:#ABB2BF">, </span><span style="color:#50A14F;--shiki-dark:#98C379">"expose"</span><span style="color:#383A42;--shiki-dark:#ABB2BF">];</span></span><span class="line"><span style="color:#A626A4;--shiki-dark:#C678DD">const</span><span style="color:#986801;--shiki-dark:#E5C07B"> BANNED_RESOURCE_KEY_LIST</span><span style="color:#0184BC;--shiki-dark:#56B6C2"> =</span><span style="color:#383A42;--shiki-dark:#ABB2BF"> [</span><span style="color:#50A14F;--shiki-dark:#98C379">"keys"</span><span style="color:#383A42;--shiki-dark:#ABB2BF">, </span><span style="color:#50A14F;--shiki-dark:#98C379">"you"</span><span style="color:#383A42;--shiki-dark:#ABB2BF">, </span><span style="color:#50A14F;--shiki-dark:#98C379">"don't"</span><span style="color:#383A42;--shiki-dark:#ABB2BF">, </span><span style="color:#50A14F;--shiki-dark:#98C379">"want"</span><span style="color:#383A42;--shiki-dark:#ABB2BF">, </span><span style="color:#50A14F;--shiki-dark:#98C379">"to"</span><span style="color:#383A42;--shiki-dark:#ABB2BF">, </span><span style="color:#50A14F;--shiki-dark:#98C379">"expose"</span><span style="color:#383A42;--shiki-dark:#ABB2BF">];</span></span><span class="line"><span style="color:#A626A4;--shiki-dark:#C678DD">const</span><span style="color:#986801;--shiki-dark:#E5C07B"> EXTERNAL_LINK</span><span style="color:#0184BC;--shiki-dark:#56B6C2"> =</span><span style="color:#383A42;--shiki-dark:#ABB2BF"> &#123;</span></span><span class="line"><span style="color:#E45649;--shiki-dark:#E06C75">  base</span><span style="color:#0184BC;--shiki-dark:#ABB2BF">:</span><span style="color:#50A14F;--shiki-dark:#98C379"> "https://bucket-name.cloudflare-id.r2.cloudflarestorage.com/"</span><span style="color:#383A42;--shiki-dark:#ABB2BF">,</span></span><span class="line"><span style="color:#E45649;--shiki-dark:#E06C75">  replace</span><span style="color:#0184BC;--shiki-dark:#ABB2BF">:</span><span style="color:#50A14F;--shiki-dark:#98C379"> "https://your.bucket.domain/"</span><span style="color:#383A42;--shiki-dark:#ABB2BF">,</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">&#125;;</span></span><span class="line"></span><span class="line"><span style="color:#A626A4;--shiki-dark:#C678DD">export</span><span style="color:#E45649;--shiki-dark:#C678DD"> default</span><span style="color:#383A42;--shiki-dark:#ABB2BF"> &#123;</span></span><span class="line"><span style="color:#A626A4;--shiki-dark:#C678DD">  async</span><span style="color:#4078F2;--shiki-dark:#61AFEF"> fetch</span><span style="color:#383A42;--shiki-dark:#ABB2BF">(</span><span style="color:#383A42;font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic">request</span><span style="color:#383A42;--shiki-dark:#ABB2BF">, </span><span style="color:#383A42;font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic">env</span><span style="color:#383A42;--shiki-dark:#ABB2BF">, </span><span style="color:#383A42;font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic">ctx</span><span style="color:#383A42;--shiki-dark:#ABB2BF">) &#123;</span></span><span class="line"><span style="color:#A626A4;--shiki-dark:#C678DD">    function</span><span style="color:#4078F2;--shiki-dark:#61AFEF"> formatMemo</span><span style="color:#383A42;--shiki-dark:#ABB2BF">(</span><span style="color:#383A42;font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic">memo</span><span style="color:#383A42;--shiki-dark:#ABB2BF">) &#123;</span></span><span class="line"><span style="color:#986801;--shiki-dark:#E5C07B">      BANNED_MEMO_KEY_LIST</span><span style="color:#383A42;--shiki-dark:#ABB2BF">.</span><span style="color:#4078F2;--shiki-dark:#61AFEF">map</span><span style="color:#383A42;--shiki-dark:#ABB2BF">((</span><span style="color:#383A42;font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic">key</span><span style="color:#383A42;--shiki-dark:#ABB2BF">) </span><span style="color:#A626A4;--shiki-dark:#C678DD">=></span><span style="color:#0184BC;--shiki-dark:#C678DD"> delete</span><span style="color:#E45649;--shiki-dark:#E06C75"> memo</span><span style="color:#383A42;--shiki-dark:#ABB2BF">[</span><span style="color:#E45649;--shiki-dark:#E06C75">key</span><span style="color:#383A42;--shiki-dark:#ABB2BF">]);</span></span><span class="line"><span style="color:#A626A4;--shiki-dark:#C678DD">      if</span><span style="color:#383A42;--shiki-dark:#ABB2BF"> (</span><span style="color:#383A42;--shiki-dark:#E5C07B">memo</span><span style="color:#383A42;--shiki-dark:#ABB2BF">.</span><span style="color:#E45649;--shiki-dark:#E06C75">resources</span><span style="color:#383A42;--shiki-dark:#ABB2BF">) </span><span style="color:#383A42;--shiki-dark:#E5C07B">memo</span><span style="color:#383A42;--shiki-dark:#ABB2BF">.</span><span style="color:#E45649;--shiki-dark:#E06C75">resources</span><span style="color:#0184BC;--shiki-dark:#56B6C2"> =</span><span style="color:#383A42;--shiki-dark:#E5C07B"> memo</span><span style="color:#383A42;--shiki-dark:#ABB2BF">.</span><span style="color:#E45649;--shiki-dark:#E5C07B">resources</span><span style="color:#383A42;--shiki-dark:#ABB2BF">.</span><span style="color:#4078F2;--shiki-dark:#61AFEF">map</span><span style="color:#383A42;--shiki-dark:#ABB2BF">(</span><span style="color:#E45649;--shiki-dark:#E06C75">formatResource</span><span style="color:#383A42;--shiki-dark:#ABB2BF">);</span></span><span class="line"><span style="color:#A626A4;--shiki-dark:#C678DD">      return</span><span style="color:#E45649;--shiki-dark:#E06C75"> memo</span><span style="color:#383A42;--shiki-dark:#ABB2BF">;</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">    &#125;</span></span><span class="line"></span><span class="line"><span style="color:#A626A4;--shiki-dark:#C678DD">    function</span><span style="color:#4078F2;--shiki-dark:#61AFEF"> formatResource</span><span style="color:#383A42;--shiki-dark:#ABB2BF">(</span><span style="color:#383A42;font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic">resource</span><span style="color:#383A42;--shiki-dark:#ABB2BF">) &#123;</span></span><span class="line"><span style="color:#986801;--shiki-dark:#E5C07B">      BANNED_RESOURCE_KEY_LIST</span><span style="color:#383A42;--shiki-dark:#ABB2BF">.</span><span style="color:#4078F2;--shiki-dark:#61AFEF">map</span><span style="color:#383A42;--shiki-dark:#ABB2BF">((</span><span style="color:#383A42;font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic">key</span><span style="color:#383A42;--shiki-dark:#ABB2BF">) </span><span style="color:#A626A4;--shiki-dark:#C678DD">=></span><span style="color:#0184BC;--shiki-dark:#C678DD"> delete</span><span style="color:#E45649;--shiki-dark:#E06C75"> resource</span><span style="color:#383A42;--shiki-dark:#ABB2BF">[</span><span style="color:#E45649;--shiki-dark:#E06C75">key</span><span style="color:#383A42;--shiki-dark:#ABB2BF">]);</span></span><span class="line"><span style="color:#A626A4;--shiki-dark:#C678DD">      if</span><span style="color:#383A42;--shiki-dark:#ABB2BF"> (</span><span style="color:#383A42;--shiki-dark:#E5C07B">resource</span><span style="color:#383A42;--shiki-dark:#ABB2BF">.</span><span style="color:#E45649;--shiki-dark:#E06C75">externalLink</span><span style="color:#383A42;--shiki-dark:#ABB2BF">)</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#E5C07B">        resource</span><span style="color:#383A42;--shiki-dark:#ABB2BF">.</span><span style="color:#E45649;--shiki-dark:#E06C75">externalLink</span><span style="color:#0184BC;--shiki-dark:#56B6C2"> =</span><span style="color:#383A42;--shiki-dark:#E5C07B"> resource</span><span style="color:#383A42;--shiki-dark:#ABB2BF">.</span><span style="color:#E45649;--shiki-dark:#E06C75">externalLink</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">          .</span><span style="color:#4078F2;--shiki-dark:#61AFEF">split</span><span style="color:#383A42;--shiki-dark:#ABB2BF">(</span><span style="color:#50A14F;--shiki-dark:#98C379">"?"</span><span style="color:#383A42;--shiki-dark:#ABB2BF">)[</span><span style="color:#986801;--shiki-dark:#D19A66">0</span><span style="color:#383A42;--shiki-dark:#ABB2BF">]</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">          .</span><span style="color:#4078F2;--shiki-dark:#61AFEF">replace</span><span style="color:#383A42;--shiki-dark:#ABB2BF">(</span><span style="color:#986801;--shiki-dark:#E5C07B">EXTERNAL_LINK</span><span style="color:#383A42;--shiki-dark:#ABB2BF">.</span><span style="color:#E45649;--shiki-dark:#E06C75">base</span><span style="color:#383A42;--shiki-dark:#ABB2BF">, </span><span style="color:#986801;--shiki-dark:#E5C07B">EXTERNAL_LINK</span><span style="color:#383A42;--shiki-dark:#ABB2BF">.</span><span style="color:#E45649;--shiki-dark:#E06C75">replace</span><span style="color:#383A42;--shiki-dark:#ABB2BF">);</span></span><span class="line"><span style="color:#A626A4;--shiki-dark:#C678DD">      return</span><span style="color:#E45649;--shiki-dark:#E06C75"> resource</span><span style="color:#383A42;--shiki-dark:#ABB2BF">;</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">    &#125;</span></span><span class="line"></span><span class="line"><span style="color:#A626A4;--shiki-dark:#C678DD">    async</span><span style="color:#A626A4;--shiki-dark:#C678DD"> function</span><span style="color:#4078F2;--shiki-dark:#61AFEF"> getApi</span><span style="color:#383A42;--shiki-dark:#ABB2BF">(</span><span style="color:#383A42;font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic">url</span><span style="color:#383A42;--shiki-dark:#ABB2BF">) &#123;</span></span><span class="line"><span style="color:#A626A4;--shiki-dark:#C678DD">      const</span><span style="color:#986801;--shiki-dark:#E5C07B"> response</span><span style="color:#0184BC;--shiki-dark:#56B6C2"> =</span><span style="color:#A626A4;--shiki-dark:#C678DD"> await</span><span style="color:#4078F2;--shiki-dark:#61AFEF"> fetch</span><span style="color:#383A42;--shiki-dark:#ABB2BF">(</span><span style="color:#E45649;--shiki-dark:#E06C75">url</span><span style="color:#383A42;--shiki-dark:#ABB2BF">, &#123;</span></span><span class="line"><span style="color:#E45649;--shiki-dark:#E06C75">        method</span><span style="color:#0184BC;--shiki-dark:#ABB2BF">:</span><span style="color:#50A14F;--shiki-dark:#98C379"> "GET"</span><span style="color:#383A42;--shiki-dark:#ABB2BF">,</span></span><span class="line"><span style="color:#E45649;--shiki-dark:#E06C75">        headers</span><span style="color:#0184BC;--shiki-dark:#ABB2BF">:</span><span style="color:#383A42;--shiki-dark:#ABB2BF"> &#123;</span></span><span class="line"><span style="color:#E45649;--shiki-dark:#E06C75">          Authorization</span><span style="color:#0184BC;--shiki-dark:#ABB2BF">:</span><span style="color:#50A14F;--shiki-dark:#98C379"> `Bearer </span><span style="color:#CA1243;--shiki-dark:#C678DD">$&#123;</span><span style="color:#383A42;--shiki-dark:#E5C07B">env</span><span style="color:#50A14F;--shiki-dark:#ABB2BF">.</span><span style="color:#986801;--shiki-dark:#E06C75">TOKEN</span><span style="color:#CA1243;--shiki-dark:#C678DD">&#125;</span><span style="color:#50A14F;--shiki-dark:#98C379">`</span><span style="color:#383A42;--shiki-dark:#ABB2BF">,</span></span><span class="line"><span style="color:#50A14F;--shiki-dark:#98C379">          "Content-Type"</span><span style="color:#0184BC;--shiki-dark:#ABB2BF">:</span><span style="color:#50A14F;--shiki-dark:#98C379"> "application/json"</span><span style="color:#383A42;--shiki-dark:#ABB2BF">,</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">        &#125;,</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">      &#125;);</span></span><span class="line"><span style="color:#A626A4;--shiki-dark:#C678DD">      if</span><span style="color:#383A42;--shiki-dark:#ABB2BF"> (</span><span style="color:#0184BC;--shiki-dark:#56B6C2">!</span><span style="color:#383A42;--shiki-dark:#E5C07B">response</span><span style="color:#383A42;--shiki-dark:#ABB2BF">.</span><span style="color:#E45649;--shiki-dark:#E06C75">ok</span><span style="color:#383A42;--shiki-dark:#ABB2BF">) &#123;</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#E5C07B">        console</span><span style="color:#383A42;--shiki-dark:#ABB2BF">.</span><span style="color:#4078F2;--shiki-dark:#61AFEF">error</span><span style="color:#383A42;--shiki-dark:#ABB2BF">(</span><span style="color:#50A14F;--shiki-dark:#98C379">`Error fetching data: </span><span style="color:#CA1243;--shiki-dark:#C678DD">$&#123;</span><span style="color:#383A42;--shiki-dark:#E5C07B">response</span><span style="color:#50A14F;--shiki-dark:#ABB2BF">.</span><span style="color:#E45649;--shiki-dark:#E06C75">statusText</span><span style="color:#CA1243;--shiki-dark:#C678DD">&#125;</span><span style="color:#50A14F;--shiki-dark:#98C379">`</span><span style="color:#383A42;--shiki-dark:#ABB2BF">);</span></span><span class="line"><span style="color:#A626A4;--shiki-dark:#C678DD">        return</span><span style="color:#986801;--shiki-dark:#D19A66"> null</span><span style="color:#383A42;--shiki-dark:#ABB2BF">;</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">      &#125;</span></span><span class="line"><span style="color:#A626A4;--shiki-dark:#C678DD">      return</span><span style="color:#383A42;--shiki-dark:#E5C07B"> response</span><span style="color:#383A42;--shiki-dark:#ABB2BF">.</span><span style="color:#4078F2;--shiki-dark:#61AFEF">json</span><span style="color:#383A42;--shiki-dark:#ABB2BF">();</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">    &#125;</span></span><span class="line"></span><span class="line"><span style="color:#A626A4;--shiki-dark:#C678DD">    async</span><span style="color:#A626A4;--shiki-dark:#C678DD"> function</span><span style="color:#4078F2;--shiki-dark:#61AFEF"> getMemos</span><span style="color:#383A42;--shiki-dark:#ABB2BF">(</span><span style="color:#383A42;font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic">searchParams</span><span style="color:#383A42;--shiki-dark:#ABB2BF">) &#123;</span></span><span class="line"><span style="color:#A626A4;--shiki-dark:#C678DD">      const</span><span style="color:#986801;--shiki-dark:#E5C07B"> num</span><span style="color:#0184BC;--shiki-dark:#56B6C2"> =</span><span style="color:#383A42;--shiki-dark:#E5C07B"> searchParams</span><span style="color:#383A42;--shiki-dark:#ABB2BF">.</span><span style="color:#4078F2;--shiki-dark:#61AFEF">get</span><span style="color:#383A42;--shiki-dark:#ABB2BF">(</span><span style="color:#50A14F;--shiki-dark:#98C379">"pageSize"</span><span style="color:#383A42;--shiki-dark:#ABB2BF">) </span><span style="color:#0184BC;--shiki-dark:#56B6C2">||</span><span style="color:#986801;--shiki-dark:#D19A66"> 15</span><span style="color:#383A42;--shiki-dark:#ABB2BF">;</span></span><span class="line"><span style="color:#A626A4;--shiki-dark:#C678DD">      const</span><span style="color:#986801;--shiki-dark:#E5C07B"> pageToken</span><span style="color:#0184BC;--shiki-dark:#56B6C2"> =</span><span style="color:#383A42;--shiki-dark:#E5C07B"> searchParams</span><span style="color:#383A42;--shiki-dark:#ABB2BF">.</span><span style="color:#4078F2;--shiki-dark:#61AFEF">get</span><span style="color:#383A42;--shiki-dark:#ABB2BF">(</span><span style="color:#50A14F;--shiki-dark:#98C379">"pageToken"</span><span style="color:#383A42;--shiki-dark:#ABB2BF">);</span></span><span class="line"><span style="color:#A626A4;--shiki-dark:#C678DD">      const</span><span style="color:#986801;--shiki-dark:#E5C07B"> url</span><span style="color:#0184BC;--shiki-dark:#56B6C2"> =</span><span style="color:#50A14F;--shiki-dark:#98C379"> `</span><span style="color:#CA1243;--shiki-dark:#C678DD">$&#123;</span><span style="color:#986801;--shiki-dark:#E5C07B">API_BASE_URL</span><span style="color:#CA1243;--shiki-dark:#C678DD">&#125;</span><span style="color:#50A14F;--shiki-dark:#98C379">/api/v1/memos?pageSize=</span><span style="color:#CA1243;--shiki-dark:#C678DD">$&#123;</span><span style="color:#E45649;--shiki-dark:#E06C75">num</span><span style="color:#CA1243;--shiki-dark:#C678DD">&#125;</span><span style="color:#50A14F;--shiki-dark:#98C379">&#x26;</span><span style="color:#CA1243;--shiki-dark:#C678DD">$&#123;</span></span><span class="line"><span style="color:#E45649;--shiki-dark:#E06C75">        pageToken</span><span style="color:#0184BC;--shiki-dark:#C678DD"> ?</span><span style="color:#50A14F;--shiki-dark:#98C379"> `pageToken=</span><span style="color:#CA1243;--shiki-dark:#C678DD">$&#123;</span><span style="color:#E45649;--shiki-dark:#E06C75">pageToken</span><span style="color:#CA1243;--shiki-dark:#C678DD">&#125;</span><span style="color:#50A14F;--shiki-dark:#98C379">&#x26;`</span><span style="color:#0184BC;--shiki-dark:#C678DD"> :</span><span style="color:#CA1243;--shiki-dark:#98C379"> ""</span></span><span class="line"><span style="color:#CA1243;--shiki-dark:#C678DD">      &#125;</span><span style="color:#50A14F;--shiki-dark:#98C379">filter=visibilities==['PUBLIC']`</span><span style="color:#383A42;--shiki-dark:#ABB2BF">;</span></span><span class="line"><span style="color:#A626A4;--shiki-dark:#C678DD">      return</span><span style="color:#4078F2;--shiki-dark:#61AFEF"> getApi</span><span style="color:#383A42;--shiki-dark:#ABB2BF">(</span><span style="color:#E45649;--shiki-dark:#E06C75">url</span><span style="color:#383A42;--shiki-dark:#ABB2BF">);</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">    &#125;</span></span><span class="line"></span><span class="line"><span style="color:#A626A4;--shiki-dark:#C678DD">    async</span><span style="color:#A626A4;--shiki-dark:#C678DD"> function</span><span style="color:#4078F2;--shiki-dark:#61AFEF"> getMemosByUid</span><span style="color:#383A42;--shiki-dark:#ABB2BF">(</span><span style="color:#383A42;font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic">uid</span><span style="color:#383A42;--shiki-dark:#ABB2BF">) &#123;</span></span><span class="line"><span style="color:#A626A4;--shiki-dark:#C678DD">      const</span><span style="color:#986801;--shiki-dark:#E5C07B"> url</span><span style="color:#0184BC;--shiki-dark:#56B6C2"> =</span><span style="color:#50A14F;--shiki-dark:#98C379"> `</span><span style="color:#CA1243;--shiki-dark:#C678DD">$&#123;</span><span style="color:#986801;--shiki-dark:#E5C07B">API_BASE_URL</span><span style="color:#CA1243;--shiki-dark:#C678DD">&#125;</span><span style="color:#50A14F;--shiki-dark:#98C379">/api/v1/memos:by-uid/</span><span style="color:#CA1243;--shiki-dark:#C678DD">$&#123;</span><span style="color:#E45649;--shiki-dark:#E06C75">uid</span><span style="color:#CA1243;--shiki-dark:#C678DD">&#125;</span><span style="color:#50A14F;--shiki-dark:#98C379">`</span><span style="color:#383A42;--shiki-dark:#ABB2BF">;</span></span><span class="line"><span style="color:#A626A4;--shiki-dark:#C678DD">      return</span><span style="color:#4078F2;--shiki-dark:#61AFEF"> getApi</span><span style="color:#383A42;--shiki-dark:#ABB2BF">(</span><span style="color:#E45649;--shiki-dark:#E06C75">url</span><span style="color:#383A42;--shiki-dark:#ABB2BF">);</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">    &#125;</span></span><span class="line"></span><span class="line"><span style="color:#A626A4;--shiki-dark:#C678DD">    let</span><span style="color:#E45649;--shiki-dark:#E06C75"> responseData</span><span style="color:#0184BC;--shiki-dark:#56B6C2"> =</span><span style="color:#383A42;--shiki-dark:#ABB2BF"> &#123;&#125;;</span></span><span class="line"><span style="color:#A626A4;--shiki-dark:#C678DD">    let</span><span style="color:#E45649;--shiki-dark:#E06C75"> status</span><span style="color:#0184BC;--shiki-dark:#56B6C2"> =</span><span style="color:#986801;--shiki-dark:#D19A66"> 200</span><span style="color:#383A42;--shiki-dark:#ABB2BF">;</span></span><span class="line"><span style="color:#A626A4;--shiki-dark:#C678DD">    if</span><span style="color:#383A42;--shiki-dark:#ABB2BF"> (</span><span style="color:#383A42;--shiki-dark:#E5C07B">request</span><span style="color:#383A42;--shiki-dark:#ABB2BF">.</span><span style="color:#E45649;--shiki-dark:#E06C75">method</span><span style="color:#0184BC;--shiki-dark:#56B6C2"> !==</span><span style="color:#50A14F;--shiki-dark:#98C379"> "GET"</span><span style="color:#383A42;--shiki-dark:#ABB2BF">) &#123;</span></span><span class="line"><span style="color:#E45649;--shiki-dark:#E06C75">      status</span><span style="color:#0184BC;--shiki-dark:#56B6C2"> =</span><span style="color:#986801;--shiki-dark:#D19A66"> 501</span><span style="color:#383A42;--shiki-dark:#ABB2BF">;</span></span><span class="line"><span style="color:#E45649;--shiki-dark:#E06C75">      responseData</span><span style="color:#0184BC;--shiki-dark:#56B6C2"> =</span><span style="color:#383A42;--shiki-dark:#ABB2BF"> &#123;</span></span><span class="line"><span style="color:#E45649;--shiki-dark:#E06C75">        code</span><span style="color:#0184BC;--shiki-dark:#ABB2BF">:</span><span style="color:#986801;--shiki-dark:#D19A66"> 12</span><span style="color:#383A42;--shiki-dark:#ABB2BF">,</span></span><span class="line"><span style="color:#E45649;--shiki-dark:#E06C75">        message</span><span style="color:#0184BC;--shiki-dark:#ABB2BF">:</span><span style="color:#50A14F;--shiki-dark:#98C379"> "Method Not Allowed"</span><span style="color:#383A42;--shiki-dark:#ABB2BF">,</span></span><span class="line"><span style="color:#E45649;--shiki-dark:#E06C75">        details</span><span style="color:#0184BC;--shiki-dark:#ABB2BF">:</span><span style="color:#383A42;--shiki-dark:#ABB2BF"> [],</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">      &#125;;</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">    &#125;</span></span><span class="line"></span><span class="line"><span style="color:#A626A4;--shiki-dark:#C678DD">    const</span><span style="color:#986801;--shiki-dark:#E5C07B"> apiRoute</span><span style="color:#0184BC;--shiki-dark:#56B6C2"> =</span><span style="color:#383A42;--shiki-dark:#E5C07B"> request</span><span style="color:#383A42;--shiki-dark:#ABB2BF">.</span><span style="color:#E45649;--shiki-dark:#E5C07B">url</span><span style="color:#383A42;--shiki-dark:#ABB2BF">.</span><span style="color:#4078F2;--shiki-dark:#61AFEF">split</span><span style="color:#383A42;--shiki-dark:#ABB2BF">(</span><span style="color:#50A14F;--shiki-dark:#98C379">"?"</span><span style="color:#383A42;--shiki-dark:#ABB2BF">)[</span><span style="color:#986801;--shiki-dark:#D19A66">0</span><span style="color:#383A42;--shiki-dark:#ABB2BF">].</span><span style="color:#4078F2;--shiki-dark:#61AFEF">split</span><span style="color:#383A42;--shiki-dark:#ABB2BF">(</span><span style="color:#50A14F;--shiki-dark:#98C379">"/"</span><span style="color:#383A42;--shiki-dark:#ABB2BF">).</span><span style="color:#4078F2;--shiki-dark:#61AFEF">slice</span><span style="color:#383A42;--shiki-dark:#ABB2BF">(</span><span style="color:#986801;--shiki-dark:#D19A66">4</span><span style="color:#383A42;--shiki-dark:#ABB2BF">);</span></span><span class="line"><span style="color:#A626A4;--shiki-dark:#C678DD">    const</span><span style="color:#986801;--shiki-dark:#E5C07B"> urlParams</span><span style="color:#0184BC;--shiki-dark:#56B6C2"> =</span><span style="color:#A626A4;--shiki-dark:#C678DD"> new</span><span style="color:#4078F2;--shiki-dark:#61AFEF"> URLSearchParams</span><span style="color:#383A42;--shiki-dark:#ABB2BF">(</span><span style="color:#383A42;--shiki-dark:#E5C07B">request</span><span style="color:#383A42;--shiki-dark:#ABB2BF">.</span><span style="color:#E45649;--shiki-dark:#E5C07B">url</span><span style="color:#383A42;--shiki-dark:#ABB2BF">.</span><span style="color:#4078F2;--shiki-dark:#61AFEF">split</span><span style="color:#383A42;--shiki-dark:#ABB2BF">(</span><span style="color:#50A14F;--shiki-dark:#98C379">"?"</span><span style="color:#383A42;--shiki-dark:#ABB2BF">)[</span><span style="color:#986801;--shiki-dark:#D19A66">1</span><span style="color:#383A42;--shiki-dark:#ABB2BF">] </span><span style="color:#0184BC;--shiki-dark:#56B6C2">||</span><span style="color:#50A14F;--shiki-dark:#98C379"> ""</span><span style="color:#383A42;--shiki-dark:#ABB2BF">);</span></span><span class="line"><span style="color:#A626A4;--shiki-dark:#C678DD">    switch</span><span style="color:#383A42;--shiki-dark:#ABB2BF"> (</span><span style="color:#E45649;--shiki-dark:#E06C75">apiRoute</span><span style="color:#383A42;--shiki-dark:#ABB2BF">[</span><span style="color:#986801;--shiki-dark:#D19A66">0</span><span style="color:#383A42;--shiki-dark:#ABB2BF">]) &#123;</span></span><span class="line"><span style="color:#A626A4;--shiki-dark:#C678DD">      case</span><span style="color:#50A14F;--shiki-dark:#98C379"> ""</span><span style="color:#383A42;--shiki-dark:#ABB2BF">:</span></span><span class="line"><span style="color:#E45649;--shiki-dark:#E06C75">        responseData</span><span style="color:#0184BC;--shiki-dark:#56B6C2"> =</span><span style="color:#A626A4;--shiki-dark:#C678DD"> await</span><span style="color:#4078F2;--shiki-dark:#61AFEF"> getMemos</span><span style="color:#383A42;--shiki-dark:#ABB2BF">(</span><span style="color:#E45649;--shiki-dark:#E06C75">urlParams</span><span style="color:#383A42;--shiki-dark:#ABB2BF">);</span></span><span class="line"><span style="color:#A626A4;--shiki-dark:#C678DD">        if</span><span style="color:#383A42;--shiki-dark:#ABB2BF"> (</span><span style="color:#E45649;--shiki-dark:#E06C75">responseData</span><span style="color:#383A42;--shiki-dark:#ABB2BF">) </span><span style="color:#383A42;--shiki-dark:#E5C07B">responseData</span><span style="color:#383A42;--shiki-dark:#ABB2BF">.</span><span style="color:#E45649;--shiki-dark:#E06C75">memos</span><span style="color:#0184BC;--shiki-dark:#56B6C2"> =</span><span style="color:#383A42;--shiki-dark:#E5C07B"> responseData</span><span style="color:#383A42;--shiki-dark:#ABB2BF">.</span><span style="color:#E45649;--shiki-dark:#E5C07B">memos</span><span style="color:#383A42;--shiki-dark:#ABB2BF">.</span><span style="color:#4078F2;--shiki-dark:#61AFEF">map</span><span style="color:#383A42;--shiki-dark:#ABB2BF">((</span><span style="color:#383A42;font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic">m</span><span style="color:#383A42;--shiki-dark:#ABB2BF">) </span><span style="color:#A626A4;--shiki-dark:#C678DD">=></span><span style="color:#4078F2;--shiki-dark:#61AFEF"> formatMemo</span><span style="color:#383A42;--shiki-dark:#ABB2BF">(</span><span style="color:#E45649;--shiki-dark:#E06C75">m</span><span style="color:#383A42;--shiki-dark:#ABB2BF">));</span></span><span class="line"><span style="color:#A626A4;--shiki-dark:#C678DD">        break</span><span style="color:#383A42;--shiki-dark:#ABB2BF">;</span></span><span class="line"><span style="color:#A626A4;--shiki-dark:#C678DD">      case</span><span style="color:#50A14F;--shiki-dark:#98C379"> "by-uid"</span><span style="color:#383A42;--shiki-dark:#ABB2BF">:</span></span><span class="line"><span style="color:#E45649;--shiki-dark:#E06C75">        responseData</span><span style="color:#0184BC;--shiki-dark:#56B6C2"> =</span><span style="color:#A626A4;--shiki-dark:#C678DD"> await</span><span style="color:#4078F2;--shiki-dark:#61AFEF"> getMemosByUid</span><span style="color:#383A42;--shiki-dark:#ABB2BF">(</span><span style="color:#E45649;--shiki-dark:#E06C75">apiRoute</span><span style="color:#383A42;--shiki-dark:#ABB2BF">[</span><span style="color:#986801;--shiki-dark:#D19A66">1</span><span style="color:#383A42;--shiki-dark:#ABB2BF">]);</span></span><span class="line"><span style="color:#A626A4;--shiki-dark:#C678DD">        if</span><span style="color:#383A42;--shiki-dark:#ABB2BF"> (</span><span style="color:#E45649;--shiki-dark:#E06C75">responseData</span><span style="color:#383A42;--shiki-dark:#ABB2BF">) </span><span style="color:#E45649;--shiki-dark:#E06C75">responseData</span><span style="color:#0184BC;--shiki-dark:#56B6C2"> =</span><span style="color:#4078F2;--shiki-dark:#61AFEF"> formatMemo</span><span style="color:#383A42;--shiki-dark:#ABB2BF">(</span><span style="color:#E45649;--shiki-dark:#E06C75">responseData</span><span style="color:#383A42;--shiki-dark:#ABB2BF">);</span></span><span class="line"><span style="color:#A626A4;--shiki-dark:#C678DD">        break</span><span style="color:#383A42;--shiki-dark:#ABB2BF">;</span></span><span class="line"><span style="color:#A626A4;--shiki-dark:#C678DD">      default</span><span style="color:#383A42;--shiki-dark:#ABB2BF">:</span></span><span class="line"><span style="color:#A626A4;--shiki-dark:#C678DD">        if</span><span style="color:#383A42;--shiki-dark:#ABB2BF"> (</span><span style="color:#0184BC;--shiki-dark:#56B6C2">!</span><span style="color:#4078F2;--shiki-dark:#61AFEF">isNaN</span><span style="color:#383A42;--shiki-dark:#ABB2BF">(</span><span style="color:#4078F2;--shiki-dark:#61AFEF">parseInt</span><span style="color:#383A42;--shiki-dark:#ABB2BF">(</span><span style="color:#E45649;--shiki-dark:#E06C75">apiRoute</span><span style="color:#383A42;--shiki-dark:#ABB2BF">[</span><span style="color:#986801;--shiki-dark:#D19A66">0</span><span style="color:#383A42;--shiki-dark:#ABB2BF">]))) &#123;</span></span><span class="line"><span style="color:#E45649;--shiki-dark:#E06C75">          status</span><span style="color:#0184BC;--shiki-dark:#56B6C2"> =</span><span style="color:#986801;--shiki-dark:#D19A66"> 400</span><span style="color:#383A42;--shiki-dark:#ABB2BF">;</span></span><span class="line"><span style="color:#E45649;--shiki-dark:#E06C75">          responseData</span><span style="color:#0184BC;--shiki-dark:#56B6C2"> =</span><span style="color:#383A42;--shiki-dark:#ABB2BF"> &#123;</span></span><span class="line"><span style="color:#E45649;--shiki-dark:#E06C75">            code</span><span style="color:#0184BC;--shiki-dark:#ABB2BF">:</span><span style="color:#986801;--shiki-dark:#D19A66"> 5</span><span style="color:#383A42;--shiki-dark:#ABB2BF">,</span></span><span class="line"><span style="color:#E45649;--shiki-dark:#E06C75">            message</span><span style="color:#0184BC;--shiki-dark:#ABB2BF">:</span><span style="color:#50A14F;--shiki-dark:#98C379"> "get memo by id is not supported"</span><span style="color:#383A42;--shiki-dark:#ABB2BF">,</span></span><span class="line"><span style="color:#E45649;--shiki-dark:#E06C75">            details</span><span style="color:#0184BC;--shiki-dark:#ABB2BF">:</span><span style="color:#383A42;--shiki-dark:#ABB2BF"> [],</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">          &#125;;</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">        &#125; </span><span style="color:#A626A4;--shiki-dark:#C678DD">else</span><span style="color:#383A42;--shiki-dark:#ABB2BF"> &#123;</span></span><span class="line"><span style="color:#E45649;--shiki-dark:#E06C75">          status</span><span style="color:#0184BC;--shiki-dark:#56B6C2"> =</span><span style="color:#986801;--shiki-dark:#D19A66"> 404</span><span style="color:#383A42;--shiki-dark:#ABB2BF">;</span></span><span class="line"><span style="color:#E45649;--shiki-dark:#E06C75">          responseData</span><span style="color:#0184BC;--shiki-dark:#56B6C2"> =</span><span style="color:#383A42;--shiki-dark:#ABB2BF"> &#123;</span></span><span class="line"><span style="color:#E45649;--shiki-dark:#E06C75">            code</span><span style="color:#0184BC;--shiki-dark:#ABB2BF">:</span><span style="color:#986801;--shiki-dark:#D19A66"> 5</span><span style="color:#383A42;--shiki-dark:#ABB2BF">,</span></span><span class="line"><span style="color:#E45649;--shiki-dark:#E06C75">            message</span><span style="color:#0184BC;--shiki-dark:#ABB2BF">:</span><span style="color:#50A14F;--shiki-dark:#98C379"> "interface not found"</span><span style="color:#383A42;--shiki-dark:#ABB2BF">,</span></span><span class="line"><span style="color:#E45649;--shiki-dark:#E06C75">            details</span><span style="color:#0184BC;--shiki-dark:#ABB2BF">:</span><span style="color:#383A42;--shiki-dark:#ABB2BF"> [],</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">          &#125;;</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">        &#125;</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">    &#125;</span></span><span class="line"><span style="color:#A626A4;--shiki-dark:#C678DD">    const</span><span style="color:#986801;--shiki-dark:#E5C07B"> jsonResponse</span><span style="color:#0184BC;--shiki-dark:#56B6C2"> =</span><span style="color:#A626A4;--shiki-dark:#C678DD"> new</span><span style="color:#4078F2;--shiki-dark:#61AFEF"> Response</span><span style="color:#383A42;--shiki-dark:#ABB2BF">(</span><span style="color:#986801;--shiki-dark:#E5C07B">JSON</span><span style="color:#383A42;--shiki-dark:#ABB2BF">.</span><span style="color:#4078F2;--shiki-dark:#61AFEF">stringify</span><span style="color:#383A42;--shiki-dark:#ABB2BF">(</span><span style="color:#E45649;--shiki-dark:#E06C75">responseData</span><span style="color:#383A42;--shiki-dark:#ABB2BF">), &#123;</span></span><span class="line"><span style="color:#E45649;--shiki-dark:#E06C75">      status</span><span style="color:#0184BC;--shiki-dark:#ABB2BF">:</span><span style="color:#E45649;--shiki-dark:#E06C75"> status</span><span style="color:#383A42;--shiki-dark:#ABB2BF">,</span></span><span class="line"><span style="color:#E45649;--shiki-dark:#E06C75">      headers</span><span style="color:#0184BC;--shiki-dark:#ABB2BF">:</span><span style="color:#383A42;--shiki-dark:#ABB2BF"> &#123;</span></span><span class="line"><span style="color:#50A14F;--shiki-dark:#98C379">        "Content-Type"</span><span style="color:#0184BC;--shiki-dark:#ABB2BF">:</span><span style="color:#50A14F;--shiki-dark:#98C379"> "application/json"</span><span style="color:#383A42;--shiki-dark:#ABB2BF">,</span></span><span class="line"><span style="color:#50A14F;--shiki-dark:#98C379">        "Access-Control-Allow-Origin"</span><span style="color:#0184BC;--shiki-dark:#ABB2BF">:</span><span style="color:#50A14F;--shiki-dark:#98C379"> "*"</span><span style="color:#383A42;--shiki-dark:#ABB2BF">,</span></span><span class="line"><span style="color:#50A14F;--shiki-dark:#98C379">        "Access-Control-Allow-Methods"</span><span style="color:#0184BC;--shiki-dark:#ABB2BF">:</span><span style="color:#50A14F;--shiki-dark:#98C379"> "GET"</span><span style="color:#383A42;--shiki-dark:#ABB2BF">,</span></span><span class="line"><span style="color:#50A14F;--shiki-dark:#98C379">        "Access-Control-Allow-Headers"</span><span style="color:#0184BC;--shiki-dark:#ABB2BF">:</span><span style="color:#50A14F;--shiki-dark:#98C379"> "Content-Type, Authorization"</span><span style="color:#383A42;--shiki-dark:#ABB2BF">,</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">      &#125;,</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">    &#125;);</span></span><span class="line"><span style="color:#A626A4;--shiki-dark:#C678DD">    return</span><span style="color:#E45649;--shiki-dark:#E06C75"> jsonResponse</span><span style="color:#383A42;--shiki-dark:#ABB2BF">;</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">  &#125;,</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">&#125;;</span></span></code></pre></td></tr></tbody></table></figure><h2 id="在-hexo-中接入-memos">在 Hexo 中接入 Memos</h2><p>这里我主要针对的是我正在使用的 Solitude主题进行，主要参考的是这篇文章：</p><a class="tag-link" href="https://blog.meuicat.cn/posts/d525bbc8.html" rel="external nofollow noreferrer" target="_blank"><div class="tag-link-tips">引用站外链接</div><div class="tag-link-bottom"><div class="tag-link-left"><i class="solitude fas fa-link"></i></div><div class="tag-link-right"><div class="tag-link-title">Solitude魔改教程：动态即刻短文</div><div class="tag-link-sitename">亦小封</div></div><i class="solitude fas fa-chevron-right"></i></div></a><p>根据 0.22 的 API变化，做了一些简单的修改，同时修了一下主题版本变化导致的Bug，修改如下：</p><figure class="highlight yaml"><figcaption><span>solitude/_config.yml</span></figcaption><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre class="shiki shiki-themes one-light one-dark-pro has-diff"><span class="line"><span style="color:#E45649;--shiki-dark:#E06C75">says</span><span style="color:#383A42;--shiki-dark:#ABB2BF">:</span></span><span class="line"><span style="color:#E45649;--shiki-dark:#E06C75">  enable</span><span style="color:#383A42;--shiki-dark:#ABB2BF">: </span><span style="color:#986801;--shiki-dark:#D19A66">false</span></span><span class="line diff add"><span style="color:#E45649;--shiki-dark:#E06C75">  mode</span><span style="color:#383A42;--shiki-dark:#ABB2BF">: </span><span style="color:#50A14F;--shiki-dark:#98C379">local</span><span style="color:#A0A1A7;font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic"> # local | memos</span></span><span class="line diff add"><span style="color:#E45649;--shiki-dark:#E06C75">  api</span><span style="color:#383A42;--shiki-dark:#ABB2BF">: </span><span style="color:#A0A1A7;font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic"># 填部署的 Cloudflare api 地址</span></span><span class="line"><span style="color:#E45649;--shiki-dark:#E06C75">  home_mini</span><span style="color:#383A42;--shiki-dark:#ABB2BF">: </span><span style="color:#986801;--shiki-dark:#D19A66">false</span></span><span class="line"><span style="color:#E45649;--shiki-dark:#E06C75">  page</span><span style="color:#383A42;--shiki-dark:#ABB2BF">: </span><span style="color:#50A14F;--shiki-dark:#98C379">/essay/</span></span><span class="line"><span style="color:#E45649;--shiki-dark:#E06C75">  style</span><span style="color:#383A42;--shiki-dark:#ABB2BF">: </span><span style="color:#986801;--shiki-dark:#D19A66">1</span></span></code></pre></td></tr></tbody></table></figure><figure class="highlight javascript"><figcaption><span>solitude/scripts/event/merge_config.js</span></figcaption><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre class="shiki shiki-themes one-light one-dark-pro has-diff"><span class="line"><span style="color:#383A42;--shiki-dark:#E06C75">says</span><span style="color:#383A42;--shiki-dark:#ABB2BF">: &#123;</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#E06C75">  enable</span><span style="color:#383A42;--shiki-dark:#ABB2BF">: </span><span style="color:#986801;--shiki-dark:#D19A66">false</span><span style="color:#383A42;--shiki-dark:#ABB2BF">,</span></span><span class="line diff add"><span style="color:#383A42;--shiki-dark:#E06C75">  mode</span><span style="color:#383A42;--shiki-dark:#ABB2BF">: </span><span style="color:#50A14F;--shiki-dark:#98C379">"local"</span><span style="color:#383A42;--shiki-dark:#ABB2BF">, </span></span><span class="line diff add"><span style="color:#383A42;--shiki-dark:#E06C75">  api</span><span style="color:#383A42;--shiki-dark:#ABB2BF">: </span><span style="color:#986801;--shiki-dark:#D19A66">null</span><span style="color:#383A42;--shiki-dark:#ABB2BF">, </span></span><span class="line"><span style="color:#383A42;--shiki-dark:#E06C75">  home_mini</span><span style="color:#383A42;--shiki-dark:#ABB2BF">: </span><span style="color:#986801;--shiki-dark:#D19A66">false</span><span style="color:#383A42;--shiki-dark:#ABB2BF">,</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#E06C75">  style</span><span style="color:#383A42;--shiki-dark:#ABB2BF">: </span><span style="color:#986801;--shiki-dark:#D19A66">1</span><span style="color:#383A42;--shiki-dark:#ABB2BF">,</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#E06C75">  strip</span><span style="color:#383A42;--shiki-dark:#ABB2BF">: </span><span style="color:#986801;--shiki-dark:#D19A66">30</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">&#125;,</span></span></code></pre></td></tr></tbody></table></figure><figure class="highlight javascript"><figcaption><span>solitude/scripts/filter/checkThemeConfig.js</span></figcaption><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre class="shiki shiki-themes one-light one-dark-pro has-diff"><span class="line"><span style="color:#383A42;--shiki-dark:#E5C07B">hexo</span><span style="color:#383A42;--shiki-dark:#ABB2BF">.</span><span style="color:#E45649;--shiki-dark:#E5C07B">extend</span><span style="color:#383A42;--shiki-dark:#ABB2BF">.</span><span style="color:#E45649;--shiki-dark:#E5C07B">filter</span><span style="color:#383A42;--shiki-dark:#ABB2BF">.</span><span style="color:#4078F2;--shiki-dark:#61AFEF">register</span><span style="color:#383A42;--shiki-dark:#ABB2BF">(</span><span style="color:#50A14F;--shiki-dark:#98C379">'before_post_render'</span><span style="color:#383A42;--shiki-dark:#ABB2BF">, () </span><span style="color:#A626A4;--shiki-dark:#C678DD">=></span><span style="color:#383A42;--shiki-dark:#ABB2BF"> &#123;</span></span><span class="line"><span style="color:#A626A4;--shiki-dark:#C678DD">  const</span><span style="color:#986801;--shiki-dark:#E5C07B"> data</span><span style="color:#0184BC;--shiki-dark:#56B6C2"> =</span><span style="color:#383A42;--shiki-dark:#E5C07B"> hexo</span><span style="color:#383A42;--shiki-dark:#ABB2BF">.</span><span style="color:#E45649;--shiki-dark:#E5C07B">locals</span><span style="color:#383A42;--shiki-dark:#ABB2BF">.</span><span style="color:#4078F2;--shiki-dark:#61AFEF">get</span><span style="color:#383A42;--shiki-dark:#ABB2BF">(</span><span style="color:#50A14F;--shiki-dark:#98C379">'data'</span><span style="color:#383A42;--shiki-dark:#ABB2BF">);</span></span><span class="line"><span style="color:#A626A4;--shiki-dark:#C678DD">  const</span><span style="color:#986801;--shiki-dark:#E5C07B"> logger</span><span style="color:#0184BC;--shiki-dark:#56B6C2"> =</span><span style="color:#383A42;--shiki-dark:#E5C07B"> hexo</span><span style="color:#383A42;--shiki-dark:#ABB2BF">.</span><span style="color:#E45649;--shiki-dark:#E06C75">log</span><span style="color:#383A42;--shiki-dark:#ABB2BF">;</span></span><span class="line"><span style="color:#A626A4;--shiki-dark:#C678DD">  const</span><span style="color:#986801;--shiki-dark:#E5C07B"> theme</span><span style="color:#0184BC;--shiki-dark:#56B6C2"> =</span><span style="color:#383A42;--shiki-dark:#E5C07B"> hexo</span><span style="color:#383A42;--shiki-dark:#ABB2BF">.</span><span style="color:#E45649;--shiki-dark:#E5C07B">theme</span><span style="color:#383A42;--shiki-dark:#ABB2BF">.</span><span style="color:#E45649;--shiki-dark:#E06C75">config</span><span style="color:#383A42;--shiki-dark:#ABB2BF">;</span></span><span class="line diff remove"><span style="color:#A626A4;--shiki-dark:#C678DD">  if</span><span style="color:#383A42;--shiki-dark:#ABB2BF"> (</span><span style="color:#383A42;--shiki-dark:#E5C07B">theme</span><span style="color:#383A42;--shiki-dark:#ABB2BF">.</span><span style="color:#E45649;--shiki-dark:#E5C07B">says</span><span style="color:#383A42;--shiki-dark:#ABB2BF">.</span><span style="color:#E45649;--shiki-dark:#E06C75">enable</span><span style="color:#0184BC;--shiki-dark:#56B6C2"> &#x26;&#x26;</span><span style="color:#0184BC;--shiki-dark:#56B6C2"> !</span><span style="color:#383A42;--shiki-dark:#E5C07B">data</span><span style="color:#383A42;--shiki-dark:#ABB2BF">.</span><span style="color:#E45649;--shiki-dark:#E06C75">essay</span><span style="color:#383A42;--shiki-dark:#ABB2BF">) &#123; </span></span><span class="line diff add"><span style="color:#A626A4;--shiki-dark:#C678DD">  if</span><span style="color:#383A42;--shiki-dark:#ABB2BF"> (</span><span style="color:#383A42;--shiki-dark:#E5C07B">theme</span><span style="color:#383A42;--shiki-dark:#ABB2BF">.</span><span style="color:#E45649;--shiki-dark:#E5C07B">says</span><span style="color:#383A42;--shiki-dark:#ABB2BF">.</span><span style="color:#E45649;--shiki-dark:#E06C75">enable</span><span style="color:#0184BC;--shiki-dark:#56B6C2"> &#x26;&#x26;</span><span style="color:#383A42;--shiki-dark:#E5C07B"> theme</span><span style="color:#383A42;--shiki-dark:#ABB2BF">.</span><span style="color:#E45649;--shiki-dark:#E5C07B">says</span><span style="color:#383A42;--shiki-dark:#ABB2BF">.</span><span style="color:#E45649;--shiki-dark:#E06C75">mode</span><span style="color:#0184BC;--shiki-dark:#56B6C2"> ===</span><span style="color:#50A14F;--shiki-dark:#98C379"> 'local'</span><span style="color:#0184BC;--shiki-dark:#56B6C2"> &#x26;&#x26;</span><span style="color:#0184BC;--shiki-dark:#56B6C2"> !</span><span style="color:#383A42;--shiki-dark:#E5C07B">data</span><span style="color:#383A42;--shiki-dark:#ABB2BF">.</span><span style="color:#E45649;--shiki-dark:#E06C75">essay</span><span style="color:#383A42;--shiki-dark:#ABB2BF">) &#123; </span></span><span class="line"><span style="color:#383A42;--shiki-dark:#E5C07B">    logger</span><span style="color:#383A42;--shiki-dark:#ABB2BF">.</span><span style="color:#4078F2;--shiki-dark:#61AFEF">error</span><span style="color:#383A42;--shiki-dark:#ABB2BF">(</span><span style="color:#50A14F;--shiki-dark:#98C379">'</span><span style="color:#0184BC;--shiki-dark:#56B6C2">\n</span><span style="color:#50A14F;--shiki-dark:#98C379"> 启用即刻短文的情况下，请新建 essay.yaml。'</span><span style="color:#383A42;--shiki-dark:#ABB2BF">);</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#E5C07B">    logger</span><span style="color:#383A42;--shiki-dark:#ABB2BF">.</span><span style="color:#4078F2;--shiki-dark:#61AFEF">error</span><span style="color:#383A42;--shiki-dark:#ABB2BF">(</span><span style="color:#50A14F;--shiki-dark:#98C379">'</span><span style="color:#0184BC;--shiki-dark:#56B6C2">\n</span><span style="color:#50A14F;--shiki-dark:#98C379"> If says is enabled, essay data must be supplied! </span><span style="color:#0184BC;--shiki-dark:#56B6C2">\n</span><span style="color:#50A14F;--shiki-dark:#98C379"> Please create essay.yaml.'</span><span style="color:#383A42;--shiki-dark:#ABB2BF">);</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#E5C07B">    process</span><span style="color:#383A42;--shiki-dark:#ABB2BF">.</span><span style="color:#4078F2;--shiki-dark:#61AFEF">exit</span><span style="color:#383A42;--shiki-dark:#ABB2BF">(</span><span style="color:#0184BC;--shiki-dark:#56B6C2">-</span><span style="color:#986801;--shiki-dark:#D19A66">1</span><span style="color:#383A42;--shiki-dark:#ABB2BF">);</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">  &#125;</span></span></code></pre></td></tr></tbody></table></figure><figure class="highlight pug"><figcaption><span>solitude/layout/includes/widgets/home/bbTimeList.pug</span></figcaption><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre class="shiki shiki-themes one-light one-dark-pro has-diff"><span class="line"><span style="color:#986801;--shiki-dark:#D19A66">.bbTimeList.container</span><span style="color:#4078F2;--shiki-dark:#61AFEF">#bbTimeList</span><span style="color:#986801;--shiki-dark:#D19A66">(class</span><span style="color:#383A42;--shiki-dark:#ABB2BF">=</span><span style="color:#4078F2;--shiki-dark:#61AFEF">is_home_first_page</span><span style="color:#383A42;--shiki-dark:#ABB2BF">() </span><span style="color:#383A42;--shiki-dark:#C678DD">?</span><span style="color:#50A14F;--shiki-dark:#98C379"> ''</span><span style="color:#383A42;--shiki-dark:#C678DD"> :</span><span style="color:#50A14F;--shiki-dark:#98C379"> 'more-page'</span><span style="color:#986801;--shiki-dark:#D19A66">)</span></span><span class="line"><span style="color:#E45649;--shiki-dark:#E06C75">    i</span><span style="color:#986801;--shiki-dark:#D19A66">.bber-logo.solitude.fa-solid.fa-newspaper(onclick</span><span style="color:#383A42;--shiki-dark:#ABB2BF">=</span><span style="color:#50A14F;--shiki-dark:#98C379">`pjax.loadUrl('</span><span style="color:#CA1243;--shiki-dark:#C678DD">$&#123;</span><span style="color:#4078F2;--shiki-dark:#61AFEF">url_for</span><span style="color:#383A42;--shiki-dark:#ABB2BF">(</span><span style="color:#383A42;--shiki-dark:#E5C07B">theme</span><span style="color:#50A14F;--shiki-dark:#ABB2BF">.</span><span style="color:#E45649;--shiki-dark:#E5C07B">says</span><span style="color:#50A14F;--shiki-dark:#ABB2BF">.</span><span style="color:#E45649;--shiki-dark:#E06C75">page</span><span style="color:#383A42;--shiki-dark:#ABB2BF">)</span><span style="color:#CA1243;--shiki-dark:#C678DD">&#125;</span><span style="color:#50A14F;--shiki-dark:#98C379">')`</span><span style="color:#986801;--shiki-dark:#D19A66">)</span></span><span class="line"><span style="color:#986801;--shiki-dark:#D19A66">    .swiper-container.swiper-no-swiping.swiper-container-initialized.swiper-container-vertical.swiper-container-pointer-events</span><span style="color:#4078F2;--shiki-dark:#61AFEF">#bbtalk</span><span style="color:#986801;--shiki-dark:#D19A66">(tabindex</span><span style="color:#383A42;--shiki-dark:#ABB2BF">=</span><span style="color:#50A14F;--shiki-dark:#98C379">"-1"</span><span style="color:#986801;--shiki-dark:#D19A66"> onclick</span><span style="color:#383A42;--shiki-dark:#ABB2BF">=</span><span style="color:#50A14F;--shiki-dark:#98C379">`pjax.loadUrl('</span><span style="color:#CA1243;--shiki-dark:#C678DD">$&#123;</span><span style="color:#4078F2;--shiki-dark:#61AFEF">url_for</span><span style="color:#383A42;--shiki-dark:#ABB2BF">(</span><span style="color:#383A42;--shiki-dark:#E5C07B">theme</span><span style="color:#50A14F;--shiki-dark:#ABB2BF">.</span><span style="color:#E45649;--shiki-dark:#E5C07B">says</span><span style="color:#50A14F;--shiki-dark:#ABB2BF">.</span><span style="color:#E45649;--shiki-dark:#E06C75">page</span><span style="color:#383A42;--shiki-dark:#ABB2BF">)</span><span style="color:#CA1243;--shiki-dark:#C678DD">&#125;</span><span style="color:#50A14F;--shiki-dark:#98C379">')`</span><span style="color:#986801;--shiki-dark:#D19A66">)</span></span><span class="line"><span style="color:#986801;--shiki-dark:#D19A66">        .swiper-wrapper</span><span style="color:#4078F2;--shiki-dark:#61AFEF">#bber-talk</span></span><span class="line diff add"><span style="color:#A626A4;--shiki-dark:#C678DD">            if</span><span style="color:#383A42;--shiki-dark:#E5C07B"> theme</span><span style="color:#383A42;--shiki-dark:#ABB2BF">.</span><span style="color:#E45649;--shiki-dark:#E5C07B">says</span><span style="color:#383A42;--shiki-dark:#ABB2BF">.</span><span style="color:#E45649;--shiki-dark:#E06C75">mode</span><span style="color:#383A42;--shiki-dark:#56B6C2"> ===</span><span style="color:#50A14F;--shiki-dark:#98C379"> 'local'</span></span><span class="line"><span style="color:#A626A4;--shiki-dark:#C678DD">                each</span><span style="color:#E45649;--shiki-dark:#E06C75"> item, i</span><span style="color:#A626A4;--shiki-dark:#C678DD"> in</span><span style="color:#383A42;--shiki-dark:#E5C07B"> site</span><span style="color:#383A42;--shiki-dark:#ABB2BF">.</span><span style="color:#E45649;--shiki-dark:#E5C07B">data</span><span style="color:#383A42;--shiki-dark:#ABB2BF">.</span><span style="color:#E45649;--shiki-dark:#E5C07B">essay</span><span style="color:#383A42;--shiki-dark:#ABB2BF">.</span><span style="color:#E45649;--shiki-dark:#E5C07B">essay_list</span><span style="color:#383A42;--shiki-dark:#ABB2BF">.</span><span style="color:#4078F2;--shiki-dark:#61AFEF">slice</span><span style="color:#383A42;--shiki-dark:#ABB2BF">(</span><span style="color:#986801;--shiki-dark:#D19A66">0</span><span style="color:#383A42;--shiki-dark:#ABB2BF">, </span><span style="color:#986801;--shiki-dark:#D19A66">10</span><span style="color:#383A42;--shiki-dark:#ABB2BF">)</span></span><span class="line"><span style="color:#986801;--shiki-dark:#D19A66">                    .li-style.swiper-slide</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">                        | </span><span style="color:#50A14F;--shiki-dark:#98C379">#&#123;</span><span style="color:#383A42;--shiki-dark:#E5C07B">item</span><span style="color:#50A14F;--shiki-dark:#98C379">.</span><span style="color:#E45649;--shiki-dark:#E06C75">content</span><span style="color:#50A14F;--shiki-dark:#98C379">&#125;</span></span><span class="line"><span style="color:#A626A4;--shiki-dark:#C678DD">                        if</span><span style="color:#383A42;--shiki-dark:#E5C07B"> item</span><span style="color:#383A42;--shiki-dark:#ABB2BF">.</span><span style="color:#E45649;--shiki-dark:#E06C75">image</span></span><span class="line"><span style="color:#E45649;--shiki-dark:#E06C75">                            i</span><span style="color:#986801;--shiki-dark:#D19A66">.solitude.fa-solid.fa-image</span></span><span class="line"><span style="color:#A626A4;--shiki-dark:#C678DD">                        else if</span><span style="color:#383A42;--shiki-dark:#E5C07B"> item</span><span style="color:#383A42;--shiki-dark:#ABB2BF">.</span><span style="color:#E45649;--shiki-dark:#E06C75">aplayer</span></span><span class="line"><span style="color:#E45649;--shiki-dark:#E06C75">                            i</span><span style="color:#986801;--shiki-dark:#D19A66">.solitude.fa-solid.fa-disc</span></span><span class="line"><span style="color:#A626A4;--shiki-dark:#C678DD">                        else if</span><span style="color:#383A42;--shiki-dark:#E5C07B"> item</span><span style="color:#383A42;--shiki-dark:#ABB2BF">.</span><span style="color:#E45649;--shiki-dark:#E06C75">video</span><span style="color:#383A42;--shiki-dark:#56B6C2"> ||</span><span style="color:#383A42;--shiki-dark:#E5C07B"> item</span><span style="color:#383A42;--shiki-dark:#ABB2BF">.</span><span style="color:#E45649;--shiki-dark:#E06C75">bilibili</span></span><span class="line"><span style="color:#E45649;--shiki-dark:#E06C75">                            i</span><span style="color:#986801;--shiki-dark:#D19A66">.solitude.fa-solid.fa-video</span></span><span class="line"><span style="color:#A626A4;--shiki-dark:#C678DD">                        else if</span><span style="color:#383A42;--shiki-dark:#E5C07B"> item</span><span style="color:#383A42;--shiki-dark:#ABB2BF">.</span><span style="color:#E45649;--shiki-dark:#E06C75">link</span></span><span class="line"><span style="color:#E45649;--shiki-dark:#E06C75">                            i</span><span style="color:#986801;--shiki-dark:#D19A66">.solitude.fa-solid.fa-link</span></span><span class="line diff add"><span style="color:#A626A4;--shiki-dark:#C678DD">            else</span></span><span class="line diff add"><span style="color:#986801;--shiki-dark:#D19A66">                .li-style.bber-loading(style</span><span style="color:#383A42;--shiki-dark:#ABB2BF">=</span><span style="color:#50A14F;--shiki-dark:#98C379">"text-align: center"</span><span style="color:#986801;--shiki-dark:#D19A66">)</span><span style="color:#383A42;--shiki-dark:#ABB2BF"> Loading...</span></span><span class="line diff add"><span style="color:#E45649;--shiki-dark:#E06C75">                script</span><span style="color:#986801;--shiki-dark:#D19A66">.</span></span><span class="line diff add"><span style="color:#383A42;--shiki-dark:#ABB2BF">                    (async function () &#123;</span></span><span class="line diff add"><span style="color:#E45649;--shiki-dark:#E06C75">                        const</span><span style="color:#383A42;--shiki-dark:#ABB2BF"> response = await fetch('</span><span style="color:#50A14F;--shiki-dark:#98C379">!&#123;</span><span style="color:#4078F2;--shiki-dark:#61AFEF">url_for</span><span style="color:#383A42;--shiki-dark:#98C379">(</span><span style="color:#383A42;--shiki-dark:#E5C07B">theme</span><span style="color:#50A14F;--shiki-dark:#98C379">.</span><span style="color:#E45649;--shiki-dark:#E5C07B">says</span><span style="color:#50A14F;--shiki-dark:#98C379">.</span><span style="color:#E45649;--shiki-dark:#E06C75">api</span><span style="color:#383A42;--shiki-dark:#98C379">)</span><span style="color:#50A14F;--shiki-dark:#98C379">&#125;</span><span style="color:#383A42;--shiki-dark:#ABB2BF">');</span></span><span class="line diff add"><span style="color:#E45649;--shiki-dark:#E06C75">                        const</span><span style="color:#383A42;--shiki-dark:#ABB2BF"> data = await response.json();</span></span><span class="line diff add"><span style="color:#E45649;--shiki-dark:#E06C75">                        const</span><span style="color:#383A42;--shiki-dark:#ABB2BF"> list = data.memos.slice(0, 10).map(item =</span><span style="color:white;--shiki-dark:#FFFFFF">></span><span style="color:#383A42;--shiki-dark:#ABB2BF"> &#123;</span></span><span class="line diff add"><span style="color:#E45649;--shiki-dark:#E06C75">                            let</span><span style="color:#383A42;--shiki-dark:#ABB2BF"> type = item.image ? '【图片】' : item.aplayer ? '【音乐】' : item.video ? '【视频】' : '';</span></span><span class="line diff add"><span style="color:#E45649;--shiki-dark:#E06C75">                            return</span><span style="color:#383A42;--shiki-dark:#ABB2BF"> `&#x3C;</span><span style="color:#E45649;--shiki-dark:#E06C75">div</span><span style="color:#986801;--shiki-dark:#D19A66"> class</span><span style="color:#383A42;--shiki-dark:#ABB2BF">=</span><span style="color:#50A14F;--shiki-dark:#98C379">"li-style swiper-slide"</span><span style="color:#383A42;--shiki-dark:#ABB2BF">>$&#123;item.content + type&#125;&#x3C;/</span><span style="color:#E45649;--shiki-dark:#E06C75">div</span><span style="color:#383A42;--shiki-dark:#ABB2BF">>`</span></span><span class="line diff add"><span style="color:#383A42;--shiki-dark:#ABB2BF">                        &#125;);</span></span><span class="line diff add"><span style="color:#E45649;--shiki-dark:#E06C75">                        document</span><span style="color:#986801;--shiki-dark:#D19A66">.querySelector('#bber-talk').innerHTML</span><span style="color:#383A42;--shiki-dark:#ABB2BF"> = list.join(' ');</span></span><span class="line diff add"><span style="color:#383A42;--shiki-dark:#ABB2BF">                    &#125;)()</span></span><span class="line"><span style="color:#E45649;--shiki-dark:#E06C75">    i</span><span style="color:#986801;--shiki-dark:#D19A66">.bber-gotobb.solitude.fa-solid.fa-circle-chevron-right(title</span><span style="color:#383A42;--shiki-dark:#ABB2BF">=</span><span style="color:#4078F2;--shiki-dark:#61AFEF">_p</span><span style="color:#383A42;--shiki-dark:#ABB2BF">(</span><span style="color:#50A14F;--shiki-dark:#98C379">'home.bbtime.text'</span><span style="color:#383A42;--shiki-dark:#ABB2BF">) </span><span style="color:#986801;--shiki-dark:#D19A66">onclick</span><span style="color:#383A42;--shiki-dark:#ABB2BF">=</span><span style="color:#50A14F;--shiki-dark:#98C379">`pjax.loadUrl('</span><span style="color:#CA1243;--shiki-dark:#C678DD">$&#123;</span><span style="color:#4078F2;--shiki-dark:#61AFEF">url_for</span><span style="color:#383A42;--shiki-dark:#ABB2BF">(</span><span style="color:#383A42;--shiki-dark:#E5C07B">theme</span><span style="color:#50A14F;--shiki-dark:#ABB2BF">.</span><span style="color:#E45649;--shiki-dark:#E5C07B">says</span><span style="color:#50A14F;--shiki-dark:#ABB2BF">.</span><span style="color:#E45649;--shiki-dark:#E06C75">page</span><span style="color:#383A42;--shiki-dark:#ABB2BF">)</span><span style="color:#CA1243;--shiki-dark:#C678DD">&#125;</span><span style="color:#50A14F;--shiki-dark:#98C379">')`</span><span style="color:#986801;--shiki-dark:#D19A66">)</span></span></code></pre></td></tr></tbody></table></figure><figure class="highlight pug"><figcaption><span>solitude/layout/includes/page/says.pug</span></figcaption><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br><span class="line">222</span><br><span class="line">223</span><br><span class="line">224</span><br><span class="line">225</span><br><span class="line">226</span><br><span class="line">227</span><br><span class="line">228</span><br><span class="line">229</span><br><span class="line">230</span><br><span class="line">231</span><br><span class="line">232</span><br><span class="line">233</span><br><span class="line">234</span><br><span class="line">235</span><br><span class="line">236</span><br><span class="line">237</span><br><span class="line">238</span><br><span class="line">239</span><br><span class="line">240</span><br><span class="line">241</span><br><span class="line">242</span><br><span class="line">243</span><br><span class="line">244</span><br><span class="line">245</span><br><span class="line">246</span><br><span class="line">247</span><br><span class="line">248</span><br><span class="line">249</span><br><span class="line">250</span><br><span class="line">251</span><br><span class="line">252</span><br><span class="line">253</span><br><span class="line">254</span><br><span class="line">255</span><br><span class="line">256</span><br><span class="line">257</span><br><span class="line">258</span><br></pre></td><td class="code"><pre class="shiki shiki-themes one-light one-dark-pro has-diff"><span class="line"><span style="color:#A626A4;--shiki-dark:#C678DD">include</span><span style="color:#E45649;--shiki-dark:#E06C75"> ../widgets/page/banner</span></span><span class="line"><span style="color:#A626A4;--shiki-dark:#C678DD">if</span><span style="color:#383A42;--shiki-dark:#E5C07B"> theme</span><span style="color:#383A42;--shiki-dark:#ABB2BF">.</span><span style="color:#E45649;--shiki-dark:#E5C07B">says</span><span style="color:#383A42;--shiki-dark:#ABB2BF">.</span><span style="color:#E45649;--shiki-dark:#E06C75">enable</span></span><span class="line"><span style="color:#4078F2;--shiki-dark:#61AFEF">    #bber</span></span><span class="line"><span style="color:#E45649;--shiki-dark:#E06C75">        section</span><span style="color:#986801;--shiki-dark:#D19A66">.timeline.page-1</span></span><span class="line diff add"><span style="color:#A626A4;--shiki-dark:#C678DD">            if</span><span style="color:#383A42;--shiki-dark:#E5C07B"> theme</span><span style="color:#383A42;--shiki-dark:#ABB2BF">.</span><span style="color:#E45649;--shiki-dark:#E5C07B">says</span><span style="color:#383A42;--shiki-dark:#ABB2BF">.</span><span style="color:#E45649;--shiki-dark:#E06C75">mode</span><span style="color:#383A42;--shiki-dark:#56B6C2"> ===</span><span style="color:#50A14F;--shiki-dark:#98C379"> 'local'</span></span><span class="line"><span style="color:#E45649;--shiki-dark:#E06C75">                ul</span><span style="color:#986801;--shiki-dark:#D19A66">.list.waterfall</span></span><span class="line"><span style="color:#50A14F;--shiki-dark:#98C379">                    // 原封不动的代码太多，省略了</span></span><span class="line"><span style="color:#4078F2;--shiki-dark:#61AFEF">                #bber-tips</span></span><span class="line"><span style="color:#A626A4;--shiki-dark:#C678DD">                    if</span><span style="color:#383A42;--shiki-dark:#E5C07B"> theme</span><span style="color:#383A42;--shiki-dark:#ABB2BF">.</span><span style="color:#E45649;--shiki-dark:#E5C07B">says</span><span style="color:#383A42;--shiki-dark:#ABB2BF">.</span><span style="color:#E45649;--shiki-dark:#E06C75">strip</span><span style="color:#383A42;--shiki-dark:#56B6C2"> ===</span><span style="color:#383A42;--shiki-dark:#56B6C2"> -</span><span style="color:#986801;--shiki-dark:#D19A66">1</span></span><span class="line"><span style="color:#986801;--shiki-dark:#D19A66">                        =</span><span style="color:#4078F2;--shiki-dark:#61AFEF"> _p</span><span style="color:#383A42;--shiki-dark:#ABB2BF">(</span><span style="color:#50A14F;--shiki-dark:#98C379">'essay.tip0'</span><span style="color:#383A42;--shiki-dark:#ABB2BF">)</span></span><span class="line"><span style="color:#A626A4;--shiki-dark:#C678DD">                    else</span></span><span class="line"><span style="color:#986801;--shiki-dark:#D19A66">                        =</span><span style="color:#4078F2;--shiki-dark:#61AFEF"> _p</span><span style="color:#383A42;--shiki-dark:#ABB2BF">(</span><span style="color:#50A14F;--shiki-dark:#98C379">'essay.tip1'</span><span style="color:#383A42;--shiki-dark:#ABB2BF">).</span><span style="color:#4078F2;--shiki-dark:#61AFEF">replace</span><span style="color:#383A42;--shiki-dark:#ABB2BF">(</span><span style="color:#50A14F;--shiki-dark:#98C379">'&#123;count&#125;'</span><span style="color:#383A42;--shiki-dark:#ABB2BF">, </span><span style="color:#383A42;--shiki-dark:#E5C07B">theme</span><span style="color:#383A42;--shiki-dark:#ABB2BF">.</span><span style="color:#E45649;--shiki-dark:#E5C07B">says</span><span style="color:#383A42;--shiki-dark:#ABB2BF">.</span><span style="color:#E45649;--shiki-dark:#E06C75">strip</span><span style="color:#383A42;--shiki-dark:#ABB2BF">)</span></span><span class="line diff add"><span style="color:#A626A4;--shiki-dark:#C678DD">            else</span></span><span class="line"><span style="color:#50A14F;--shiki-dark:#98C379">                // 下面全是新加的，我就不标记了</span></span><span class="line"><span style="color:#E45649;--shiki-dark:#E06C75">                ul</span><span style="color:#986801;--shiki-dark:#D19A66">.list.waterfall</span></span><span class="line"><span style="color:#E45649;--shiki-dark:#E06C75">                script</span><span style="color:#383A42;--shiki-dark:#ABB2BF">.</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">                    (</span><span style="color:#A626A4;--shiki-dark:#C678DD">async</span><span style="color:#A626A4;--shiki-dark:#C678DD"> function</span><span style="color:#383A42;--shiki-dark:#ABB2BF"> () &#123;</span></span><span class="line"><span style="color:#A626A4;--shiki-dark:#C678DD">                        const</span><span style="color:#986801;--shiki-dark:#E5C07B"> strip</span><span style="color:#383A42;--shiki-dark:#56B6C2"> =</span><span style="color:#383A42;--shiki-dark:#56B6C2"> !</span><span style="color:#383A42;--shiki-dark:#ABB2BF">&#123; theme.says.</span><span style="color:#383A42;--shiki-dark:#E06C75">strip</span><span style="color:#383A42;--shiki-dark:#ABB2BF"> &#125;;</span></span><span class="line"><span style="color:#A626A4;--shiki-dark:#C678DD">                        let</span><span style="color:#383A42;--shiki-dark:#E06C75"> url</span><span style="color:#383A42;--shiki-dark:#56B6C2"> =</span><span style="color:#50A14F;--shiki-dark:#98C379"> `!&#123;url_for(theme.says.api)&#125;?pageSize=</span><span style="color:#CA1243;--shiki-dark:#C678DD">$&#123;</span><span style="color:#383A42;--shiki-dark:#E06C75">strip</span><span style="color:#383A42;--shiki-dark:#56B6C2"> ===</span><span style="color:#383A42;--shiki-dark:#56B6C2"> -</span><span style="color:#986801;--shiki-dark:#D19A66">1</span><span style="color:#383A42;--shiki-dark:#C678DD"> ?</span><span style="color:#986801;--shiki-dark:#D19A66"> 65535</span><span style="color:#383A42;--shiki-dark:#C678DD"> :</span><span style="color:#383A42;--shiki-dark:#E06C75"> strip</span><span style="color:#CA1243;--shiki-dark:#C678DD">&#125;</span><span style="color:#50A14F;--shiki-dark:#98C379">`</span><span style="color:#383A42;--shiki-dark:#ABB2BF">;</span></span><span class="line"><span style="color:#A626A4;--shiki-dark:#C678DD">                        const</span><span style="color:#986801;--shiki-dark:#E5C07B"> baseUrl</span><span style="color:#383A42;--shiki-dark:#56B6C2"> =</span><span style="color:#383A42;--shiki-dark:#E5C07B"> url</span><span style="color:#383A42;--shiki-dark:#ABB2BF">.</span><span style="color:#4078F2;--shiki-dark:#61AFEF">substring</span><span style="color:#383A42;--shiki-dark:#ABB2BF">(</span><span style="color:#986801;--shiki-dark:#D19A66">0</span><span style="color:#383A42;--shiki-dark:#ABB2BF">, </span><span style="color:#383A42;--shiki-dark:#E5C07B">url</span><span style="color:#383A42;--shiki-dark:#ABB2BF">.</span><span style="color:#4078F2;--shiki-dark:#61AFEF">indexOf</span><span style="color:#383A42;--shiki-dark:#ABB2BF">(</span><span style="color:#50A14F;--shiki-dark:#98C379">"/"</span><span style="color:#383A42;--shiki-dark:#ABB2BF">, </span><span style="color:#383A42;--shiki-dark:#E5C07B">url</span><span style="color:#383A42;--shiki-dark:#ABB2BF">.</span><span style="color:#4078F2;--shiki-dark:#61AFEF">indexOf</span><span style="color:#383A42;--shiki-dark:#ABB2BF">(</span><span style="color:#50A14F;--shiki-dark:#98C379">"//"</span><span style="color:#383A42;--shiki-dark:#ABB2BF">) </span><span style="color:#383A42;--shiki-dark:#56B6C2">+</span><span style="color:#986801;--shiki-dark:#D19A66"> 2</span><span style="color:#383A42;--shiki-dark:#ABB2BF">));</span></span><span class="line"><span style="color:#A626A4;--shiki-dark:#C678DD">                        const</span><span style="color:#986801;--shiki-dark:#E5C07B"> response</span><span style="color:#383A42;--shiki-dark:#56B6C2"> =</span><span style="color:#A626A4;--shiki-dark:#C678DD"> await</span><span style="color:#4078F2;--shiki-dark:#61AFEF"> fetch</span><span style="color:#383A42;--shiki-dark:#ABB2BF">(</span><span style="color:#383A42;--shiki-dark:#E06C75">url</span><span style="color:#383A42;--shiki-dark:#ABB2BF">);</span></span><span class="line"><span style="color:#A626A4;--shiki-dark:#C678DD">                        const</span><span style="color:#986801;--shiki-dark:#E5C07B"> data</span><span style="color:#383A42;--shiki-dark:#56B6C2"> =</span><span style="color:#A626A4;--shiki-dark:#C678DD"> await</span><span style="color:#383A42;--shiki-dark:#E5C07B"> response</span><span style="color:#383A42;--shiki-dark:#ABB2BF">.</span><span style="color:#4078F2;--shiki-dark:#61AFEF">json</span><span style="color:#383A42;--shiki-dark:#ABB2BF">();</span></span><span class="line"><span style="color:#A626A4;--shiki-dark:#C678DD">                        let</span><span style="color:#383A42;--shiki-dark:#E06C75"> items</span><span style="color:#383A42;--shiki-dark:#56B6C2"> =</span><span style="color:#383A42;--shiki-dark:#ABB2BF"> [],</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#E06C75">                            topitem</span><span style="color:#383A42;--shiki-dark:#56B6C2"> =</span><span style="color:#383A42;--shiki-dark:#ABB2BF"> [],</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#E06C75">                            essayTips</span><span style="color:#383A42;--shiki-dark:#56B6C2"> =</span><span style="color:#50A14F;--shiki-dark:#98C379"> ""</span><span style="color:#383A42;--shiki-dark:#ABB2BF">;</span></span><span class="line"></span><span class="line"><span style="color:#A626A4;--shiki-dark:#C678DD">                        await</span><span style="color:#C18401;--shiki-dark:#E5C07B"> Promise</span><span style="color:#383A42;--shiki-dark:#ABB2BF">.</span><span style="color:#4078F2;--shiki-dark:#61AFEF">all</span><span style="color:#383A42;--shiki-dark:#ABB2BF">(</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#E5C07B">                            data</span><span style="color:#383A42;--shiki-dark:#ABB2BF">.</span><span style="color:#E45649;--shiki-dark:#E5C07B">memos</span><span style="color:#383A42;--shiki-dark:#ABB2BF">.</span><span style="color:#4078F2;--shiki-dark:#61AFEF">map</span><span style="color:#383A42;--shiki-dark:#ABB2BF">(</span><span style="color:#A626A4;--shiki-dark:#C678DD">async</span><span style="color:#383A42;--shiki-dark:#ABB2BF"> (</span><span style="color:#383A42;font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic">item</span><span style="color:#383A42;--shiki-dark:#ABB2BF">) </span><span style="color:#A626A4;--shiki-dark:#C678DD">=></span><span style="color:#383A42;--shiki-dark:#ABB2BF"> &#123;</span></span><span class="line"><span style="color:#A626A4;--shiki-dark:#C678DD">                                const</span><span style="color:#986801;--shiki-dark:#E5C07B"> formatdata</span><span style="color:#383A42;--shiki-dark:#56B6C2"> =</span><span style="color:#A626A4;--shiki-dark:#C678DD"> await</span><span style="color:#4078F2;--shiki-dark:#61AFEF"> essayFormat</span><span style="color:#383A42;--shiki-dark:#ABB2BF">(</span><span style="color:#383A42;--shiki-dark:#E06C75">item</span><span style="color:#383A42;--shiki-dark:#ABB2BF">, </span><span style="color:#383A42;--shiki-dark:#E06C75">baseUrl</span><span style="color:#383A42;--shiki-dark:#ABB2BF">);</span></span><span class="line"><span style="color:#A626A4;--shiki-dark:#C678DD">                                if</span><span style="color:#383A42;--shiki-dark:#ABB2BF"> (</span><span style="color:#383A42;--shiki-dark:#56B6C2">!</span><span style="color:#383A42;--shiki-dark:#E06C75">formatdata</span><span style="color:#383A42;--shiki-dark:#ABB2BF">) </span><span style="color:#A626A4;--shiki-dark:#C678DD">return</span><span style="color:#986801;--shiki-dark:#D19A66"> null</span><span style="color:#383A42;--shiki-dark:#ABB2BF">;</span></span><span class="line"><span style="color:#A626A4;--shiki-dark:#C678DD">                                if</span><span style="color:#383A42;--shiki-dark:#ABB2BF"> (</span><span style="color:#383A42;--shiki-dark:#E5C07B">item</span><span style="color:#383A42;--shiki-dark:#ABB2BF">.</span><span style="color:#E45649;--shiki-dark:#E5C07B">content</span><span style="color:#383A42;--shiki-dark:#ABB2BF">.</span><span style="color:#4078F2;--shiki-dark:#61AFEF">includes</span><span style="color:#383A42;--shiki-dark:#ABB2BF">(</span><span style="color:#50A14F;--shiki-dark:#98C379">"#top"</span><span style="color:#383A42;--shiki-dark:#ABB2BF">)) &#123;</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#E5C07B">                                    topitem</span><span style="color:#383A42;--shiki-dark:#ABB2BF">.</span><span style="color:#4078F2;--shiki-dark:#61AFEF">push</span><span style="color:#383A42;--shiki-dark:#ABB2BF">(</span><span style="color:#383A42;--shiki-dark:#E06C75">formatdata</span><span style="color:#383A42;--shiki-dark:#ABB2BF">);</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">                                &#125; </span><span style="color:#A626A4;--shiki-dark:#C678DD">else</span><span style="color:#383A42;--shiki-dark:#ABB2BF"> &#123;</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#E5C07B">                                    items</span><span style="color:#383A42;--shiki-dark:#ABB2BF">.</span><span style="color:#4078F2;--shiki-dark:#61AFEF">push</span><span style="color:#383A42;--shiki-dark:#ABB2BF">(</span><span style="color:#383A42;--shiki-dark:#E06C75">formatdata</span><span style="color:#383A42;--shiki-dark:#ABB2BF">);</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">                                &#125;</span></span><span class="line"><span style="color:#A626A4;--shiki-dark:#C678DD">                                return</span><span style="color:#383A42;--shiki-dark:#E06C75"> formatdata</span><span style="color:#383A42;--shiki-dark:#ABB2BF">;</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">                            &#125;)</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">                        );</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#E06C75">                        essayTips</span><span style="color:#383A42;--shiki-dark:#56B6C2"> =</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#E06C75">                            strip</span><span style="color:#383A42;--shiki-dark:#56B6C2"> ===</span><span style="color:#383A42;--shiki-dark:#56B6C2"> -</span><span style="color:#986801;--shiki-dark:#D19A66">1</span><span style="color:#383A42;--shiki-dark:#56B6C2"> ||</span><span style="color:#383A42;--shiki-dark:#E06C75"> strip</span><span style="color:#383A42;--shiki-dark:#56B6C2"> >=</span><span style="color:#383A42;--shiki-dark:#E5C07B"> items</span><span style="color:#383A42;--shiki-dark:#ABB2BF">.</span><span style="color:#E45649;--shiki-dark:#E06C75">length</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#C678DD">                                ?</span><span style="color:#50A14F;--shiki-dark:#98C379"> `&#x3C;div id="bber-tips">- 已展开所有短文 -&#x3C;/div>`</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#C678DD">                                :</span><span style="color:#383A42;--shiki-dark:#ABB2BF"> ((</span><span style="color:#383A42;--shiki-dark:#E06C75">items</span><span style="color:#383A42;--shiki-dark:#56B6C2"> =</span><span style="color:#383A42;--shiki-dark:#E5C07B"> items</span><span style="color:#383A42;--shiki-dark:#ABB2BF">.</span><span style="color:#4078F2;--shiki-dark:#61AFEF">slice</span><span style="color:#383A42;--shiki-dark:#ABB2BF">(</span><span style="color:#986801;--shiki-dark:#D19A66">0</span><span style="color:#383A42;--shiki-dark:#ABB2BF">, </span><span style="color:#383A42;--shiki-dark:#E06C75">strip</span><span style="color:#383A42;--shiki-dark:#ABB2BF">)),</span></span><span class="line"><span style="color:#50A14F;--shiki-dark:#98C379">                                    `&#x3C;div id="bber-tips">- 只展示最近 </span><span style="color:#CA1243;--shiki-dark:#C678DD">$&#123;</span><span style="color:#383A42;--shiki-dark:#E06C75">strip</span><span style="color:#CA1243;--shiki-dark:#C678DD">&#125;</span><span style="color:#50A14F;--shiki-dark:#98C379"> 条短文 -&#x3C;/div>`</span><span style="color:#383A42;--shiki-dark:#ABB2BF">);</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#E5C07B">                        document</span><span style="color:#383A42;--shiki-dark:#ABB2BF">.</span><span style="color:#4078F2;--shiki-dark:#61AFEF">getElementsByClassName</span><span style="color:#383A42;--shiki-dark:#ABB2BF">(</span><span style="color:#50A14F;--shiki-dark:#98C379">"list"</span><span style="color:#383A42;--shiki-dark:#ABB2BF">)[</span><span style="color:#986801;--shiki-dark:#D19A66">0</span><span style="color:#383A42;--shiki-dark:#ABB2BF">].</span><span style="color:#E45649;--shiki-dark:#E06C75">innerHTML</span><span style="color:#383A42;--shiki-dark:#56B6C2"> =</span><span style="color:#383A42;--shiki-dark:#E06C75"> topitem</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">                            .</span><span style="color:#4078F2;--shiki-dark:#61AFEF">concat</span><span style="color:#383A42;--shiki-dark:#ABB2BF">(</span><span style="color:#383A42;--shiki-dark:#E06C75">items</span><span style="color:#383A42;--shiki-dark:#ABB2BF">)</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">                            .</span><span style="color:#4078F2;--shiki-dark:#61AFEF">filter</span><span style="color:#383A42;--shiki-dark:#ABB2BF">((</span><span style="color:#383A42;font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic">item</span><span style="color:#383A42;--shiki-dark:#ABB2BF">) </span><span style="color:#A626A4;--shiki-dark:#C678DD">=></span><span style="color:#383A42;--shiki-dark:#E06C75"> item</span><span style="color:#383A42;--shiki-dark:#56B6C2"> !==</span><span style="color:#986801;--shiki-dark:#D19A66"> null</span><span style="color:#383A42;--shiki-dark:#ABB2BF">)</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">                            .</span><span style="color:#4078F2;--shiki-dark:#61AFEF">join</span><span style="color:#383A42;--shiki-dark:#ABB2BF">(</span><span style="color:#50A14F;--shiki-dark:#98C379">""</span><span style="color:#383A42;--shiki-dark:#ABB2BF">);</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#E5C07B">                        document</span><span style="color:#383A42;--shiki-dark:#ABB2BF">.</span><span style="color:#4078F2;--shiki-dark:#61AFEF">querySelector</span><span style="color:#383A42;--shiki-dark:#ABB2BF">(</span><span style="color:#50A14F;--shiki-dark:#98C379">"#bber"</span><span style="color:#383A42;--shiki-dark:#ABB2BF">).</span><span style="color:#4078F2;--shiki-dark:#61AFEF">insertAdjacentHTML</span><span style="color:#383A42;--shiki-dark:#ABB2BF">(</span><span style="color:#50A14F;--shiki-dark:#98C379">"beforeend"</span><span style="color:#383A42;--shiki-dark:#ABB2BF">, </span><span style="color:#383A42;--shiki-dark:#E06C75">essayTips</span><span style="color:#383A42;--shiki-dark:#ABB2BF">);</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">                        (</span><span style="color:#A626A4;--shiki-dark:#C678DD">function</span><span style="color:#4078F2;--shiki-dark:#61AFEF"> wait</span><span style="color:#383A42;--shiki-dark:#ABB2BF">() &#123;</span></span><span class="line"><span style="color:#4078F2;--shiki-dark:#61AFEF">                            setTimeout</span><span style="color:#383A42;--shiki-dark:#ABB2BF">(() </span><span style="color:#A626A4;--shiki-dark:#C678DD">=></span><span style="color:#383A42;--shiki-dark:#ABB2BF"> &#123;</span></span><span class="line"><span style="color:#A626A4;--shiki-dark:#C678DD">                                if</span><span style="color:#383A42;--shiki-dark:#ABB2BF"> (</span><span style="color:#383A42;--shiki-dark:#E06C75">sco</span><span style="color:#383A42;--shiki-dark:#56B6C2"> &#x26;&#x26;</span><span style="color:#383A42;--shiki-dark:#E06C75"> utils</span><span style="color:#383A42;--shiki-dark:#ABB2BF">) &#123;</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#E5C07B">                                    sco</span><span style="color:#383A42;--shiki-dark:#ABB2BF">.</span><span style="color:#4078F2;--shiki-dark:#61AFEF">changeTimeFormat</span><span style="color:#383A42;--shiki-dark:#ABB2BF">(</span><span style="color:#383A42;--shiki-dark:#E5C07B">document</span><span style="color:#383A42;--shiki-dark:#ABB2BF">.</span><span style="color:#4078F2;--shiki-dark:#61AFEF">querySelectorAll</span><span style="color:#383A42;--shiki-dark:#ABB2BF">(</span><span style="color:#50A14F;--shiki-dark:#98C379">'time'</span><span style="color:#383A42;--shiki-dark:#ABB2BF">));</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#E5C07B">                                    utils</span><span style="color:#383A42;--shiki-dark:#ABB2BF">.</span><span style="color:#4078F2;--shiki-dark:#61AFEF">lightbox</span><span style="color:#383A42;--shiki-dark:#ABB2BF">(</span><span style="color:#383A42;--shiki-dark:#E5C07B">document</span><span style="color:#383A42;--shiki-dark:#ABB2BF">.</span><span style="color:#4078F2;--shiki-dark:#61AFEF">querySelectorAll</span><span style="color:#383A42;--shiki-dark:#ABB2BF">(</span><span style="color:#50A14F;--shiki-dark:#98C379">'img'</span><span style="color:#383A42;--shiki-dark:#ABB2BF">))</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">                                &#125;</span></span><span class="line"><span style="color:#A626A4;--shiki-dark:#C678DD">                                else</span></span><span class="line"><span style="color:#4078F2;--shiki-dark:#61AFEF">                                    wait</span><span style="color:#383A42;--shiki-dark:#ABB2BF">()</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">                            &#125;, </span><span style="color:#986801;--shiki-dark:#D19A66">500</span><span style="color:#383A42;--shiki-dark:#ABB2BF">);</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">                        &#125;)()</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">                    &#125;)()</span></span><span class="line"><span style="color:#A626A4;--shiki-dark:#C678DD">                case</span><span style="color:#383A42;--shiki-dark:#E5C07B"> theme</span><span style="color:#383A42;--shiki-dark:#ABB2BF">.</span><span style="color:#E45649;--shiki-dark:#E5C07B">says</span><span style="color:#383A42;--shiki-dark:#ABB2BF">.</span><span style="color:#E45649;--shiki-dark:#E06C75">style</span></span><span class="line"><span style="color:#A626A4;--shiki-dark:#C678DD">                    when</span><span style="color:#986801;--shiki-dark:#D19A66"> 1</span></span><span class="line"><span style="color:#E45649;--shiki-dark:#E06C75">                        script</span><span style="color:#383A42;--shiki-dark:#ABB2BF">.</span></span><span class="line"><span style="color:#A626A4;--shiki-dark:#C678DD">                            async</span><span style="color:#A626A4;--shiki-dark:#C678DD"> function</span><span style="color:#4078F2;--shiki-dark:#61AFEF"> essayFormat</span><span style="color:#383A42;--shiki-dark:#ABB2BF">(</span><span style="color:#383A42;font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic">item</span><span style="color:#383A42;--shiki-dark:#ABB2BF">, </span><span style="color:#383A42;font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic">baseUrl</span><span style="color:#383A42;--shiki-dark:#ABB2BF">) &#123;</span></span><span class="line"><span style="color:#A626A4;--shiki-dark:#C678DD">                                const</span><span style="color:#986801;--shiki-dark:#E5C07B"> contentRegex</span><span style="color:#383A42;--shiki-dark:#56B6C2"> =</span><span style="color:#0184BC;--shiki-dark:#E06C75"> /#(</span><span style="color:#986801;--shiki-dark:#E06C75">.</span><span style="color:#383A42;--shiki-dark:#D19A66">*?</span><span style="color:#0184BC;--shiki-dark:#E06C75">)</span><span style="color:#986801;--shiki-dark:#E06C75">\s</span><span style="color:#383A42;--shiki-dark:#ABB2BF">|</span><span style="color:#986801;--shiki-dark:#E06C75">\n</span><span style="color:#0184BC;--shiki-dark:#E06C75">/</span><span style="color:#A626A4;--shiki-dark:#C678DD">g</span><span style="color:#383A42;--shiki-dark:#ABB2BF">,</span></span><span class="line"><span style="color:#986801;--shiki-dark:#E5C07B">                                    imageRegex</span><span style="color:#383A42;--shiki-dark:#56B6C2"> =</span><span style="color:#0184BC;--shiki-dark:#E06C75"> /</span><span style="color:#0184BC;--shiki-dark:#56B6C2">\!\[</span><span style="color:#0184BC;--shiki-dark:#E06C75">(</span><span style="color:#986801;--shiki-dark:#E06C75">.</span><span style="color:#383A42;--shiki-dark:#D19A66">*?</span><span style="color:#0184BC;--shiki-dark:#E06C75">)</span><span style="color:#0184BC;--shiki-dark:#56B6C2">\]\(</span><span style="color:#0184BC;--shiki-dark:#E06C75">(</span><span style="color:#986801;--shiki-dark:#E06C75">.</span><span style="color:#383A42;--shiki-dark:#D19A66">*?</span><span style="color:#0184BC;--shiki-dark:#E06C75">)</span><span style="color:#0184BC;--shiki-dark:#56B6C2">\)</span><span style="color:#0184BC;--shiki-dark:#E06C75">/</span><span style="color:#A626A4;--shiki-dark:#C678DD">g</span><span style="color:#383A42;--shiki-dark:#ABB2BF">,</span></span><span class="line"><span style="color:#986801;--shiki-dark:#E5C07B">                                    playerRegex</span><span style="color:#383A42;--shiki-dark:#56B6C2"> =</span><span style="color:#0184BC;--shiki-dark:#E06C75"> /&#123;</span><span style="color:#986801;--shiki-dark:#E06C75">\s</span><span style="color:#383A42;--shiki-dark:#D19A66">*</span><span style="color:#0184BC;--shiki-dark:#E06C75">player</span><span style="color:#986801;--shiki-dark:#E06C75">\s</span><span style="color:#383A42;--shiki-dark:#D19A66">*</span><span style="color:#0184BC;--shiki-dark:#E06C75">(</span><span style="color:#986801;--shiki-dark:#E06C75">.</span><span style="color:#383A42;--shiki-dark:#D19A66">*</span><span style="color:#0184BC;--shiki-dark:#E06C75">)</span><span style="color:#986801;--shiki-dark:#E06C75">\s</span><span style="color:#383A42;--shiki-dark:#D19A66">*</span><span style="color:#0184BC;--shiki-dark:#E06C75">&#125;/</span><span style="color:#A626A4;--shiki-dark:#C678DD">g</span><span style="color:#383A42;--shiki-dark:#ABB2BF">,</span></span><span class="line"><span style="color:#986801;--shiki-dark:#E5C07B">                                    linkRegex</span><span style="color:#383A42;--shiki-dark:#56B6C2"> =</span><span style="color:#0184BC;--shiki-dark:#E06C75"> /(?&#x3C;!</span><span style="color:#0184BC;--shiki-dark:#56B6C2">\!</span><span style="color:#0184BC;--shiki-dark:#E06C75">)</span><span style="color:#0184BC;--shiki-dark:#56B6C2">\[</span><span style="color:#0184BC;--shiki-dark:#E06C75">(</span><span style="color:#986801;--shiki-dark:#E06C75">.</span><span style="color:#383A42;--shiki-dark:#D19A66">*?</span><span style="color:#0184BC;--shiki-dark:#E06C75">)</span><span style="color:#0184BC;--shiki-dark:#56B6C2">\]\(</span><span style="color:#0184BC;--shiki-dark:#E06C75">(</span><span style="color:#986801;--shiki-dark:#E06C75">.</span><span style="color:#383A42;--shiki-dark:#D19A66">*?</span><span style="color:#0184BC;--shiki-dark:#E06C75">)</span><span style="color:#0184BC;--shiki-dark:#56B6C2">\)</span><span style="color:#0184BC;--shiki-dark:#E06C75">/</span><span style="color:#A626A4;--shiki-dark:#C678DD">g</span><span style="color:#383A42;--shiki-dark:#ABB2BF">,</span></span><span class="line"><span style="color:#986801;--shiki-dark:#E5C07B">                                    topRegex</span><span style="color:#383A42;--shiki-dark:#56B6C2"> =</span><span style="color:#0184BC;--shiki-dark:#E06C75"> /#top/</span><span style="color:#A626A4;--shiki-dark:#C678DD">g</span><span style="color:#383A42;--shiki-dark:#ABB2BF">,</span></span><span class="line"><span style="color:#986801;--shiki-dark:#E5C07B">                                    fromRegex</span><span style="color:#383A42;--shiki-dark:#56B6C2"> =</span><span style="color:#0184BC;--shiki-dark:#E06C75"> /(?&#x3C;!</span><span style="color:#986801;--shiki-dark:#D19A66">[</span><span style="color:#986801;--shiki-dark:#E06C75">\w</span><span style="color:#0184BC;--shiki-dark:#56B6C2">\/</span><span style="color:#986801;--shiki-dark:#D19A66">]</span><span style="color:#0184BC;--shiki-dark:#E06C75">)(?&#x3C;!</span><span style="color:#0184BC;--shiki-dark:#56B6C2">\&#123;</span><span style="color:#0184BC;--shiki-dark:#E06C75">)</span><span style="color:#0184BC;--shiki-dark:#56B6C2">\&#123;</span><span style="color:#0184BC;--shiki-dark:#E06C75">(</span><span style="color:#986801;--shiki-dark:#D19A66">[</span><span style="color:#383A42;--shiki-dark:#ABB2BF">^</span><span style="color:#986801;--shiki-dark:#D19A66">&#123;&#125;</span><span style="color:#986801;--shiki-dark:#E06C75">\s</span><span style="color:#986801;--shiki-dark:#D19A66">]</span><span style="color:#383A42;--shiki-dark:#D19A66">+</span><span style="color:#0184BC;--shiki-dark:#E06C75">)</span><span style="color:#0184BC;--shiki-dark:#56B6C2">\&#125;</span><span style="color:#0184BC;--shiki-dark:#E06C75">(?!</span><span style="color:#0184BC;--shiki-dark:#56B6C2">\&#125;</span><span style="color:#0184BC;--shiki-dark:#E06C75">)(?!</span><span style="color:#986801;--shiki-dark:#D19A66">[</span><span style="color:#986801;--shiki-dark:#E06C75">\w</span><span style="color:#0184BC;--shiki-dark:#56B6C2">\/</span><span style="color:#986801;--shiki-dark:#D19A66">]</span><span style="color:#0184BC;--shiki-dark:#E06C75">)/</span><span style="color:#A626A4;--shiki-dark:#C678DD">g</span><span style="color:#383A42;--shiki-dark:#ABB2BF">;</span></span><span class="line"><span style="color:#A626A4;--shiki-dark:#C678DD">                                let</span><span style="color:#383A42;--shiki-dark:#E06C75"> time</span><span style="color:#383A42;--shiki-dark:#56B6C2"> =</span><span style="color:#383A42;--shiki-dark:#E5C07B"> item</span><span style="color:#383A42;--shiki-dark:#ABB2BF">.</span><span style="color:#E45649;--shiki-dark:#E06C75">displayTime</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#E06C75">                                    content</span><span style="color:#383A42;--shiki-dark:#56B6C2"> =</span><span style="color:#383A42;--shiki-dark:#E5C07B"> item</span><span style="color:#383A42;--shiki-dark:#ABB2BF">.</span><span style="color:#E45649;--shiki-dark:#E06C75">content</span><span style="color:#383A42;--shiki-dark:#ABB2BF">,</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#E06C75">                                    image</span><span style="color:#383A42;--shiki-dark:#56B6C2"> =</span><span style="color:#50A14F;--shiki-dark:#98C379"> ""</span><span style="color:#383A42;--shiki-dark:#ABB2BF">,</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#E06C75">                                    img</span><span style="color:#383A42;--shiki-dark:#56B6C2"> =</span><span style="color:#383A42;--shiki-dark:#E5C07B"> content</span><span style="color:#383A42;--shiki-dark:#ABB2BF">.</span><span style="color:#4078F2;--shiki-dark:#61AFEF">match</span><span style="color:#383A42;--shiki-dark:#ABB2BF">(</span><span style="color:#383A42;--shiki-dark:#E06C75">imageRegex</span><span style="color:#383A42;--shiki-dark:#ABB2BF">);</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">                                (</span><span style="color:#383A42;--shiki-dark:#E06C75">aplayer</span><span style="color:#383A42;--shiki-dark:#56B6C2"> =</span><span style="color:#383A42;--shiki-dark:#E5C07B"> content</span><span style="color:#383A42;--shiki-dark:#ABB2BF">.</span><span style="color:#4078F2;--shiki-dark:#61AFEF">match</span><span style="color:#383A42;--shiki-dark:#ABB2BF">(</span><span style="color:#0184BC;--shiki-dark:#E06C75">/&#123;</span><span style="color:#986801;--shiki-dark:#E06C75">\s</span><span style="color:#383A42;--shiki-dark:#D19A66">*</span><span style="color:#0184BC;--shiki-dark:#E06C75">music</span><span style="color:#986801;--shiki-dark:#E06C75">\s</span><span style="color:#383A42;--shiki-dark:#D19A66">*</span><span style="color:#0184BC;--shiki-dark:#E06C75">(</span><span style="color:#986801;--shiki-dark:#E06C75">.</span><span style="color:#383A42;--shiki-dark:#D19A66">*?</span><span style="color:#0184BC;--shiki-dark:#E06C75">)</span><span style="color:#986801;--shiki-dark:#E06C75">\s</span><span style="color:#383A42;--shiki-dark:#D19A66">*</span><span style="color:#0184BC;--shiki-dark:#E06C75">(</span><span style="color:#986801;--shiki-dark:#E06C75">.</span><span style="color:#383A42;--shiki-dark:#D19A66">*?</span><span style="color:#0184BC;--shiki-dark:#E06C75">)</span><span style="color:#986801;--shiki-dark:#E06C75">\s</span><span style="color:#383A42;--shiki-dark:#D19A66">*</span><span style="color:#0184BC;--shiki-dark:#E06C75">&#125;/</span><span style="color:#A626A4;--shiki-dark:#C678DD">g</span><span style="color:#383A42;--shiki-dark:#ABB2BF">)),</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">                                    (</span><span style="color:#383A42;--shiki-dark:#E06C75">video</span><span style="color:#383A42;--shiki-dark:#56B6C2"> =</span><span style="color:#383A42;--shiki-dark:#E5C07B"> content</span><span style="color:#383A42;--shiki-dark:#ABB2BF">.</span><span style="color:#4078F2;--shiki-dark:#61AFEF">match</span><span style="color:#383A42;--shiki-dark:#ABB2BF">(</span><span style="color:#383A42;--shiki-dark:#E06C75">playerRegex</span><span style="color:#383A42;--shiki-dark:#ABB2BF">)),</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">                                    (</span><span style="color:#383A42;--shiki-dark:#E06C75">link</span><span style="color:#383A42;--shiki-dark:#56B6C2"> =</span><span style="color:#383A42;--shiki-dark:#E5C07B"> content</span><span style="color:#383A42;--shiki-dark:#ABB2BF">.</span><span style="color:#4078F2;--shiki-dark:#61AFEF">match</span><span style="color:#383A42;--shiki-dark:#ABB2BF">(</span><span style="color:#383A42;--shiki-dark:#E06C75">linkRegex</span><span style="color:#383A42;--shiki-dark:#ABB2BF">)),</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">                                    (</span><span style="color:#383A42;--shiki-dark:#E06C75">type</span><span style="color:#383A42;--shiki-dark:#56B6C2"> =</span><span style="color:#50A14F;--shiki-dark:#98C379"> ""</span><span style="color:#383A42;--shiki-dark:#ABB2BF">),</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">                                    (</span><span style="color:#383A42;--shiki-dark:#E06C75">from</span><span style="color:#383A42;--shiki-dark:#56B6C2"> =</span><span style="color:#383A42;--shiki-dark:#E5C07B"> content</span><span style="color:#383A42;--shiki-dark:#ABB2BF">.</span><span style="color:#4078F2;--shiki-dark:#61AFEF">match</span><span style="color:#383A42;--shiki-dark:#ABB2BF">(</span><span style="color:#383A42;--shiki-dark:#E06C75">fromRegex</span><span style="color:#383A42;--shiki-dark:#ABB2BF">));</span></span><span class="line"></span><span class="line"><span style="color:#A626A4;--shiki-dark:#C678DD">                                if</span><span style="color:#383A42;--shiki-dark:#ABB2BF"> (</span><span style="color:#383A42;--shiki-dark:#E5C07B">item</span><span style="color:#383A42;--shiki-dark:#ABB2BF">.</span><span style="color:#E45649;--shiki-dark:#E5C07B">resources</span><span style="color:#383A42;--shiki-dark:#ABB2BF">.</span><span style="color:#E45649;--shiki-dark:#E06C75">length</span><span style="color:#383A42;--shiki-dark:#ABB2BF">) &#123;</span></span><span class="line"><span style="color:#A626A4;--shiki-dark:#C678DD">                                    if</span><span style="color:#383A42;--shiki-dark:#ABB2BF"> (</span><span style="color:#383A42;--shiki-dark:#56B6C2">!</span><span style="color:#383A42;--shiki-dark:#E06C75">img</span><span style="color:#383A42;--shiki-dark:#ABB2BF">) </span><span style="color:#383A42;--shiki-dark:#E06C75">img</span><span style="color:#383A42;--shiki-dark:#56B6C2"> =</span><span style="color:#383A42;--shiki-dark:#ABB2BF"> [];</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#E5C07B">                                    item</span><span style="color:#383A42;--shiki-dark:#ABB2BF">.</span><span style="color:#E45649;--shiki-dark:#E5C07B">resources</span><span style="color:#383A42;--shiki-dark:#ABB2BF">.</span><span style="color:#4078F2;--shiki-dark:#61AFEF">forEach</span><span style="color:#383A42;--shiki-dark:#ABB2BF">((</span><span style="color:#383A42;font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic">e</span><span style="color:#383A42;--shiki-dark:#ABB2BF">) </span><span style="color:#A626A4;--shiki-dark:#C678DD">=></span><span style="color:#383A42;--shiki-dark:#ABB2BF"> &#123;</span></span><span class="line"><span style="color:#A626A4;--shiki-dark:#C678DD">                                        if</span><span style="color:#383A42;--shiki-dark:#ABB2BF"> (</span><span style="color:#383A42;--shiki-dark:#E5C07B">e</span><span style="color:#383A42;--shiki-dark:#ABB2BF">.</span><span style="color:#E45649;--shiki-dark:#E06C75">externalLink</span><span style="color:#383A42;--shiki-dark:#ABB2BF">) </span><span style="color:#383A42;--shiki-dark:#E5C07B">img</span><span style="color:#383A42;--shiki-dark:#ABB2BF">.</span><span style="color:#4078F2;--shiki-dark:#61AFEF">push</span><span style="color:#383A42;--shiki-dark:#ABB2BF">(</span><span style="color:#50A14F;--shiki-dark:#98C379">`![</span><span style="color:#CA1243;--shiki-dark:#C678DD">$&#123;</span><span style="color:#383A42;--shiki-dark:#E5C07B">e</span><span style="color:#50A14F;--shiki-dark:#ABB2BF">.</span><span style="color:#E45649;--shiki-dark:#E06C75">filename</span><span style="color:#CA1243;--shiki-dark:#C678DD">&#125;</span><span style="color:#50A14F;--shiki-dark:#98C379">](</span><span style="color:#CA1243;--shiki-dark:#C678DD">$&#123;</span><span style="color:#383A42;--shiki-dark:#E5C07B">e</span><span style="color:#50A14F;--shiki-dark:#ABB2BF">.</span><span style="color:#E45649;--shiki-dark:#E06C75">externalLink</span><span style="color:#CA1243;--shiki-dark:#C678DD">&#125;</span><span style="color:#50A14F;--shiki-dark:#98C379">)`</span><span style="color:#383A42;--shiki-dark:#ABB2BF">);</span></span><span class="line"><span style="color:#A626A4;--shiki-dark:#C678DD">                                        else</span><span style="color:#383A42;--shiki-dark:#E5C07B"> img</span><span style="color:#383A42;--shiki-dark:#ABB2BF">.</span><span style="color:#4078F2;--shiki-dark:#61AFEF">push</span><span style="color:#383A42;--shiki-dark:#ABB2BF">(</span><span style="color:#50A14F;--shiki-dark:#98C379">`![</span><span style="color:#CA1243;--shiki-dark:#C678DD">$&#123;</span><span style="color:#383A42;--shiki-dark:#E5C07B">e</span><span style="color:#50A14F;--shiki-dark:#ABB2BF">.</span><span style="color:#E45649;--shiki-dark:#E06C75">filename</span><span style="color:#CA1243;--shiki-dark:#C678DD">&#125;</span><span style="color:#50A14F;--shiki-dark:#98C379">](</span><span style="color:#CA1243;--shiki-dark:#C678DD">$&#123;</span><span style="color:#383A42;--shiki-dark:#E06C75">baseUrl</span><span style="color:#CA1243;--shiki-dark:#C678DD">&#125;</span><span style="color:#50A14F;--shiki-dark:#98C379">/o/r/</span><span style="color:#CA1243;--shiki-dark:#C678DD">$&#123;</span><span style="color:#383A42;--shiki-dark:#E5C07B">e</span><span style="color:#50A14F;--shiki-dark:#ABB2BF">.</span><span style="color:#E45649;--shiki-dark:#E06C75">uid</span><span style="color:#CA1243;--shiki-dark:#C678DD">&#125;</span><span style="color:#50A14F;--shiki-dark:#98C379">)`</span><span style="color:#383A42;--shiki-dark:#ABB2BF">);</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">                                    &#125;);</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">                                &#125;</span></span><span class="line"><span style="color:#A626A4;--shiki-dark:#C678DD">                                if</span><span style="color:#383A42;--shiki-dark:#ABB2BF"> (</span><span style="color:#383A42;--shiki-dark:#E06C75">img</span><span style="color:#383A42;--shiki-dark:#ABB2BF">)</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#E06C75">                                    image</span><span style="color:#383A42;--shiki-dark:#56B6C2"> +=</span><span style="color:#383A42;--shiki-dark:#E5C07B"> img</span><span style="color:#383A42;--shiki-dark:#ABB2BF">.</span><span style="color:#4078F2;--shiki-dark:#61AFEF">map</span><span style="color:#383A42;--shiki-dark:#ABB2BF">(</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">                                        (</span><span style="color:#383A42;font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic">e</span><span style="color:#383A42;--shiki-dark:#ABB2BF">) </span><span style="color:#A626A4;--shiki-dark:#C678DD">=></span><span style="color:#50A14F;--shiki-dark:#98C379"> `&#x3C;img src="</span><span style="color:#CA1243;--shiki-dark:#C678DD">$&#123;</span><span style="color:#383A42;--shiki-dark:#E5C07B">e</span><span style="color:#50A14F;--shiki-dark:#ABB2BF">.</span><span style="color:#4078F2;--shiki-dark:#61AFEF">replace</span><span style="color:#383A42;--shiki-dark:#ABB2BF">(</span><span style="color:#383A42;--shiki-dark:#E06C75">imageRegex</span><span style="color:#50A14F;--shiki-dark:#ABB2BF">, </span><span style="color:#CA1243;--shiki-dark:#98C379">"</span><span style="color:#50A14F;--shiki-dark:#98C379">$2</span><span style="color:#CA1243;--shiki-dark:#98C379">"</span><span style="color:#383A42;--shiki-dark:#ABB2BF">)</span><span style="color:#CA1243;--shiki-dark:#C678DD">&#125;</span><span style="color:#50A14F;--shiki-dark:#98C379">" alt="</span><span style="color:#CA1243;--shiki-dark:#C678DD">$&#123;</span><span style="color:#383A42;--shiki-dark:#E5C07B">e</span><span style="color:#50A14F;--shiki-dark:#ABB2BF">.</span><span style="color:#4078F2;--shiki-dark:#61AFEF">replace</span><span style="color:#383A42;--shiki-dark:#ABB2BF">(</span><span style="color:#383A42;--shiki-dark:#E06C75">imageRegex</span><span style="color:#50A14F;--shiki-dark:#ABB2BF">, </span><span style="color:#CA1243;--shiki-dark:#98C379">"</span><span style="color:#50A14F;--shiki-dark:#98C379">$1</span><span style="color:#CA1243;--shiki-dark:#98C379">"</span><span style="color:#383A42;--shiki-dark:#ABB2BF">)</span><span style="color:#CA1243;--shiki-dark:#C678DD">&#125;</span><span style="color:#50A14F;--shiki-dark:#98C379">" />`</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">                                    ).</span><span style="color:#4078F2;--shiki-dark:#61AFEF">join</span><span style="color:#383A42;--shiki-dark:#ABB2BF">(</span><span style="color:#50A14F;--shiki-dark:#98C379">""</span><span style="color:#383A42;--shiki-dark:#ABB2BF">);</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#E06C75">                                aplayer</span><span style="color:#383A42;--shiki-dark:#56B6C2"> =</span><span style="color:#383A42;--shiki-dark:#E06C75"> aplayer</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#C678DD">                                    ?</span><span style="color:#50A14F;--shiki-dark:#98C379"> `&#x3C;div class="bber-music">&#x3C;meting-js server="</span><span style="color:#CA1243;--shiki-dark:#C678DD">$&#123;</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#E06C75">                                        aplayer</span><span style="color:#383A42;--shiki-dark:#ABB2BF">[</span><span style="color:#986801;--shiki-dark:#D19A66">0</span><span style="color:#383A42;--shiki-dark:#ABB2BF">]</span><span style="color:#50A14F;--shiki-dark:#ABB2BF">.</span><span style="color:#4078F2;--shiki-dark:#61AFEF">match</span><span style="color:#383A42;--shiki-dark:#ABB2BF">(</span><span style="color:#CA1243;--shiki-dark:#E06C75">/</span><span style="color:#0184BC;--shiki-dark:#56B6C2">\&#123;</span><span style="color:#986801;--shiki-dark:#E06C75">\s</span><span style="color:#383A42;--shiki-dark:#D19A66">*</span><span style="color:#0184BC;--shiki-dark:#E06C75">music</span><span style="color:#986801;--shiki-dark:#E06C75">\s</span><span style="color:#383A42;--shiki-dark:#D19A66">*</span><span style="color:#CA1243;--shiki-dark:#E06C75">(</span><span style="color:#986801;--shiki-dark:#E06C75">.</span><span style="color:#383A42;--shiki-dark:#D19A66">*?</span><span style="color:#CA1243;--shiki-dark:#E06C75">)</span><span style="color:#986801;--shiki-dark:#E06C75">\s</span><span style="color:#383A42;--shiki-dark:#D19A66">*</span><span style="color:#986801;--shiki-dark:#E06C75">\d</span><span style="color:#383A42;--shiki-dark:#D19A66">+</span><span style="color:#986801;--shiki-dark:#E06C75">\s</span><span style="color:#383A42;--shiki-dark:#D19A66">*</span><span style="color:#0184BC;--shiki-dark:#56B6C2">\&#125;</span><span style="color:#CA1243;--shiki-dark:#E06C75">/</span><span style="color:#383A42;--shiki-dark:#ABB2BF">)[</span><span style="color:#986801;--shiki-dark:#D19A66">1</span><span style="color:#383A42;--shiki-dark:#ABB2BF">]</span></span><span class="line"><span style="color:#CA1243;--shiki-dark:#C678DD">                                    &#125;</span><span style="color:#50A14F;--shiki-dark:#98C379">" type="song" id="</span><span style="color:#CA1243;--shiki-dark:#C678DD">$&#123;</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#E06C75">                                        aplayer</span><span style="color:#383A42;--shiki-dark:#ABB2BF">[</span><span style="color:#986801;--shiki-dark:#D19A66">0</span><span style="color:#383A42;--shiki-dark:#ABB2BF">]</span><span style="color:#50A14F;--shiki-dark:#ABB2BF">.</span><span style="color:#4078F2;--shiki-dark:#61AFEF">match</span><span style="color:#383A42;--shiki-dark:#ABB2BF">(</span><span style="color:#CA1243;--shiki-dark:#E06C75">/</span><span style="color:#986801;--shiki-dark:#E06C75">\d</span><span style="color:#383A42;--shiki-dark:#D19A66">+</span><span style="color:#CA1243;--shiki-dark:#E06C75">/</span><span style="color:#383A42;--shiki-dark:#ABB2BF">)[</span><span style="color:#986801;--shiki-dark:#D19A66">0</span><span style="color:#383A42;--shiki-dark:#ABB2BF">]</span></span><span class="line"><span style="color:#CA1243;--shiki-dark:#C678DD">                                    &#125;</span><span style="color:#50A14F;--shiki-dark:#98C379">" mutex="true" preload="none" theme="var(--efu-main)" data-lrctype="0">&#x3C;/meting-js>&#x3C;/div>`</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#C678DD">                                    :</span><span style="color:#50A14F;--shiki-dark:#98C379"> ""</span><span style="color:#383A42;--shiki-dark:#ABB2BF">;</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#E06C75">                                video</span><span style="color:#383A42;--shiki-dark:#56B6C2"> =</span><span style="color:#383A42;--shiki-dark:#E06C75"> video</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#C678DD">                                    ?</span><span style="color:#50A14F;--shiki-dark:#98C379"> `&#x3C;div class="bber-video">&#x3C;video src="</span><span style="color:#CA1243;--shiki-dark:#C678DD">$&#123;</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#E06C75">                                        video</span><span style="color:#383A42;--shiki-dark:#ABB2BF">[</span><span style="color:#986801;--shiki-dark:#D19A66">0</span><span style="color:#383A42;--shiki-dark:#ABB2BF">]</span><span style="color:#50A14F;--shiki-dark:#ABB2BF">.</span><span style="color:#4078F2;--shiki-dark:#61AFEF">replace</span><span style="color:#383A42;--shiki-dark:#ABB2BF">(</span><span style="color:#383A42;--shiki-dark:#E06C75">playerRegex</span><span style="color:#50A14F;--shiki-dark:#ABB2BF">, </span><span style="color:#CA1243;--shiki-dark:#98C379">"</span><span style="color:#50A14F;--shiki-dark:#98C379">$1</span><span style="color:#CA1243;--shiki-dark:#98C379">"</span><span style="color:#383A42;--shiki-dark:#ABB2BF">)</span><span style="color:#50A14F;--shiki-dark:#ABB2BF">.</span><span style="color:#4078F2;--shiki-dark:#61AFEF">trim</span><span style="color:#383A42;--shiki-dark:#ABB2BF">()</span></span><span class="line"><span style="color:#CA1243;--shiki-dark:#C678DD">                                    &#125;</span><span style="color:#50A14F;--shiki-dark:#98C379">" controls="controls" style="object-fit: cover;">&#x3C;/video>&#x3C;/div>`</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#C678DD">                                    :</span><span style="color:#383A42;--shiki-dark:#E5C07B"> content</span><span style="color:#383A42;--shiki-dark:#ABB2BF">.</span><span style="color:#4078F2;--shiki-dark:#61AFEF">match</span><span style="color:#383A42;--shiki-dark:#ABB2BF">(</span><span style="color:#0184BC;--shiki-dark:#E06C75">/&#123;</span><span style="color:#986801;--shiki-dark:#E06C75">\s</span><span style="color:#383A42;--shiki-dark:#D19A66">*</span><span style="color:#0184BC;--shiki-dark:#E06C75">bilibili</span><span style="color:#986801;--shiki-dark:#E06C75">\s</span><span style="color:#383A42;--shiki-dark:#D19A66">*</span><span style="color:#0184BC;--shiki-dark:#E06C75">(</span><span style="color:#986801;--shiki-dark:#E06C75">.</span><span style="color:#383A42;--shiki-dark:#D19A66">*?</span><span style="color:#0184BC;--shiki-dark:#E06C75">)</span><span style="color:#986801;--shiki-dark:#E06C75">\s</span><span style="color:#383A42;--shiki-dark:#D19A66">*</span><span style="color:#0184BC;--shiki-dark:#E06C75">&#125;/</span><span style="color:#A626A4;--shiki-dark:#C678DD">g</span><span style="color:#383A42;--shiki-dark:#ABB2BF">);</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#E06C75">                                video</span><span style="color:#383A42;--shiki-dark:#56B6C2"> =</span><span style="color:#383A42;--shiki-dark:#E5C07B"> Array</span><span style="color:#383A42;--shiki-dark:#ABB2BF">.</span><span style="color:#4078F2;--shiki-dark:#61AFEF">isArray</span><span style="color:#383A42;--shiki-dark:#ABB2BF">(</span><span style="color:#383A42;--shiki-dark:#E06C75">video</span><span style="color:#383A42;--shiki-dark:#ABB2BF">)</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#C678DD">                                    ?</span><span style="color:#50A14F;--shiki-dark:#98C379"> `&#x3C;div class="bber-video">&#x3C;iframe src="//player.bilibili.com/player.html?bvid=</span><span style="color:#CA1243;--shiki-dark:#C678DD">$&#123;</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#E06C75">                                        video</span><span style="color:#383A42;--shiki-dark:#ABB2BF">[</span><span style="color:#986801;--shiki-dark:#D19A66">0</span><span style="color:#383A42;--shiki-dark:#ABB2BF">]</span><span style="color:#50A14F;--shiki-dark:#ABB2BF">.</span><span style="color:#4078F2;--shiki-dark:#61AFEF">match</span><span style="color:#383A42;--shiki-dark:#ABB2BF">(</span><span style="color:#CA1243;--shiki-dark:#E06C75">/(</span><span style="color:#0184BC;--shiki-dark:#E06C75">BV</span><span style="color:#986801;--shiki-dark:#E06C75">\w</span><span style="color:#383A42;--shiki-dark:#D19A66">+</span><span style="color:#CA1243;--shiki-dark:#E06C75">)/</span><span style="color:#383A42;--shiki-dark:#ABB2BF">)[</span><span style="color:#986801;--shiki-dark:#D19A66">1</span><span style="color:#383A42;--shiki-dark:#ABB2BF">]</span></span><span class="line"><span style="color:#CA1243;--shiki-dark:#C678DD">                                    &#125;$&#123;</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#E06C75">                                        video</span><span style="color:#383A42;--shiki-dark:#ABB2BF">[</span><span style="color:#986801;--shiki-dark:#D19A66">0</span><span style="color:#383A42;--shiki-dark:#ABB2BF">]</span><span style="color:#50A14F;--shiki-dark:#ABB2BF">.</span><span style="color:#4078F2;--shiki-dark:#61AFEF">match</span><span style="color:#383A42;--shiki-dark:#ABB2BF">(</span><span style="color:#CA1243;--shiki-dark:#E06C75">/</span><span style="color:#0184BC;--shiki-dark:#E06C75">&#123;</span><span style="color:#986801;--shiki-dark:#E06C75">\s</span><span style="color:#383A42;--shiki-dark:#D19A66">*</span><span style="color:#0184BC;--shiki-dark:#E06C75">bilibili</span><span style="color:#986801;--shiki-dark:#E06C75">\s</span><span style="color:#383A42;--shiki-dark:#D19A66">*</span><span style="color:#CA1243;--shiki-dark:#E06C75">(</span><span style="color:#986801;--shiki-dark:#E06C75">.</span><span style="color:#383A42;--shiki-dark:#D19A66">*?</span><span style="color:#CA1243;--shiki-dark:#E06C75">)</span><span style="color:#986801;--shiki-dark:#E06C75">\s</span><span style="color:#383A42;--shiki-dark:#D19A66">*</span><span style="color:#0184BC;--shiki-dark:#E06C75">true</span><span style="color:#986801;--shiki-dark:#E06C75">\s</span><span style="color:#383A42;--shiki-dark:#D19A66">*</span><span style="color:#0184BC;--shiki-dark:#E06C75">&#125;</span><span style="color:#CA1243;--shiki-dark:#E06C75">/</span><span style="color:#A626A4;--shiki-dark:#C678DD">g</span><span style="color:#383A42;--shiki-dark:#ABB2BF">)</span><span style="color:#383A42;--shiki-dark:#C678DD"> ?</span><span style="color:#CA1243;--shiki-dark:#98C379"> "</span><span style="color:#50A14F;--shiki-dark:#98C379">&#x26;autoplay=1</span><span style="color:#CA1243;--shiki-dark:#98C379">"</span><span style="color:#383A42;--shiki-dark:#C678DD"> :</span><span style="color:#CA1243;--shiki-dark:#98C379"> "</span><span style="color:#50A14F;--shiki-dark:#98C379">&#x26;autoplay=0</span><span style="color:#CA1243;--shiki-dark:#98C379">"</span></span><span class="line"><span style="color:#CA1243;--shiki-dark:#C678DD">                                    &#125;</span><span style="color:#50A14F;--shiki-dark:#98C379">" scrolling="no" bozrder="0" frameborder="no" framespacing="0" allowfullscreen="true">&#x3C;/iframe>&#x3C;/div>`</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#C678DD">                                    :</span><span style="color:#50A14F;--shiki-dark:#98C379"> ""</span><span style="color:#383A42;--shiki-dark:#ABB2BF">;</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#E06C75">                                link</span><span style="color:#383A42;--shiki-dark:#56B6C2"> =</span><span style="color:#383A42;--shiki-dark:#E06C75"> link</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#C678DD">                                    ?</span><span style="color:#383A42;--shiki-dark:#ABB2BF"> ((</span><span style="color:#383A42;--shiki-dark:#E06C75">type</span><span style="color:#383A42;--shiki-dark:#56B6C2"> =</span><span style="color:#383A42;--shiki-dark:#E06C75"> link</span><span style="color:#383A42;--shiki-dark:#ABB2BF">[</span><span style="color:#986801;--shiki-dark:#D19A66">0</span><span style="color:#383A42;--shiki-dark:#ABB2BF">].</span><span style="color:#4078F2;--shiki-dark:#61AFEF">replace</span><span style="color:#383A42;--shiki-dark:#ABB2BF">(</span><span style="color:#383A42;--shiki-dark:#E06C75">linkRegex</span><span style="color:#383A42;--shiki-dark:#ABB2BF">, </span><span style="color:#50A14F;--shiki-dark:#98C379">"$2"</span><span style="color:#383A42;--shiki-dark:#ABB2BF">)),</span></span><span class="line"><span style="color:#50A14F;--shiki-dark:#98C379">                                    `&#x3C;a class="bber-content-link" href='</span><span style="color:#CA1243;--shiki-dark:#C678DD">$&#123;</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#E5C07B">                                        type</span><span style="color:#50A14F;--shiki-dark:#ABB2BF">.</span><span style="color:#4078F2;--shiki-dark:#61AFEF">startsWith</span><span style="color:#383A42;--shiki-dark:#ABB2BF">(</span><span style="color:#CA1243;--shiki-dark:#98C379">"</span><span style="color:#50A14F;--shiki-dark:#98C379">/</span><span style="color:#CA1243;--shiki-dark:#98C379">"</span><span style="color:#383A42;--shiki-dark:#ABB2BF">)</span><span style="color:#383A42;--shiki-dark:#C678DD"> ?</span><span style="color:#383A42;--shiki-dark:#E06C75"> type</span><span style="color:#383A42;--shiki-dark:#C678DD"> :</span><span style="color:#383A42;--shiki-dark:#E5C07B"> type</span><span style="color:#50A14F;--shiki-dark:#ABB2BF">.</span><span style="color:#4078F2;--shiki-dark:#61AFEF">startsWith</span><span style="color:#383A42;--shiki-dark:#ABB2BF">(</span><span style="color:#CA1243;--shiki-dark:#98C379">"</span><span style="color:#50A14F;--shiki-dark:#98C379">http</span><span style="color:#CA1243;--shiki-dark:#98C379">"</span><span style="color:#383A42;--shiki-dark:#ABB2BF">)</span><span style="color:#383A42;--shiki-dark:#C678DD"> ?</span><span style="color:#383A42;--shiki-dark:#E06C75"> type</span><span style="color:#383A42;--shiki-dark:#C678DD"> :</span><span style="color:#CA1243;--shiki-dark:#98C379"> "</span><span style="color:#50A14F;--shiki-dark:#98C379">https://</span><span style="color:#CA1243;--shiki-dark:#98C379">"</span><span style="color:#383A42;--shiki-dark:#56B6C2"> +</span><span style="color:#383A42;--shiki-dark:#E06C75"> type</span></span><span class="line"><span style="color:#CA1243;--shiki-dark:#C678DD">                                    &#125;</span><span style="color:#50A14F;--shiki-dark:#98C379">' title="</span><span style="color:#CA1243;--shiki-dark:#C678DD">$&#123;</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#E06C75">                                        link</span><span style="color:#383A42;--shiki-dark:#ABB2BF">[</span><span style="color:#986801;--shiki-dark:#D19A66">0</span><span style="color:#383A42;--shiki-dark:#ABB2BF">]</span><span style="color:#50A14F;--shiki-dark:#ABB2BF">.</span><span style="color:#4078F2;--shiki-dark:#61AFEF">replace</span><span style="color:#383A42;--shiki-dark:#ABB2BF">(</span><span style="color:#383A42;--shiki-dark:#E06C75">linkRegex</span><span style="color:#50A14F;--shiki-dark:#ABB2BF">, </span><span style="color:#CA1243;--shiki-dark:#98C379">"</span><span style="color:#50A14F;--shiki-dark:#98C379">$1</span><span style="color:#CA1243;--shiki-dark:#98C379">"</span><span style="color:#383A42;--shiki-dark:#ABB2BF">)</span><span style="color:#383A42;--shiki-dark:#C678DD"> ?</span><span style="color:#383A42;--shiki-dark:#E06C75"> link</span><span style="color:#383A42;--shiki-dark:#ABB2BF">[</span><span style="color:#986801;--shiki-dark:#D19A66">0</span><span style="color:#383A42;--shiki-dark:#ABB2BF">]</span><span style="color:#50A14F;--shiki-dark:#ABB2BF">.</span><span style="color:#4078F2;--shiki-dark:#61AFEF">replace</span><span style="color:#383A42;--shiki-dark:#ABB2BF">(</span><span style="color:#383A42;--shiki-dark:#E06C75">linkRegex</span><span style="color:#50A14F;--shiki-dark:#ABB2BF">, </span><span style="color:#CA1243;--shiki-dark:#98C379">"</span><span style="color:#50A14F;--shiki-dark:#98C379">$1</span><span style="color:#CA1243;--shiki-dark:#98C379">"</span><span style="color:#383A42;--shiki-dark:#ABB2BF">)</span><span style="color:#383A42;--shiki-dark:#C678DD"> :</span><span style="color:#CA1243;--shiki-dark:#98C379"> "</span><span style="color:#50A14F;--shiki-dark:#98C379">跳转到短文指引的链接</span><span style="color:#CA1243;--shiki-dark:#98C379">"</span></span><span class="line"><span style="color:#CA1243;--shiki-dark:#C678DD">                                    &#125;</span><span style="color:#50A14F;--shiki-dark:#98C379">" target="_blank">&#x3C;i class="solitude fa-solid fa-link">&#x3C;/i>链接&#x3C;/a>`</span><span style="color:#383A42;--shiki-dark:#ABB2BF">)</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#C678DD">                                    :</span><span style="color:#50A14F;--shiki-dark:#98C379"> ""</span><span style="color:#383A42;--shiki-dark:#ABB2BF">;</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#E06C75">                                from</span><span style="color:#383A42;--shiki-dark:#56B6C2"> =</span><span style="color:#383A42;--shiki-dark:#E06C75"> from</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#C678DD">                                    ?</span><span style="color:#50A14F;--shiki-dark:#98C379"> `&#x3C;div class="bber-info-from">&#x3C;span></span><span style="color:#CA1243;--shiki-dark:#C678DD">$&#123;</span><span style="color:#383A42;--shiki-dark:#E06C75">from</span><span style="color:#383A42;--shiki-dark:#ABB2BF">[</span><span style="color:#986801;--shiki-dark:#D19A66">0</span><span style="color:#383A42;--shiki-dark:#ABB2BF">]</span><span style="color:#50A14F;--shiki-dark:#ABB2BF">.</span><span style="color:#4078F2;--shiki-dark:#61AFEF">replace</span><span style="color:#383A42;--shiki-dark:#ABB2BF">(</span><span style="color:#383A42;--shiki-dark:#E06C75">fromRegex</span><span style="color:#50A14F;--shiki-dark:#ABB2BF">, </span><span style="color:#CA1243;--shiki-dark:#98C379">"</span><span style="color:#50A14F;--shiki-dark:#98C379">$1</span><span style="color:#CA1243;--shiki-dark:#98C379">"</span><span style="color:#383A42;--shiki-dark:#ABB2BF">)</span><span style="color:#CA1243;--shiki-dark:#C678DD">&#125;</span><span style="color:#50A14F;--shiki-dark:#98C379">&#x3C;/span>&#x3C;/div>`</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#C678DD">                                    :</span><span style="color:#50A14F;--shiki-dark:#98C379"> ""</span><span style="color:#383A42;--shiki-dark:#ABB2BF">;</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#E06C75">                                content</span><span style="color:#383A42;--shiki-dark:#56B6C2"> =</span><span style="color:#383A42;--shiki-dark:#E06C75"> content</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">                                    .</span><span style="color:#4078F2;--shiki-dark:#61AFEF">replace</span><span style="color:#383A42;--shiki-dark:#ABB2BF">(</span><span style="color:#383A42;--shiki-dark:#E06C75">contentRegex</span><span style="color:#383A42;--shiki-dark:#ABB2BF">, </span><span style="color:#50A14F;--shiki-dark:#98C379">""</span><span style="color:#383A42;--shiki-dark:#ABB2BF">)</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">                                    .</span><span style="color:#4078F2;--shiki-dark:#61AFEF">replace</span><span style="color:#383A42;--shiki-dark:#ABB2BF">(</span><span style="color:#383A42;--shiki-dark:#E06C75">imageRegex</span><span style="color:#383A42;--shiki-dark:#ABB2BF">, </span><span style="color:#50A14F;--shiki-dark:#98C379">""</span><span style="color:#383A42;--shiki-dark:#ABB2BF">)</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">                                    .</span><span style="color:#4078F2;--shiki-dark:#61AFEF">replace</span><span style="color:#383A42;--shiki-dark:#ABB2BF">(</span><span style="color:#0184BC;--shiki-dark:#E06C75">/</span><span style="color:#0184BC;--shiki-dark:#56B6C2">\&#123;</span><span style="color:#0184BC;--shiki-dark:#E06C75">(</span><span style="color:#986801;--shiki-dark:#E06C75">.</span><span style="color:#383A42;--shiki-dark:#D19A66">*?</span><span style="color:#0184BC;--shiki-dark:#E06C75">)</span><span style="color:#0184BC;--shiki-dark:#56B6C2">\&#125;</span><span style="color:#0184BC;--shiki-dark:#E06C75">/</span><span style="color:#A626A4;--shiki-dark:#C678DD">g</span><span style="color:#383A42;--shiki-dark:#ABB2BF">, </span><span style="color:#50A14F;--shiki-dark:#98C379">""</span><span style="color:#383A42;--shiki-dark:#ABB2BF">)</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">                                    .</span><span style="color:#4078F2;--shiki-dark:#61AFEF">replace</span><span style="color:#383A42;--shiki-dark:#ABB2BF">(</span><span style="color:#383A42;--shiki-dark:#E06C75">linkRegex</span><span style="color:#383A42;--shiki-dark:#ABB2BF">, </span><span style="color:#50A14F;--shiki-dark:#98C379">""</span><span style="color:#383A42;--shiki-dark:#ABB2BF">)</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">                                    .</span><span style="color:#4078F2;--shiki-dark:#61AFEF">trim</span><span style="color:#383A42;--shiki-dark:#ABB2BF">();</span></span><span class="line"><span style="color:#A626A4;--shiki-dark:#C678DD">                                return</span><span style="color:#50A14F;--shiki-dark:#98C379"> `&#x3C;li class="item"></span></span><span class="line"><span style="color:#50A14F;--shiki-dark:#98C379">                                    &#x3C;div id="bber-content"></span></span><span class="line"><span style="color:#CA1243;--shiki-dark:#C678DD">                                        $&#123;</span><span style="color:#383A42;--shiki-dark:#E06C75">content</span><span style="color:#383A42;--shiki-dark:#C678DD"> ?</span><span style="color:#50A14F;--shiki-dark:#98C379"> `&#x3C;p class="bber-content"></span><span style="color:#CA1243;--shiki-dark:#C678DD">$&#123;</span><span style="color:#383A42;--shiki-dark:#E06C75">content</span><span style="color:#CA1243;--shiki-dark:#C678DD">&#125;</span><span style="color:#50A14F;--shiki-dark:#98C379">&#x3C;/p>`</span><span style="color:#383A42;--shiki-dark:#C678DD"> :</span><span style="color:#CA1243;--shiki-dark:#98C379"> ""</span><span style="color:#CA1243;--shiki-dark:#C678DD">&#125;</span></span><span class="line"><span style="color:#CA1243;--shiki-dark:#C678DD">                                        $&#123;</span><span style="color:#383A42;--shiki-dark:#E06C75">image</span><span style="color:#383A42;--shiki-dark:#C678DD"> ?</span><span style="color:#50A14F;--shiki-dark:#98C379"> `&#x3C;div class="bber-content-img"></span><span style="color:#CA1243;--shiki-dark:#C678DD">$&#123;</span><span style="color:#383A42;--shiki-dark:#E06C75">image</span><span style="color:#CA1243;--shiki-dark:#C678DD">&#125;</span><span style="color:#50A14F;--shiki-dark:#98C379">&#x3C;/div>`</span><span style="color:#383A42;--shiki-dark:#C678DD"> :</span><span style="color:#CA1243;--shiki-dark:#98C379"> ""</span><span style="color:#CA1243;--shiki-dark:#C678DD">&#125;</span></span><span class="line"><span style="color:#50A14F;--shiki-dark:#98C379">                                    &#x3C;/div></span></span><span class="line"><span style="color:#CA1243;--shiki-dark:#C678DD">                                    $&#123;</span><span style="color:#383A42;--shiki-dark:#E06C75">aplayer</span><span style="color:#CA1243;--shiki-dark:#C678DD">&#125;</span></span><span class="line"><span style="color:#CA1243;--shiki-dark:#C678DD">                                    $&#123;</span><span style="color:#383A42;--shiki-dark:#E06C75">video</span><span style="color:#CA1243;--shiki-dark:#C678DD">&#125;</span></span><span class="line"><span style="color:#50A14F;--shiki-dark:#98C379">                                    &#x3C;hr></span></span><span class="line"><span style="color:#50A14F;--shiki-dark:#98C379">                                    &#x3C;div class="bber-bottom"></span></span><span class="line"><span style="color:#50A14F;--shiki-dark:#98C379">                                        &#x3C;div class="bber-info"></span></span><span class="line"><span style="color:#50A14F;--shiki-dark:#98C379">                                            &#x3C;div class="bber-info-time"></span></span><span class="line"><span style="color:#50A14F;--shiki-dark:#98C379">                                                &#x3C;i class="solitude fa-solid fa-calendar-day">&#x3C;/i></span></span><span class="line"><span style="color:#50A14F;--shiki-dark:#98C379">                                                &#x3C;time class="datatime" datetime="</span><span style="color:#CA1243;--shiki-dark:#C678DD">$&#123;</span><span style="color:#383A42;--shiki-dark:#E06C75">time</span><span style="color:#CA1243;--shiki-dark:#C678DD">&#125;</span><span style="color:#50A14F;--shiki-dark:#98C379">">&#x3C;/time></span></span><span class="line"><span style="color:#50A14F;--shiki-dark:#98C379">                                            &#x3C;/div></span></span><span class="line"><span style="color:#CA1243;--shiki-dark:#C678DD">                                            $&#123;</span><span style="color:#383A42;--shiki-dark:#E06C75">link</span><span style="color:#CA1243;--shiki-dark:#C678DD">&#125;</span></span><span class="line"><span style="color:#CA1243;--shiki-dark:#C678DD">                                            $&#123;</span><span style="color:#383A42;--shiki-dark:#E06C75">from</span><span style="color:#CA1243;--shiki-dark:#C678DD">&#125;</span></span><span class="line"><span style="color:#CA1243;--shiki-dark:#C678DD">                                            $&#123;</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#E5C07B">                                                item</span><span style="color:#50A14F;--shiki-dark:#ABB2BF">.</span><span style="color:#E45649;--shiki-dark:#E5C07B">content</span><span style="color:#50A14F;--shiki-dark:#ABB2BF">.</span><span style="color:#4078F2;--shiki-dark:#61AFEF">includes</span><span style="color:#383A42;--shiki-dark:#ABB2BF">(</span><span style="color:#CA1243;--shiki-dark:#98C379">"</span><span style="color:#50A14F;--shiki-dark:#98C379">#top</span><span style="color:#CA1243;--shiki-dark:#98C379">"</span><span style="color:#383A42;--shiki-dark:#ABB2BF">)</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#C678DD">                                                ?</span><span style="color:#50A14F;--shiki-dark:#98C379"> `&#x3C;div class="bber-info-top">&#x3C;i class="solitude fa-solid fa-thumbtack">&#x3C;/i>置顶&#x3C;/div>`</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#C678DD">                                                :</span><span style="color:#CA1243;--shiki-dark:#98C379"> ""</span></span><span class="line"><span style="color:#CA1243;--shiki-dark:#C678DD">                                            &#125;</span></span><span class="line"><span style="color:#50A14F;--shiki-dark:#98C379">                                        &#x3C;/div></span></span><span class="line"><span style="color:#CA1243;--shiki-dark:#C678DD">                                        $&#123;</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#E06C75">                                            content</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#C678DD">                                            ?</span><span style="color:#50A14F;--shiki-dark:#98C379"> `&#x3C;a class="bber-reply" onclick="sco.toTalk('</span><span style="color:#CA1243;--shiki-dark:#C678DD">$&#123;</span><span style="color:#383A42;--shiki-dark:#E06C75">content</span><span style="color:#CA1243;--shiki-dark:#C678DD">&#125;</span><span style="color:#50A14F;--shiki-dark:#98C379">')">&#x3C;i class="solitude fa-solid fa-comment" style="font-size: 1rem;">&#x3C;/i>&#x3C;/a>`</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#C678DD">                                            :</span><span style="color:#CA1243;--shiki-dark:#98C379"> ""</span></span><span class="line"><span style="color:#CA1243;--shiki-dark:#C678DD">                                        &#125;</span></span><span class="line"><span style="color:#50A14F;--shiki-dark:#98C379">                                    &#x3C;/div></span></span><span class="line"><span style="color:#50A14F;--shiki-dark:#98C379">                                &#x3C;/li>`</span><span style="color:#383A42;--shiki-dark:#ABB2BF">;</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">                            &#125;</span></span><span class="line"><span style="color:#A626A4;--shiki-dark:#C678DD">                    when</span><span style="color:#986801;--shiki-dark:#D19A66"> 2</span></span><span class="line"><span style="color:#E45649;--shiki-dark:#E06C75">                        script</span><span style="color:#383A42;--shiki-dark:#ABB2BF">.</span></span><span class="line"><span style="color:#A626A4;--shiki-dark:#C678DD">                            async</span><span style="color:#A626A4;--shiki-dark:#C678DD"> function</span><span style="color:#4078F2;--shiki-dark:#61AFEF"> essayFormat</span><span style="color:#383A42;--shiki-dark:#ABB2BF">(</span><span style="color:#383A42;font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic">item</span><span style="color:#383A42;--shiki-dark:#ABB2BF">, </span><span style="color:#383A42;font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic">baseUrl</span><span style="color:#383A42;--shiki-dark:#ABB2BF">) &#123;</span></span><span class="line"><span style="color:#A626A4;--shiki-dark:#C678DD">                                const</span><span style="color:#986801;--shiki-dark:#E5C07B"> contentRegex</span><span style="color:#383A42;--shiki-dark:#56B6C2"> =</span><span style="color:#0184BC;--shiki-dark:#E06C75"> /#(</span><span style="color:#986801;--shiki-dark:#E06C75">.</span><span style="color:#383A42;--shiki-dark:#D19A66">*?</span><span style="color:#0184BC;--shiki-dark:#E06C75">)</span><span style="color:#986801;--shiki-dark:#E06C75">\s</span><span style="color:#383A42;--shiki-dark:#ABB2BF">|</span><span style="color:#986801;--shiki-dark:#E06C75">\n</span><span style="color:#0184BC;--shiki-dark:#E06C75">/</span><span style="color:#A626A4;--shiki-dark:#C678DD">g</span><span style="color:#383A42;--shiki-dark:#ABB2BF">,</span></span><span class="line"><span style="color:#986801;--shiki-dark:#E5C07B">                                    imageRegex</span><span style="color:#383A42;--shiki-dark:#56B6C2"> =</span><span style="color:#0184BC;--shiki-dark:#E06C75"> /</span><span style="color:#0184BC;--shiki-dark:#56B6C2">\!\[</span><span style="color:#0184BC;--shiki-dark:#E06C75">(</span><span style="color:#986801;--shiki-dark:#E06C75">.</span><span style="color:#383A42;--shiki-dark:#D19A66">*?</span><span style="color:#0184BC;--shiki-dark:#E06C75">)</span><span style="color:#0184BC;--shiki-dark:#56B6C2">\]\(</span><span style="color:#0184BC;--shiki-dark:#E06C75">(</span><span style="color:#986801;--shiki-dark:#E06C75">.</span><span style="color:#383A42;--shiki-dark:#D19A66">*?</span><span style="color:#0184BC;--shiki-dark:#E06C75">)</span><span style="color:#0184BC;--shiki-dark:#56B6C2">\)</span><span style="color:#0184BC;--shiki-dark:#E06C75">/</span><span style="color:#A626A4;--shiki-dark:#C678DD">g</span><span style="color:#383A42;--shiki-dark:#ABB2BF">,</span></span><span class="line"><span style="color:#986801;--shiki-dark:#E5C07B">                                    playerRegex</span><span style="color:#383A42;--shiki-dark:#56B6C2"> =</span><span style="color:#0184BC;--shiki-dark:#E06C75"> /&#123;</span><span style="color:#986801;--shiki-dark:#E06C75">\s</span><span style="color:#383A42;--shiki-dark:#D19A66">*</span><span style="color:#0184BC;--shiki-dark:#E06C75">player</span><span style="color:#986801;--shiki-dark:#E06C75">\s</span><span style="color:#383A42;--shiki-dark:#D19A66">*</span><span style="color:#0184BC;--shiki-dark:#E06C75">(</span><span style="color:#986801;--shiki-dark:#E06C75">.</span><span style="color:#383A42;--shiki-dark:#D19A66">*</span><span style="color:#0184BC;--shiki-dark:#E06C75">)</span><span style="color:#986801;--shiki-dark:#E06C75">\s</span><span style="color:#383A42;--shiki-dark:#D19A66">*</span><span style="color:#0184BC;--shiki-dark:#E06C75">&#125;/</span><span style="color:#A626A4;--shiki-dark:#C678DD">g</span><span style="color:#383A42;--shiki-dark:#ABB2BF">,</span></span><span class="line"><span style="color:#986801;--shiki-dark:#E5C07B">                                    linkRegex</span><span style="color:#383A42;--shiki-dark:#56B6C2"> =</span><span style="color:#0184BC;--shiki-dark:#E06C75"> /(?&#x3C;!</span><span style="color:#0184BC;--shiki-dark:#56B6C2">\!</span><span style="color:#0184BC;--shiki-dark:#E06C75">)</span><span style="color:#0184BC;--shiki-dark:#56B6C2">\[</span><span style="color:#0184BC;--shiki-dark:#E06C75">(</span><span style="color:#986801;--shiki-dark:#E06C75">.</span><span style="color:#383A42;--shiki-dark:#D19A66">*?</span><span style="color:#0184BC;--shiki-dark:#E06C75">)</span><span style="color:#0184BC;--shiki-dark:#56B6C2">\]\(</span><span style="color:#0184BC;--shiki-dark:#E06C75">(</span><span style="color:#986801;--shiki-dark:#E06C75">.</span><span style="color:#383A42;--shiki-dark:#D19A66">*?</span><span style="color:#0184BC;--shiki-dark:#E06C75">)</span><span style="color:#0184BC;--shiki-dark:#56B6C2">\)</span><span style="color:#0184BC;--shiki-dark:#E06C75">/</span><span style="color:#A626A4;--shiki-dark:#C678DD">g</span><span style="color:#383A42;--shiki-dark:#ABB2BF">,</span></span><span class="line"><span style="color:#986801;--shiki-dark:#E5C07B">                                    topRegex</span><span style="color:#383A42;--shiki-dark:#56B6C2"> =</span><span style="color:#0184BC;--shiki-dark:#E06C75"> /#top/</span><span style="color:#A626A4;--shiki-dark:#C678DD">g</span><span style="color:#383A42;--shiki-dark:#ABB2BF">,</span></span><span class="line"><span style="color:#986801;--shiki-dark:#E5C07B">                                    fromRegex</span><span style="color:#383A42;--shiki-dark:#56B6C2"> =</span><span style="color:#0184BC;--shiki-dark:#E06C75"> /(?&#x3C;!</span><span style="color:#986801;--shiki-dark:#D19A66">[</span><span style="color:#986801;--shiki-dark:#E06C75">\w</span><span style="color:#0184BC;--shiki-dark:#56B6C2">\/</span><span style="color:#986801;--shiki-dark:#D19A66">]</span><span style="color:#0184BC;--shiki-dark:#E06C75">)(?&#x3C;!</span><span style="color:#0184BC;--shiki-dark:#56B6C2">\&#123;</span><span style="color:#0184BC;--shiki-dark:#E06C75">)</span><span style="color:#0184BC;--shiki-dark:#56B6C2">\&#123;</span><span style="color:#0184BC;--shiki-dark:#E06C75">(</span><span style="color:#986801;--shiki-dark:#D19A66">[</span><span style="color:#383A42;--shiki-dark:#ABB2BF">^</span><span style="color:#986801;--shiki-dark:#D19A66">&#123;&#125;</span><span style="color:#986801;--shiki-dark:#E06C75">\s</span><span style="color:#986801;--shiki-dark:#D19A66">]</span><span style="color:#383A42;--shiki-dark:#D19A66">+</span><span style="color:#0184BC;--shiki-dark:#E06C75">)</span><span style="color:#0184BC;--shiki-dark:#56B6C2">\&#125;</span><span style="color:#0184BC;--shiki-dark:#E06C75">(?!</span><span style="color:#0184BC;--shiki-dark:#56B6C2">\&#125;</span><span style="color:#0184BC;--shiki-dark:#E06C75">)(?!</span><span style="color:#986801;--shiki-dark:#D19A66">[</span><span style="color:#986801;--shiki-dark:#E06C75">\w</span><span style="color:#0184BC;--shiki-dark:#56B6C2">\/</span><span style="color:#986801;--shiki-dark:#D19A66">]</span><span style="color:#0184BC;--shiki-dark:#E06C75">)/</span><span style="color:#A626A4;--shiki-dark:#C678DD">g</span><span style="color:#383A42;--shiki-dark:#ABB2BF">;</span></span><span class="line"><span style="color:#A626A4;--shiki-dark:#C678DD">                                let</span><span style="color:#383A42;--shiki-dark:#E06C75"> time</span><span style="color:#383A42;--shiki-dark:#56B6C2"> =</span><span style="color:#383A42;--shiki-dark:#E5C07B"> item</span><span style="color:#383A42;--shiki-dark:#ABB2BF">.</span><span style="color:#E45649;--shiki-dark:#E06C75">displayTime</span><span style="color:#383A42;--shiki-dark:#ABB2BF">,</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#E06C75">                                    content</span><span style="color:#383A42;--shiki-dark:#56B6C2"> =</span><span style="color:#383A42;--shiki-dark:#E5C07B"> item</span><span style="color:#383A42;--shiki-dark:#ABB2BF">.</span><span style="color:#E45649;--shiki-dark:#E06C75">content</span><span style="color:#383A42;--shiki-dark:#ABB2BF">,</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#E06C75">                                    image</span><span style="color:#383A42;--shiki-dark:#56B6C2"> =</span><span style="color:#50A14F;--shiki-dark:#98C379"> ""</span><span style="color:#383A42;--shiki-dark:#ABB2BF">,</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#E06C75">                                    img</span><span style="color:#383A42;--shiki-dark:#56B6C2"> =</span><span style="color:#383A42;--shiki-dark:#E5C07B"> content</span><span style="color:#383A42;--shiki-dark:#ABB2BF">.</span><span style="color:#4078F2;--shiki-dark:#61AFEF">match</span><span style="color:#383A42;--shiki-dark:#ABB2BF">(</span><span style="color:#383A42;--shiki-dark:#E06C75">imageRegex</span><span style="color:#383A42;--shiki-dark:#ABB2BF">);</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">                                (</span><span style="color:#383A42;--shiki-dark:#E06C75">aplayer</span><span style="color:#383A42;--shiki-dark:#56B6C2"> =</span><span style="color:#383A42;--shiki-dark:#E5C07B"> content</span><span style="color:#383A42;--shiki-dark:#ABB2BF">.</span><span style="color:#4078F2;--shiki-dark:#61AFEF">match</span><span style="color:#383A42;--shiki-dark:#ABB2BF">(</span><span style="color:#0184BC;--shiki-dark:#E06C75">/&#123;</span><span style="color:#986801;--shiki-dark:#E06C75">\s</span><span style="color:#383A42;--shiki-dark:#D19A66">*</span><span style="color:#0184BC;--shiki-dark:#E06C75">music</span><span style="color:#986801;--shiki-dark:#E06C75">\s</span><span style="color:#383A42;--shiki-dark:#D19A66">*</span><span style="color:#0184BC;--shiki-dark:#E06C75">(</span><span style="color:#986801;--shiki-dark:#E06C75">.</span><span style="color:#383A42;--shiki-dark:#D19A66">*?</span><span style="color:#0184BC;--shiki-dark:#E06C75">)</span><span style="color:#986801;--shiki-dark:#E06C75">\s</span><span style="color:#383A42;--shiki-dark:#D19A66">*</span><span style="color:#0184BC;--shiki-dark:#E06C75">(</span><span style="color:#986801;--shiki-dark:#E06C75">.</span><span style="color:#383A42;--shiki-dark:#D19A66">*?</span><span style="color:#0184BC;--shiki-dark:#E06C75">)</span><span style="color:#986801;--shiki-dark:#E06C75">\s</span><span style="color:#383A42;--shiki-dark:#D19A66">*</span><span style="color:#0184BC;--shiki-dark:#E06C75">&#125;/</span><span style="color:#A626A4;--shiki-dark:#C678DD">g</span><span style="color:#383A42;--shiki-dark:#ABB2BF">)),</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">                                    (</span><span style="color:#383A42;--shiki-dark:#E06C75">video</span><span style="color:#383A42;--shiki-dark:#56B6C2"> =</span><span style="color:#383A42;--shiki-dark:#E5C07B"> content</span><span style="color:#383A42;--shiki-dark:#ABB2BF">.</span><span style="color:#4078F2;--shiki-dark:#61AFEF">match</span><span style="color:#383A42;--shiki-dark:#ABB2BF">(</span><span style="color:#383A42;--shiki-dark:#E06C75">playerRegex</span><span style="color:#383A42;--shiki-dark:#ABB2BF">)),</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">                                    (</span><span style="color:#383A42;--shiki-dark:#E06C75">link</span><span style="color:#383A42;--shiki-dark:#56B6C2"> =</span><span style="color:#383A42;--shiki-dark:#E5C07B"> content</span><span style="color:#383A42;--shiki-dark:#ABB2BF">.</span><span style="color:#4078F2;--shiki-dark:#61AFEF">match</span><span style="color:#383A42;--shiki-dark:#ABB2BF">(</span><span style="color:#383A42;--shiki-dark:#E06C75">linkRegex</span><span style="color:#383A42;--shiki-dark:#ABB2BF">)),</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">                                    (</span><span style="color:#383A42;--shiki-dark:#E06C75">type</span><span style="color:#383A42;--shiki-dark:#56B6C2"> =</span><span style="color:#50A14F;--shiki-dark:#98C379"> ""</span><span style="color:#383A42;--shiki-dark:#ABB2BF">),</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">                                    (</span><span style="color:#383A42;--shiki-dark:#E06C75">from</span><span style="color:#383A42;--shiki-dark:#56B6C2"> =</span><span style="color:#383A42;--shiki-dark:#E5C07B"> content</span><span style="color:#383A42;--shiki-dark:#ABB2BF">.</span><span style="color:#4078F2;--shiki-dark:#61AFEF">match</span><span style="color:#383A42;--shiki-dark:#ABB2BF">(</span><span style="color:#383A42;--shiki-dark:#E06C75">fromRegex</span><span style="color:#383A42;--shiki-dark:#ABB2BF">));</span></span><span class="line"><span style="color:#A626A4;--shiki-dark:#C678DD">                                if</span><span style="color:#383A42;--shiki-dark:#ABB2BF"> (</span><span style="color:#383A42;--shiki-dark:#E5C07B">item</span><span style="color:#383A42;--shiki-dark:#ABB2BF">.</span><span style="color:#E45649;--shiki-dark:#E5C07B">resources</span><span style="color:#383A42;--shiki-dark:#ABB2BF">.</span><span style="color:#E45649;--shiki-dark:#E06C75">length</span><span style="color:#383A42;--shiki-dark:#ABB2BF">) &#123;</span></span><span class="line"><span style="color:#A626A4;--shiki-dark:#C678DD">                                    if</span><span style="color:#383A42;--shiki-dark:#ABB2BF"> (</span><span style="color:#383A42;--shiki-dark:#56B6C2">!</span><span style="color:#383A42;--shiki-dark:#E06C75">img</span><span style="color:#383A42;--shiki-dark:#ABB2BF">) </span><span style="color:#383A42;--shiki-dark:#E06C75">img</span><span style="color:#383A42;--shiki-dark:#56B6C2"> =</span><span style="color:#383A42;--shiki-dark:#ABB2BF"> [];</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#E5C07B">                                    item</span><span style="color:#383A42;--shiki-dark:#ABB2BF">.</span><span style="color:#E45649;--shiki-dark:#E5C07B">resources</span><span style="color:#383A42;--shiki-dark:#ABB2BF">.</span><span style="color:#4078F2;--shiki-dark:#61AFEF">forEach</span><span style="color:#383A42;--shiki-dark:#ABB2BF">((</span><span style="color:#383A42;font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic">e</span><span style="color:#383A42;--shiki-dark:#ABB2BF">) </span><span style="color:#A626A4;--shiki-dark:#C678DD">=></span><span style="color:#383A42;--shiki-dark:#ABB2BF"> &#123;</span></span><span class="line"><span style="color:#A626A4;--shiki-dark:#C678DD">                                        if</span><span style="color:#383A42;--shiki-dark:#ABB2BF"> (</span><span style="color:#383A42;--shiki-dark:#E5C07B">e</span><span style="color:#383A42;--shiki-dark:#ABB2BF">.</span><span style="color:#E45649;--shiki-dark:#E06C75">externalLink</span><span style="color:#383A42;--shiki-dark:#ABB2BF">) </span><span style="color:#383A42;--shiki-dark:#E5C07B">img</span><span style="color:#383A42;--shiki-dark:#ABB2BF">.</span><span style="color:#4078F2;--shiki-dark:#61AFEF">push</span><span style="color:#383A42;--shiki-dark:#ABB2BF">(</span><span style="color:#50A14F;--shiki-dark:#98C379">`![</span><span style="color:#CA1243;--shiki-dark:#C678DD">$&#123;</span><span style="color:#383A42;--shiki-dark:#E5C07B">e</span><span style="color:#50A14F;--shiki-dark:#ABB2BF">.</span><span style="color:#E45649;--shiki-dark:#E06C75">filename</span><span style="color:#CA1243;--shiki-dark:#C678DD">&#125;</span><span style="color:#50A14F;--shiki-dark:#98C379">](</span><span style="color:#CA1243;--shiki-dark:#C678DD">$&#123;</span><span style="color:#383A42;--shiki-dark:#E5C07B">e</span><span style="color:#50A14F;--shiki-dark:#ABB2BF">.</span><span style="color:#E45649;--shiki-dark:#E06C75">externalLink</span><span style="color:#CA1243;--shiki-dark:#C678DD">&#125;</span><span style="color:#50A14F;--shiki-dark:#98C379">)`</span><span style="color:#383A42;--shiki-dark:#ABB2BF">);</span></span><span class="line"><span style="color:#A626A4;--shiki-dark:#C678DD">                                        else</span><span style="color:#383A42;--shiki-dark:#E5C07B"> img</span><span style="color:#383A42;--shiki-dark:#ABB2BF">.</span><span style="color:#4078F2;--shiki-dark:#61AFEF">push</span><span style="color:#383A42;--shiki-dark:#ABB2BF">(</span><span style="color:#50A14F;--shiki-dark:#98C379">`![</span><span style="color:#CA1243;--shiki-dark:#C678DD">$&#123;</span><span style="color:#383A42;--shiki-dark:#E5C07B">e</span><span style="color:#50A14F;--shiki-dark:#ABB2BF">.</span><span style="color:#E45649;--shiki-dark:#E06C75">filename</span><span style="color:#CA1243;--shiki-dark:#C678DD">&#125;</span><span style="color:#50A14F;--shiki-dark:#98C379">](</span><span style="color:#CA1243;--shiki-dark:#C678DD">$&#123;</span><span style="color:#383A42;--shiki-dark:#E06C75">baseUrl</span><span style="color:#CA1243;--shiki-dark:#C678DD">&#125;</span><span style="color:#50A14F;--shiki-dark:#98C379">/o/r/</span><span style="color:#CA1243;--shiki-dark:#C678DD">$&#123;</span><span style="color:#383A42;--shiki-dark:#E5C07B">e</span><span style="color:#50A14F;--shiki-dark:#ABB2BF">.</span><span style="color:#E45649;--shiki-dark:#E06C75">uid</span><span style="color:#CA1243;--shiki-dark:#C678DD">&#125;</span><span style="color:#50A14F;--shiki-dark:#98C379">)`</span><span style="color:#383A42;--shiki-dark:#ABB2BF">);</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">                                    &#125;);</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">                                &#125;</span></span><span class="line"><span style="color:#A626A4;--shiki-dark:#C678DD">                                if</span><span style="color:#383A42;--shiki-dark:#ABB2BF"> (</span><span style="color:#383A42;--shiki-dark:#E06C75">img</span><span style="color:#383A42;--shiki-dark:#ABB2BF">)</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#E06C75">                                    image</span><span style="color:#383A42;--shiki-dark:#56B6C2"> +=</span><span style="color:#383A42;--shiki-dark:#E06C75"> img</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">                                    .</span><span style="color:#4078F2;--shiki-dark:#61AFEF">map</span><span style="color:#383A42;--shiki-dark:#ABB2BF">(</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">                                        (</span><span style="color:#383A42;font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic">e</span><span style="color:#383A42;--shiki-dark:#ABB2BF">) </span><span style="color:#A626A4;--shiki-dark:#C678DD">=></span><span style="color:#50A14F;--shiki-dark:#98C379"> `&#x3C;img src="</span><span style="color:#CA1243;--shiki-dark:#C678DD">$&#123;</span><span style="color:#383A42;--shiki-dark:#E5C07B">e</span><span style="color:#50A14F;--shiki-dark:#ABB2BF">.</span><span style="color:#4078F2;--shiki-dark:#61AFEF">replace</span><span style="color:#383A42;--shiki-dark:#ABB2BF">(</span><span style="color:#383A42;--shiki-dark:#E06C75">imageRegex</span><span style="color:#50A14F;--shiki-dark:#ABB2BF">, </span><span style="color:#CA1243;--shiki-dark:#98C379">"</span><span style="color:#50A14F;--shiki-dark:#98C379">$2</span><span style="color:#CA1243;--shiki-dark:#98C379">"</span><span style="color:#383A42;--shiki-dark:#ABB2BF">)</span><span style="color:#CA1243;--shiki-dark:#C678DD">&#125;</span><span style="color:#50A14F;--shiki-dark:#98C379">" alt="</span><span style="color:#CA1243;--shiki-dark:#C678DD">$&#123;</span><span style="color:#383A42;--shiki-dark:#E5C07B">e</span><span style="color:#50A14F;--shiki-dark:#ABB2BF">.</span><span style="color:#4078F2;--shiki-dark:#61AFEF">replace</span><span style="color:#383A42;--shiki-dark:#ABB2BF">(</span><span style="color:#383A42;--shiki-dark:#E06C75">imageRegex</span><span style="color:#50A14F;--shiki-dark:#ABB2BF">, </span><span style="color:#CA1243;--shiki-dark:#98C379">"</span><span style="color:#50A14F;--shiki-dark:#98C379">$1</span><span style="color:#CA1243;--shiki-dark:#98C379">"</span><span style="color:#383A42;--shiki-dark:#ABB2BF">)</span><span style="color:#CA1243;--shiki-dark:#C678DD">&#125;</span><span style="color:#50A14F;--shiki-dark:#98C379">" />`</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">                                    )</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">                                    .</span><span style="color:#4078F2;--shiki-dark:#61AFEF">join</span><span style="color:#383A42;--shiki-dark:#ABB2BF">(</span><span style="color:#50A14F;--shiki-dark:#98C379">""</span><span style="color:#383A42;--shiki-dark:#ABB2BF">);</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#E06C75">                                aplayer</span><span style="color:#383A42;--shiki-dark:#56B6C2"> =</span><span style="color:#383A42;--shiki-dark:#E06C75"> aplayer</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#C678DD">                                    ?</span><span style="color:#50A14F;--shiki-dark:#98C379"> `&#x3C;div class="bber-music">&#x3C;meting-js server="</span><span style="color:#CA1243;--shiki-dark:#C678DD">$&#123;</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#E06C75">                                        aplayer</span><span style="color:#383A42;--shiki-dark:#ABB2BF">[</span><span style="color:#986801;--shiki-dark:#D19A66">0</span><span style="color:#383A42;--shiki-dark:#ABB2BF">]</span><span style="color:#50A14F;--shiki-dark:#ABB2BF">.</span><span style="color:#4078F2;--shiki-dark:#61AFEF">match</span><span style="color:#383A42;--shiki-dark:#ABB2BF">(</span><span style="color:#CA1243;--shiki-dark:#E06C75">/</span><span style="color:#0184BC;--shiki-dark:#56B6C2">\&#123;</span><span style="color:#986801;--shiki-dark:#E06C75">\s</span><span style="color:#383A42;--shiki-dark:#D19A66">*</span><span style="color:#0184BC;--shiki-dark:#E06C75">music</span><span style="color:#986801;--shiki-dark:#E06C75">\s</span><span style="color:#383A42;--shiki-dark:#D19A66">*</span><span style="color:#CA1243;--shiki-dark:#E06C75">(</span><span style="color:#986801;--shiki-dark:#E06C75">.</span><span style="color:#383A42;--shiki-dark:#D19A66">*?</span><span style="color:#CA1243;--shiki-dark:#E06C75">)</span><span style="color:#986801;--shiki-dark:#E06C75">\s</span><span style="color:#383A42;--shiki-dark:#D19A66">*</span><span style="color:#986801;--shiki-dark:#E06C75">\d</span><span style="color:#383A42;--shiki-dark:#D19A66">+</span><span style="color:#986801;--shiki-dark:#E06C75">\s</span><span style="color:#383A42;--shiki-dark:#D19A66">*</span><span style="color:#0184BC;--shiki-dark:#56B6C2">\&#125;</span><span style="color:#CA1243;--shiki-dark:#E06C75">/</span><span style="color:#383A42;--shiki-dark:#ABB2BF">)[</span><span style="color:#986801;--shiki-dark:#D19A66">1</span><span style="color:#383A42;--shiki-dark:#ABB2BF">]</span></span><span class="line"><span style="color:#CA1243;--shiki-dark:#C678DD">                                    &#125;</span><span style="color:#50A14F;--shiki-dark:#98C379">" type="song" id="</span><span style="color:#CA1243;--shiki-dark:#C678DD">$&#123;</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#E06C75">                                        aplayer</span><span style="color:#383A42;--shiki-dark:#ABB2BF">[</span><span style="color:#986801;--shiki-dark:#D19A66">0</span><span style="color:#383A42;--shiki-dark:#ABB2BF">]</span><span style="color:#50A14F;--shiki-dark:#ABB2BF">.</span><span style="color:#4078F2;--shiki-dark:#61AFEF">match</span><span style="color:#383A42;--shiki-dark:#ABB2BF">(</span><span style="color:#CA1243;--shiki-dark:#E06C75">/</span><span style="color:#986801;--shiki-dark:#E06C75">\d</span><span style="color:#383A42;--shiki-dark:#D19A66">+</span><span style="color:#CA1243;--shiki-dark:#E06C75">/</span><span style="color:#383A42;--shiki-dark:#ABB2BF">)[</span><span style="color:#986801;--shiki-dark:#D19A66">0</span><span style="color:#383A42;--shiki-dark:#ABB2BF">]</span></span><span class="line"><span style="color:#CA1243;--shiki-dark:#C678DD">                                    &#125;</span><span style="color:#50A14F;--shiki-dark:#98C379">" mutex="true" preload="none" theme="var(--efu-main)" data-lrctype="0">&#x3C;/meting-js>&#x3C;/div>`</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#C678DD">                                    :</span><span style="color:#50A14F;--shiki-dark:#98C379"> ""</span><span style="color:#383A42;--shiki-dark:#ABB2BF">;</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#E06C75">                                video</span><span style="color:#383A42;--shiki-dark:#56B6C2"> =</span><span style="color:#383A42;--shiki-dark:#E06C75"> video</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#C678DD">                                    ?</span><span style="color:#50A14F;--shiki-dark:#98C379"> `&#x3C;div class="bber-video">&#x3C;video src="</span><span style="color:#CA1243;--shiki-dark:#C678DD">$&#123;</span><span style="color:#383A42;--shiki-dark:#E06C75">video</span><span style="color:#383A42;--shiki-dark:#ABB2BF">[</span><span style="color:#986801;--shiki-dark:#D19A66">0</span><span style="color:#383A42;--shiki-dark:#ABB2BF">]</span></span><span class="line"><span style="color:#50A14F;--shiki-dark:#ABB2BF">                                        .</span><span style="color:#4078F2;--shiki-dark:#61AFEF">replace</span><span style="color:#383A42;--shiki-dark:#ABB2BF">(</span><span style="color:#383A42;--shiki-dark:#E06C75">playerRegex</span><span style="color:#50A14F;--shiki-dark:#ABB2BF">, </span><span style="color:#CA1243;--shiki-dark:#98C379">"</span><span style="color:#50A14F;--shiki-dark:#98C379">$1</span><span style="color:#CA1243;--shiki-dark:#98C379">"</span><span style="color:#383A42;--shiki-dark:#ABB2BF">)</span></span><span class="line"><span style="color:#50A14F;--shiki-dark:#ABB2BF">                                        .</span><span style="color:#4078F2;--shiki-dark:#61AFEF">trim</span><span style="color:#383A42;--shiki-dark:#ABB2BF">()</span><span style="color:#CA1243;--shiki-dark:#C678DD">&#125;</span><span style="color:#50A14F;--shiki-dark:#98C379">" controls="controls" style="object-fit: cover;">&#x3C;/video>&#x3C;/div>`</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#C678DD">                                    :</span><span style="color:#383A42;--shiki-dark:#E5C07B"> content</span><span style="color:#383A42;--shiki-dark:#ABB2BF">.</span><span style="color:#4078F2;--shiki-dark:#61AFEF">match</span><span style="color:#383A42;--shiki-dark:#ABB2BF">(</span><span style="color:#0184BC;--shiki-dark:#E06C75">/&#123;</span><span style="color:#986801;--shiki-dark:#E06C75">\s</span><span style="color:#383A42;--shiki-dark:#D19A66">*</span><span style="color:#0184BC;--shiki-dark:#E06C75">bilibili</span><span style="color:#986801;--shiki-dark:#E06C75">\s</span><span style="color:#383A42;--shiki-dark:#D19A66">*</span><span style="color:#0184BC;--shiki-dark:#E06C75">(</span><span style="color:#986801;--shiki-dark:#E06C75">.</span><span style="color:#383A42;--shiki-dark:#D19A66">*?</span><span style="color:#0184BC;--shiki-dark:#E06C75">)</span><span style="color:#986801;--shiki-dark:#E06C75">\s</span><span style="color:#383A42;--shiki-dark:#D19A66">*</span><span style="color:#0184BC;--shiki-dark:#E06C75">&#125;/</span><span style="color:#A626A4;--shiki-dark:#C678DD">g</span><span style="color:#383A42;--shiki-dark:#ABB2BF">);</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#E06C75">                                video</span><span style="color:#383A42;--shiki-dark:#56B6C2"> =</span><span style="color:#383A42;--shiki-dark:#E5C07B"> Array</span><span style="color:#383A42;--shiki-dark:#ABB2BF">.</span><span style="color:#4078F2;--shiki-dark:#61AFEF">isArray</span><span style="color:#383A42;--shiki-dark:#ABB2BF">(</span><span style="color:#383A42;--shiki-dark:#E06C75">video</span><span style="color:#383A42;--shiki-dark:#ABB2BF">)</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#C678DD">                                    ?</span><span style="color:#50A14F;--shiki-dark:#98C379"> `&#x3C;div class="bber-video">&#x3C;iframe src="//player.bilibili.com/player.html?bvid=</span><span style="color:#CA1243;--shiki-dark:#C678DD">$&#123;</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#E06C75">                                        video</span><span style="color:#383A42;--shiki-dark:#ABB2BF">[</span><span style="color:#986801;--shiki-dark:#D19A66">0</span><span style="color:#383A42;--shiki-dark:#ABB2BF">]</span><span style="color:#50A14F;--shiki-dark:#ABB2BF">.</span><span style="color:#4078F2;--shiki-dark:#61AFEF">match</span><span style="color:#383A42;--shiki-dark:#ABB2BF">(</span><span style="color:#CA1243;--shiki-dark:#E06C75">/(</span><span style="color:#0184BC;--shiki-dark:#E06C75">BV</span><span style="color:#986801;--shiki-dark:#E06C75">\w</span><span style="color:#383A42;--shiki-dark:#D19A66">+</span><span style="color:#CA1243;--shiki-dark:#E06C75">)/</span><span style="color:#383A42;--shiki-dark:#ABB2BF">)[</span><span style="color:#986801;--shiki-dark:#D19A66">1</span><span style="color:#383A42;--shiki-dark:#ABB2BF">]</span></span><span class="line"><span style="color:#CA1243;--shiki-dark:#C678DD">                                    &#125;$&#123;</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#E06C75">                                        video</span><span style="color:#383A42;--shiki-dark:#ABB2BF">[</span><span style="color:#986801;--shiki-dark:#D19A66">0</span><span style="color:#383A42;--shiki-dark:#ABB2BF">]</span><span style="color:#50A14F;--shiki-dark:#ABB2BF">.</span><span style="color:#4078F2;--shiki-dark:#61AFEF">match</span><span style="color:#383A42;--shiki-dark:#ABB2BF">(</span><span style="color:#CA1243;--shiki-dark:#E06C75">/</span><span style="color:#0184BC;--shiki-dark:#E06C75">&#123;</span><span style="color:#986801;--shiki-dark:#E06C75">\s</span><span style="color:#383A42;--shiki-dark:#D19A66">*</span><span style="color:#0184BC;--shiki-dark:#E06C75">bilibili</span><span style="color:#986801;--shiki-dark:#E06C75">\s</span><span style="color:#383A42;--shiki-dark:#D19A66">*</span><span style="color:#CA1243;--shiki-dark:#E06C75">(</span><span style="color:#986801;--shiki-dark:#E06C75">.</span><span style="color:#383A42;--shiki-dark:#D19A66">*?</span><span style="color:#CA1243;--shiki-dark:#E06C75">)</span><span style="color:#986801;--shiki-dark:#E06C75">\s</span><span style="color:#383A42;--shiki-dark:#D19A66">*</span><span style="color:#0184BC;--shiki-dark:#E06C75">true</span><span style="color:#986801;--shiki-dark:#E06C75">\s</span><span style="color:#383A42;--shiki-dark:#D19A66">*</span><span style="color:#0184BC;--shiki-dark:#E06C75">&#125;</span><span style="color:#CA1243;--shiki-dark:#E06C75">/</span><span style="color:#A626A4;--shiki-dark:#C678DD">g</span><span style="color:#383A42;--shiki-dark:#ABB2BF">)</span><span style="color:#383A42;--shiki-dark:#C678DD"> ?</span><span style="color:#CA1243;--shiki-dark:#98C379"> "</span><span style="color:#50A14F;--shiki-dark:#98C379">&#x26;autoplay=1</span><span style="color:#CA1243;--shiki-dark:#98C379">"</span><span style="color:#383A42;--shiki-dark:#C678DD"> :</span><span style="color:#CA1243;--shiki-dark:#98C379"> "</span><span style="color:#50A14F;--shiki-dark:#98C379">&#x26;autoplay=0</span><span style="color:#CA1243;--shiki-dark:#98C379">"</span></span><span class="line"><span style="color:#CA1243;--shiki-dark:#C678DD">                                    &#125;</span><span style="color:#50A14F;--shiki-dark:#98C379">" scrolling="no" bozrder="0" frameborder="no" framespacing="0" allowfullscreen="true">&#x3C;/iframe>&#x3C;/div>`</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#C678DD">                                    :</span><span style="color:#50A14F;--shiki-dark:#98C379"> ""</span><span style="color:#383A42;--shiki-dark:#ABB2BF">;</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#E06C75">                                link</span><span style="color:#383A42;--shiki-dark:#56B6C2"> =</span><span style="color:#383A42;--shiki-dark:#E06C75"> link</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#C678DD">                                    ?</span><span style="color:#383A42;--shiki-dark:#ABB2BF"> ((</span><span style="color:#383A42;--shiki-dark:#E06C75">type</span><span style="color:#383A42;--shiki-dark:#56B6C2"> =</span><span style="color:#383A42;--shiki-dark:#E06C75"> link</span><span style="color:#383A42;--shiki-dark:#ABB2BF">[</span><span style="color:#986801;--shiki-dark:#D19A66">0</span><span style="color:#383A42;--shiki-dark:#ABB2BF">].</span><span style="color:#4078F2;--shiki-dark:#61AFEF">replace</span><span style="color:#383A42;--shiki-dark:#ABB2BF">(</span><span style="color:#383A42;--shiki-dark:#E06C75">linkRegex</span><span style="color:#383A42;--shiki-dark:#ABB2BF">, </span><span style="color:#50A14F;--shiki-dark:#98C379">"$2"</span><span style="color:#383A42;--shiki-dark:#ABB2BF">)),</span></span><span class="line"><span style="color:#50A14F;--shiki-dark:#98C379">                                    `&#x3C;a class="bber-content-link" href='</span><span style="color:#CA1243;--shiki-dark:#C678DD">$&#123;</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#E5C07B">                                        type</span><span style="color:#50A14F;--shiki-dark:#ABB2BF">.</span><span style="color:#4078F2;--shiki-dark:#61AFEF">startsWith</span><span style="color:#383A42;--shiki-dark:#ABB2BF">(</span><span style="color:#CA1243;--shiki-dark:#98C379">"</span><span style="color:#50A14F;--shiki-dark:#98C379">/</span><span style="color:#CA1243;--shiki-dark:#98C379">"</span><span style="color:#383A42;--shiki-dark:#ABB2BF">)</span><span style="color:#383A42;--shiki-dark:#C678DD"> ?</span><span style="color:#383A42;--shiki-dark:#E06C75"> type</span><span style="color:#383A42;--shiki-dark:#C678DD"> :</span><span style="color:#383A42;--shiki-dark:#E5C07B"> type</span><span style="color:#50A14F;--shiki-dark:#ABB2BF">.</span><span style="color:#4078F2;--shiki-dark:#61AFEF">startsWith</span><span style="color:#383A42;--shiki-dark:#ABB2BF">(</span><span style="color:#CA1243;--shiki-dark:#98C379">"</span><span style="color:#50A14F;--shiki-dark:#98C379">http</span><span style="color:#CA1243;--shiki-dark:#98C379">"</span><span style="color:#383A42;--shiki-dark:#ABB2BF">)</span><span style="color:#383A42;--shiki-dark:#C678DD"> ?</span><span style="color:#383A42;--shiki-dark:#E06C75"> type</span><span style="color:#383A42;--shiki-dark:#C678DD"> :</span><span style="color:#CA1243;--shiki-dark:#98C379"> "</span><span style="color:#50A14F;--shiki-dark:#98C379">https://</span><span style="color:#CA1243;--shiki-dark:#98C379">"</span><span style="color:#383A42;--shiki-dark:#56B6C2"> +</span><span style="color:#383A42;--shiki-dark:#E06C75"> type</span></span><span class="line"><span style="color:#CA1243;--shiki-dark:#C678DD">                                    &#125;</span><span style="color:#50A14F;--shiki-dark:#98C379">' target="_blank"></span><span style="color:#CA1243;--shiki-dark:#C678DD">$&#123;</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#E06C75">                                        link</span><span style="color:#383A42;--shiki-dark:#ABB2BF">[</span><span style="color:#986801;--shiki-dark:#D19A66">0</span><span style="color:#383A42;--shiki-dark:#ABB2BF">]</span><span style="color:#50A14F;--shiki-dark:#ABB2BF">.</span><span style="color:#4078F2;--shiki-dark:#61AFEF">replace</span><span style="color:#383A42;--shiki-dark:#ABB2BF">(</span><span style="color:#383A42;--shiki-dark:#E06C75">linkRegex</span><span style="color:#50A14F;--shiki-dark:#ABB2BF">, </span><span style="color:#CA1243;--shiki-dark:#98C379">"</span><span style="color:#50A14F;--shiki-dark:#98C379">$1</span><span style="color:#CA1243;--shiki-dark:#98C379">"</span><span style="color:#383A42;--shiki-dark:#ABB2BF">)</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#C678DD">                                        ?</span><span style="color:#CA1243;--shiki-dark:#98C379"> "</span><span style="color:#50A14F;--shiki-dark:#98C379">@</span><span style="color:#CA1243;--shiki-dark:#98C379">"</span><span style="color:#383A42;--shiki-dark:#56B6C2"> +</span><span style="color:#383A42;--shiki-dark:#E06C75"> link</span><span style="color:#383A42;--shiki-dark:#ABB2BF">[</span><span style="color:#986801;--shiki-dark:#D19A66">0</span><span style="color:#383A42;--shiki-dark:#ABB2BF">]</span><span style="color:#50A14F;--shiki-dark:#ABB2BF">.</span><span style="color:#4078F2;--shiki-dark:#61AFEF">replace</span><span style="color:#383A42;--shiki-dark:#ABB2BF">(</span><span style="color:#383A42;--shiki-dark:#E06C75">linkRegex</span><span style="color:#50A14F;--shiki-dark:#ABB2BF">, </span><span style="color:#CA1243;--shiki-dark:#98C379">"</span><span style="color:#50A14F;--shiki-dark:#98C379">$1</span><span style="color:#CA1243;--shiki-dark:#98C379">"</span><span style="color:#383A42;--shiki-dark:#ABB2BF">)</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#C678DD">                                        :</span><span style="color:#CA1243;--shiki-dark:#98C379"> "</span><span style="color:#50A14F;--shiki-dark:#98C379">跳转到短文指引的链接</span><span style="color:#CA1243;--shiki-dark:#98C379">"</span></span><span class="line"><span style="color:#CA1243;--shiki-dark:#C678DD">                                    &#125;</span><span style="color:#50A14F;--shiki-dark:#98C379">&#x3C;/a>`</span><span style="color:#383A42;--shiki-dark:#ABB2BF">)</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#C678DD">                                    :</span><span style="color:#50A14F;--shiki-dark:#98C379"> ""</span><span style="color:#383A42;--shiki-dark:#ABB2BF">;</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#E06C75">                                from</span><span style="color:#383A42;--shiki-dark:#56B6C2"> =</span><span style="color:#383A42;--shiki-dark:#E06C75"> from</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#C678DD">                                    ?</span><span style="color:#50A14F;--shiki-dark:#98C379"> `&#x3C;div class="bber-info-from">&#x3C;i class="solitude fa-solid fa-hashtag">&#x3C;/i></span><span style="color:#CA1243;--shiki-dark:#C678DD">$&#123;</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#E06C75">                                    from</span><span style="color:#383A42;--shiki-dark:#ABB2BF">[</span><span style="color:#986801;--shiki-dark:#D19A66">0</span><span style="color:#383A42;--shiki-dark:#ABB2BF">]</span><span style="color:#50A14F;--shiki-dark:#ABB2BF">.</span><span style="color:#4078F2;--shiki-dark:#61AFEF">replace</span><span style="color:#383A42;--shiki-dark:#ABB2BF">(</span><span style="color:#383A42;--shiki-dark:#E06C75">fromRegex</span><span style="color:#50A14F;--shiki-dark:#ABB2BF">, </span><span style="color:#CA1243;--shiki-dark:#98C379">"</span><span style="color:#50A14F;--shiki-dark:#98C379">$1</span><span style="color:#CA1243;--shiki-dark:#98C379">"</span><span style="color:#383A42;--shiki-dark:#ABB2BF">)</span></span><span class="line"><span style="color:#CA1243;--shiki-dark:#C678DD">                                    &#125;</span><span style="color:#50A14F;--shiki-dark:#98C379">&#x3C;/div>`</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#C678DD">                                    :</span><span style="color:#50A14F;--shiki-dark:#98C379"> ""</span><span style="color:#383A42;--shiki-dark:#ABB2BF">;</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#E06C75">                                content</span><span style="color:#383A42;--shiki-dark:#56B6C2"> =</span><span style="color:#383A42;--shiki-dark:#E06C75"> content</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">                                    .</span><span style="color:#4078F2;--shiki-dark:#61AFEF">replace</span><span style="color:#383A42;--shiki-dark:#ABB2BF">(</span><span style="color:#383A42;--shiki-dark:#E06C75">contentRegex</span><span style="color:#383A42;--shiki-dark:#ABB2BF">, </span><span style="color:#50A14F;--shiki-dark:#98C379">""</span><span style="color:#383A42;--shiki-dark:#ABB2BF">)</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">                                    .</span><span style="color:#4078F2;--shiki-dark:#61AFEF">replace</span><span style="color:#383A42;--shiki-dark:#ABB2BF">(</span><span style="color:#383A42;--shiki-dark:#E06C75">imageRegex</span><span style="color:#383A42;--shiki-dark:#ABB2BF">, </span><span style="color:#50A14F;--shiki-dark:#98C379">""</span><span style="color:#383A42;--shiki-dark:#ABB2BF">)</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">                                    .</span><span style="color:#4078F2;--shiki-dark:#61AFEF">replace</span><span style="color:#383A42;--shiki-dark:#ABB2BF">(</span><span style="color:#0184BC;--shiki-dark:#E06C75">/</span><span style="color:#0184BC;--shiki-dark:#56B6C2">\&#123;</span><span style="color:#0184BC;--shiki-dark:#E06C75">(</span><span style="color:#986801;--shiki-dark:#E06C75">.</span><span style="color:#383A42;--shiki-dark:#D19A66">*?</span><span style="color:#0184BC;--shiki-dark:#E06C75">)</span><span style="color:#0184BC;--shiki-dark:#56B6C2">\&#125;</span><span style="color:#0184BC;--shiki-dark:#E06C75">/</span><span style="color:#A626A4;--shiki-dark:#C678DD">g</span><span style="color:#383A42;--shiki-dark:#ABB2BF">, </span><span style="color:#50A14F;--shiki-dark:#98C379">""</span><span style="color:#383A42;--shiki-dark:#ABB2BF">)</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">                                    .</span><span style="color:#4078F2;--shiki-dark:#61AFEF">replace</span><span style="color:#383A42;--shiki-dark:#ABB2BF">(</span><span style="color:#383A42;--shiki-dark:#E06C75">linkRegex</span><span style="color:#383A42;--shiki-dark:#ABB2BF">, </span><span style="color:#50A14F;--shiki-dark:#98C379">""</span><span style="color:#383A42;--shiki-dark:#ABB2BF">)</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">                                    .</span><span style="color:#4078F2;--shiki-dark:#61AFEF">trim</span><span style="color:#383A42;--shiki-dark:#ABB2BF">();</span></span><span class="line"><span style="color:#A626A4;--shiki-dark:#C678DD">                                return</span><span style="color:#50A14F;--shiki-dark:#98C379"> `&#x3C;li class="item"></span></span><span class="line"><span style="color:#50A14F;--shiki-dark:#98C379">                                    &#x3C;div class="meta"></span></span><span class="line"><span style="color:#50A14F;--shiki-dark:#98C379">                                        &#x3C;img class="no-lightbox nolazyload avatar" src="!&#123;theme.aside.card.author.img&#125;"></span></span><span class="line"><span style="color:#50A14F;--shiki-dark:#98C379">                                        &#x3C;div class="info"></span></span><span class="line"><span style="color:#50A14F;--shiki-dark:#98C379">                                            &#x3C;span class="bber_nick">#&#123;config.author&#125;&#x3C;/span></span></span><span class="line"><span style="color:#50A14F;--shiki-dark:#98C379">                                            &#x3C;time class="datetime bber_date" datetime="</span><span style="color:#CA1243;--shiki-dark:#C678DD">$&#123;</span><span style="color:#383A42;--shiki-dark:#E06C75">time</span><span style="color:#CA1243;--shiki-dark:#C678DD">&#125;</span><span style="color:#50A14F;--shiki-dark:#98C379">">&#x3C;/time></span></span><span class="line"><span style="color:#50A14F;--shiki-dark:#98C379">                                        &#x3C;/div></span></span><span class="line"><span style="color:#CA1243;--shiki-dark:#C678DD">                                        $&#123;</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#E06C75">                                        content</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#C678DD">                                            ?</span><span style="color:#50A14F;--shiki-dark:#98C379"> `&#x3C;a class="bber-reply" onclick="sco.toTalk('</span><span style="color:#CA1243;--shiki-dark:#C678DD">$&#123;</span><span style="color:#383A42;--shiki-dark:#E06C75">content</span><span style="color:#CA1243;--shiki-dark:#C678DD">&#125;</span><span style="color:#50A14F;--shiki-dark:#98C379">')">&#x3C;i class="solitude fa-solid fa-comment" style="font-size: 1rem;">&#x3C;/i>&#x3C;/a>`</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#C678DD">                                            :</span><span style="color:#CA1243;--shiki-dark:#98C379"> ""</span></span><span class="line"><span style="color:#CA1243;--shiki-dark:#C678DD">                                        &#125;</span></span><span class="line"><span style="color:#50A14F;--shiki-dark:#98C379">                                    &#x3C;/div></span></span><span class="line"><span style="color:#50A14F;--shiki-dark:#98C379">                                    &#x3C;div id="bber-content"></span></span><span class="line"><span style="color:#CA1243;--shiki-dark:#C678DD">                                        $&#123;</span><span style="color:#383A42;--shiki-dark:#E06C75">content</span><span style="color:#383A42;--shiki-dark:#C678DD"> ?</span><span style="color:#50A14F;--shiki-dark:#98C379"> `&#x3C;p class="bber-content">&#x3C;span></span><span style="color:#CA1243;--shiki-dark:#C678DD">$&#123;</span><span style="color:#383A42;--shiki-dark:#E06C75">content</span><span style="color:#CA1243;--shiki-dark:#C678DD">&#125;</span><span style="color:#50A14F;--shiki-dark:#98C379">&#x3C;/span></span><span style="color:#CA1243;--shiki-dark:#C678DD">$&#123;</span><span style="color:#383A42;--shiki-dark:#E06C75">link</span><span style="color:#CA1243;--shiki-dark:#C678DD">&#125;</span><span style="color:#50A14F;--shiki-dark:#98C379">&#x3C;/p>`</span><span style="color:#383A42;--shiki-dark:#C678DD"> :</span><span style="color:#CA1243;--shiki-dark:#98C379"> ""</span><span style="color:#CA1243;--shiki-dark:#C678DD">&#125;</span></span><span class="line"><span style="color:#CA1243;--shiki-dark:#C678DD">                                        $&#123;</span><span style="color:#383A42;--shiki-dark:#E06C75">image</span><span style="color:#383A42;--shiki-dark:#C678DD"> ?</span><span style="color:#50A14F;--shiki-dark:#98C379"> `&#x3C;div class="bber-content-img"></span><span style="color:#CA1243;--shiki-dark:#C678DD">$&#123;</span><span style="color:#383A42;--shiki-dark:#E06C75">image</span><span style="color:#CA1243;--shiki-dark:#C678DD">&#125;</span><span style="color:#50A14F;--shiki-dark:#98C379">&#x3C;/div>`</span><span style="color:#383A42;--shiki-dark:#C678DD"> :</span><span style="color:#CA1243;--shiki-dark:#98C379"> ""</span><span style="color:#CA1243;--shiki-dark:#C678DD">&#125;</span></span><span class="line"><span style="color:#50A14F;--shiki-dark:#98C379">                                    &#x3C;/div></span></span><span class="line"><span style="color:#CA1243;--shiki-dark:#C678DD">                                    $&#123;</span><span style="color:#383A42;--shiki-dark:#E06C75">aplayer</span><span style="color:#CA1243;--shiki-dark:#C678DD">&#125;</span></span><span class="line"><span style="color:#CA1243;--shiki-dark:#C678DD">                                    $&#123;</span><span style="color:#383A42;--shiki-dark:#E06C75">video</span><span style="color:#CA1243;--shiki-dark:#C678DD">&#125;</span></span><span class="line"><span style="color:#50A14F;--shiki-dark:#98C379">                                    &#x3C;div class="bber-bottom"></span></span><span class="line"><span style="color:#50A14F;--shiki-dark:#98C379">                                        &#x3C;div class="bber-info"></span></span><span class="line"><span style="color:#CA1243;--shiki-dark:#C678DD">                                            $&#123;</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#E5C07B">                                            item</span><span style="color:#50A14F;--shiki-dark:#ABB2BF">.</span><span style="color:#E45649;--shiki-dark:#E5C07B">content</span><span style="color:#50A14F;--shiki-dark:#ABB2BF">.</span><span style="color:#4078F2;--shiki-dark:#61AFEF">includes</span><span style="color:#383A42;--shiki-dark:#ABB2BF">(</span><span style="color:#CA1243;--shiki-dark:#98C379">"</span><span style="color:#50A14F;--shiki-dark:#98C379">#top</span><span style="color:#CA1243;--shiki-dark:#98C379">"</span><span style="color:#383A42;--shiki-dark:#ABB2BF">)</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#C678DD">                                                ?</span><span style="color:#50A14F;--shiki-dark:#98C379"> `&#x3C;div class="bber-info-top">&#x3C;i class="solitude fa-solid fa-thumbtack">&#x3C;/i>置顶&#x3C;/div>`</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#C678DD">                                                :</span><span style="color:#CA1243;--shiki-dark:#98C379"> ""</span></span><span class="line"><span style="color:#CA1243;--shiki-dark:#C678DD">                                            &#125;</span></span><span class="line"><span style="color:#CA1243;--shiki-dark:#C678DD">                                            $&#123;</span><span style="color:#383A42;--shiki-dark:#E06C75">from</span><span style="color:#CA1243;--shiki-dark:#C678DD">&#125;</span></span><span class="line"><span style="color:#50A14F;--shiki-dark:#98C379">                                        &#x3C;/div></span></span><span class="line"><span style="color:#50A14F;--shiki-dark:#98C379">                                    &#x3C;/div></span></span><span class="line"><span style="color:#50A14F;--shiki-dark:#98C379">                                &#x3C;/li>`</span><span style="color:#383A42;--shiki-dark:#ABB2BF">;</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">                            &#125;</span></span></code></pre></td></tr></tbody></table></figure><p>主要的东西就是 solitude/layout/includes/page/says.pug里的内嵌脚本，因为有两种风格所以只能写在 pug 里，非 Solitude主题基本只需要改一下最后生成的 HTML 片段即可。</p>]]></content:encoded>
      
      
      <category domain="https://blog.hpcesia.com/categories/%E5%B0%8F%E5%B1%8B%E7%9B%B8%E5%85%B3/">小屋相关</category>
      
      
      <category domain="https://blog.hpcesia.com/tags/Hexo/">Hexo</category>
      
      <category domain="https://blog.hpcesia.com/tags/%E5%8D%9A%E5%AE%A2/">博客</category>
      
      <category domain="https://blog.hpcesia.com/tags/Solitude/">Solitude</category>
      
      <category domain="https://blog.hpcesia.com/tags/Memos/">Memos</category>
      
      
      <comments>https://blog.hpcesia.com/posts/a604572f/#disqus_thread</comments>
      
    </item>
    
    <item>
      <title>优化扫描版电子书指北</title>
      <link>https://blog.hpcesia.com/posts/2dcf5c58/</link>
      <guid>https://blog.hpcesia.com/posts/2dcf5c58/</guid>
      <pubDate>Sun, 10 Nov 2024 06:44:07 GMT</pubDate>
      
        
        
          
          
      <description>&lt;h2 id=&quot;什么是优化的电子书&quot;&gt;什么是优化的电子书&lt;/h2&gt;
&lt;p&gt;如果不看内容，只看阅读的方便程度，一本优秀的电子书应该是怎样的？最优秀的自然是由制作优良的
&lt;span class=&quot;math inline&quot;&gt;&#92;(&#92;LaTeX&#92;)&lt;/span&gt; 或 Typst</description>
          
        
      
      
      
      <content:encoded><![CDATA[<h2 id="什么是优化的电子书">什么是优化的电子书</h2><p>如果不看内容，只看阅读的方便程度，一本优秀的电子书应该是怎样的？最优秀的自然是由制作优良的<span class="math inline">\(\LaTeX\)</span> 或 Typst 源码直接编译生成的PDF文件，有可跳转的目录，有目录书签，有可搜索文本。但这种电子书除非是开源的，否则只会在制作者的小圈子内流通，不会轻易流通。次一级，便是制作优良的扫描版电子书了。</p><p>一个制作优良的扫描版电子书应该是怎样的？文字图片清晰，有目录书签与可搜索文本，这是我对制作优良的扫描版电子书的定义。我在学习一些专业课程、获取某些专业资料时，经常会遇到一些扫描版的电子书，这些电子书有一部分已经制作好了正确的目录书签，方便进行阅读，但文本不可搜索；更多的只有页码作为书签，甚至完全没有任何书签。这样的电子书显然是不方便阅读的，会极大降低学习效率，因此，我选择自力更生，对这些扫描版电子书进行优化。</p><h2 id="怎么优化扫描版电子书">怎么优化扫描版电子书</h2><p>考虑到可能的版权问题，我选择使用我自己的课程作业pdf，通过开源在线项目 <a href="https://lookscanned.io/zh/" rel="external nofollow noreferrer">LookScanned</a> 将其变成扫描件来演示。</p><div class="repo-card"><a class='name-8un0oal1k repo-title fancybox' href="https://github.com/rwv/lookscanned.io" rel="external nofollow noreferrer"></a><p class='desc-8un0oal1k repo-desc'></p><div class="repo-gist"><i class="fas fa-star"></i><span class='star-8un0oal1k'></span><i class="fas fa-code-branch"></i><span class='fork-8un0oal1k'></span></div><img class='lang-8un0oal1k repo-language no-lightbox' /><script>    fetch('https://api.github.com/repos/rwv/lookscanned.io')      .then(res => res.json())      .then(data => {        document.querySelector('.name-8un0oal1k').innerText = data.name;        document.querySelector('.desc-8un0oal1k').innerText = data.description;        document.querySelector('.star-8un0oal1k').innerText = data.stargazers_count;        document.querySelector('.fork-8un0oal1k').innerText = data.forks_count;        document.querySelector('.lang-8un0oal1k').src = 'https://skillicons.dev/icons?i=' + data.language.toLowerCase();    });  </script></div><h3 id="图像处理">图像处理</h3><p>首先，需要将 PDF 的图像全部提取出来，这里 Windows 用户可以使用维护了12 年、近两年开源的老牌免费 PDF 处理工具箱「PDF 补丁丁」：</p><div class="repo-card"><a class='name-tq2ff0wt3 repo-title fancybox' href="https://github.com/wmjordan/PDFPatcher" rel="external nofollow noreferrer"></a><p class='desc-tq2ff0wt3 repo-desc'></p><div class="repo-gist"><i class="fas fa-star"></i><span class='star-tq2ff0wt3'></span><i class="fas fa-code-branch"></i><span class='fork-tq2ff0wt3'></span></div><img class='lang-tq2ff0wt3 repo-language no-lightbox' /><script>    fetch('https://api.github.com/repos/wmjordan/PDFPatcher')      .then(res => res.json())      .then(data => {        document.querySelector('.name-tq2ff0wt3').innerText = data.name;        document.querySelector('.desc-tq2ff0wt3').innerText = data.description;        document.querySelector('.star-tq2ff0wt3').innerText = data.stargazers_count;        document.querySelector('.fork-tq2ff0wt3').innerText = data.forks_count;        document.querySelector('.lang-tq2ff0wt3').src = 'https://skillicons.dev/icons?i=' + data.language.toLowerCase();    });  </script></div><p>macOS 与 Linux 用户可以使用下面的项目作为替代品：</p><div class="repo-card"><a class='name-nlsc0krsl repo-title fancybox' href="https://github.com/Stirling-Tools/Stirling-PDF" rel="external nofollow noreferrer"></a><p class='desc-nlsc0krsl repo-desc'></p><div class="repo-gist"><i class="fas fa-star"></i><span class='star-nlsc0krsl'></span><i class="fas fa-code-branch"></i><span class='fork-nlsc0krsl'></span></div><img class='lang-nlsc0krsl repo-language no-lightbox' /><script>    fetch('https://api.github.com/repos/Stirling-Tools/Stirling-PDF')      .then(res => res.json())      .then(data => {        document.querySelector('.name-nlsc0krsl').innerText = data.name;        document.querySelector('.desc-nlsc0krsl').innerText = data.description;        document.querySelector('.star-nlsc0krsl').innerText = data.stargazers_count;        document.querySelector('.fork-nlsc0krsl').innerText = data.forks_count;        document.querySelector('.lang-nlsc0krsl').src = 'https://skillicons.dev/icons?i=' + data.language.toLowerCase();    });  </script></div><p>Stirling-PDF的图像提取功能似乎不够完善，不能直接提取扫描件的图像，需要使用 PDF转图像功能才能正常导出图像，速度慢不少。</p><p>提取出全部图像后，就该对其进行处理了。Scantailor Advanced是一个开源的扫描件处理软件，虽然其基于的 Scantailor 已经 Public Archive了，但是依旧好用。</p><div class="repo-card"><a class='name-dvps2e91b repo-title fancybox' href="https://github.com/4lex4/scantailor-advanced" rel="external nofollow noreferrer"></a><p class='desc-dvps2e91b repo-desc'></p><div class="repo-gist"><i class="fas fa-star"></i><span class='star-dvps2e91b'></span><i class="fas fa-code-branch"></i><span class='fork-dvps2e91b'></span></div><img class='lang-dvps2e91b repo-language no-lightbox' /><script>    fetch('https://api.github.com/repos/4lex4/scantailor-advanced')      .then(res => res.json())      .then(data => {        document.querySelector('.name-dvps2e91b').innerText = data.name;        document.querySelector('.desc-dvps2e91b').innerText = data.description;        document.querySelector('.star-dvps2e91b').innerText = data.stargazers_count;        document.querySelector('.fork-dvps2e91b').innerText = data.forks_count;        document.querySelector('.lang-dvps2e91b').src = 'https://skillicons.dev/icons?i=' + data.language.toLowerCase();    });  </script></div><p>在软件中新建项目，选择之前导出的图片，就可以开始图片处理了。</p><figure><img src= "" data-lazy-src="https://bu.dusays.com/2024/11/10/67303cbd62a87.webp"alt="Scantailor Advanced 页面" /><figcaption aria-hidden="true">Scantailor Advanced 页面</figcaption></figure><p>页面是全英文，没有中文翻译，但是看懂难度不大。点击右上角栏目右边的小绿三角就可以对所有页面执行当前的操作了，基本全部使用auto即可，效果相当不错。需要注意，右侧的选项调整默认只对当前页面生效，需要使用「Applyto」按钮来应用到全部页面。</p><figure><img src= "" data-lazy-src="https://bu.dusays.com/2024/11/10/67303e796cf0a.webp"alt="Scantailor Advanced 页面" /><figcaption aria-hidden="true">Scantailor Advanced 页面</figcaption></figure><p>需要注意的是，中文文档可能需要在 output 中关闭「Savitzky-Golaysmoothing」，不然文字会糊成一团。DPI可以调高一点，不然容易看不清，全是黑白页面的话 DPI拉高，文件大小也不会太大。</p><p>一路优化完成后，只要 output中处理了全部页面且效果满意，就可以关闭软件了，输出的图片会保存在 out目录中。接着使用 PDFPatcher 或 Stirling-PDF 合并导出的图片为PDF，第一步处理大功告成。</p><p><img src= "" data-lazy-src="https://bu.dusays.com/2024/11/10/673050598911e.webp"alt="效果 1" /> <imgsrc="https://bu.dusays.com/2024/11/10/6730509a54c01.webp"alt="效果 2" /></p><p>可以看出文字效果不错，图像效果有点差。</p><h3 id="ocr">OCR</h3><p>第二步，是对 PDF 做 OCR 处理，这里需要用到一个开源项目：</p><div class="repo-card"><a class='name-gtu1i6o9o repo-title fancybox' href="https://github.com/hiroi-sora/Umi-OCR" rel="external nofollow noreferrer"></a><p class='desc-gtu1i6o9o repo-desc'></p><div class="repo-gist"><i class="fas fa-star"></i><span class='star-gtu1i6o9o'></span><i class="fas fa-code-branch"></i><span class='fork-gtu1i6o9o'></span></div><img class='lang-gtu1i6o9o repo-language no-lightbox' /><script>    fetch('https://api.github.com/repos/hiroi-sora/Umi-OCR')      .then(res => res.json())      .then(data => {        document.querySelector('.name-gtu1i6o9o').innerText = data.name;        document.querySelector('.desc-gtu1i6o9o').innerText = data.description;        document.querySelector('.star-gtu1i6o9o').innerText = data.stargazers_count;        document.querySelector('.fork-gtu1i6o9o').innerText = data.forks_count;        document.querySelector('.lang-gtu1i6o9o').src = 'https://skillicons.dev/icons?i=' + data.language.toLowerCase();    });  </script></div><p>这是一个支持多种开源 OCR 模型的开源项目，支持 Windows 7 及以上的Windows x64 平台与 Linux x64 平台，可以方便地将扫描版的 PDF转换为带有可搜索图像文本的 PDF，同时使用了嵌入 Python解释器，可以让小白开箱即用。</p><p><img src= "" data-lazy-src="https://bu.dusays.com/2024/11/09/672f74141753d.webp"alt="Umi-OCR 页面展示" /> <imgsrc="https://bu.dusays.com/2024/11/10/673052ab0ee80.webp"alt="Umi-OCR 页面展示" /></p><p>对于 macOS 用户，由于该项目作者没钱买mac<del>（好真实的理由）</del>，所以目前只能通过 Docker或虚拟机的方式来使用。</p><p>由于该软件界面一目了然，因此不做过多说明，选择批量文档，内容提取模式选择「混合OCR/原文本」即可。</p><h3 id="目录书签制作">目录书签制作</h3><p>第三步，则是制作目录书签。这里同样需要用到一个开源项目：</p><div class="repo-card"><a class='name-e267kv6kk repo-title fancybox' href="https://github.com/chroming/pdfdir" rel="external nofollow noreferrer"></a><p class='desc-e267kv6kk repo-desc'></p><div class="repo-gist"><i class="fas fa-star"></i><span class='star-e267kv6kk'></span><i class="fas fa-code-branch"></i><span class='fork-e267kv6kk'></span></div><img class='lang-e267kv6kk repo-language no-lightbox' /><script>    fetch('https://api.github.com/repos/chroming/pdfdir')      .then(res => res.json())      .then(data => {        document.querySelector('.name-e267kv6kk').innerText = data.name;        document.querySelector('.desc-e267kv6kk').innerText = data.description;        document.querySelector('.star-e267kv6kk').innerText = data.stargazers_count;        document.querySelector('.fork-e267kv6kk').innerText = data.forks_count;        document.querySelector('.lang-e267kv6kk').src = 'https://skillicons.dev/icons?i=' + data.language.toLowerCase();    });  </script></div><p>该项目可以将给定的目录作为书签嵌入到 PDF当中。目录的获取有几种办法，首先是去一些有该电子书信息的的网站上查找是否有目录信息，有的话用网站上的最好；如果找不到现成信息，则可以使用刚才OCR 好的 PDF，利用书里的目录来制作，但由于 OCR识别的不稳定性，这种方式通常需要手动修正文本。</p><figure><img src= "" data-lazy-src="https://bu.dusays.com/2024/11/10/6730548cd7346.png"alt="制作目录" /><figcaption aria-hidden="true">制作目录</figcaption></figure><p>如图所示，该工具支持自定义正则表达式来匹配目录层级，也支持设置页差，可以方便快捷地将目录书签注入到PDF 中。</p><h3 id="效果演示">效果演示</h3><p>将源文件和制作的优化版扫描文件进行对比，可以看出效果还是不错的：</p><p><img src= "" data-lazy-src="https://bu.dusays.com/2024/11/10/6730556110ae3.webp"alt="扫描版" /> <imgsrc="https://bu.dusays.com/2024/11/10/673055b354a10.webp"alt="源文件" /></p>]]></content:encoded>
      
      
      <category domain="https://blog.hpcesia.com/categories/%E7%BB%8F%E9%AA%8C%E8%AE%B0%E5%BD%95/">经验记录</category>
      
      
      <category domain="https://blog.hpcesia.com/tags/%E7%94%B5%E5%AD%90%E4%B9%A6/">电子书</category>
      
      <category domain="https://blog.hpcesia.com/tags/PDF/">PDF</category>
      
      
      <comments>https://blog.hpcesia.com/posts/2dcf5c58/#disqus_thread</comments>
      
    </item>
    
    <item>
      <title>周寄（一）| 忙里偷闲</title>
      <link>https://blog.hpcesia.com/posts/ae952b18/</link>
      <guid>https://blog.hpcesia.com/posts/ae952b18/</guid>
      <pubDate>Sat, 09 Nov 2024 07:27:11 GMT</pubDate>
      
      <description>本次周记记录了在 11 月的个人博客优化工作与生活日常。</description>
      
      
      
      <content:encoded><![CDATA[<p>上回的月记还说自己没那信心周更，但这周事情不少，所以还是可以写一篇出来的。</p><p>为了与之前的月记无缝衔接，本次周记记录时间为：11.01 - 11.08</p><h2 id="小屋装修">小屋装修</h2><h3 id="更换网站部署">更换网站部署</h3><p>这周我把网站部署从 GitHub Page 切换到 Netlify 了。GitHub Page用的好好的，为什么要换呢？因为 Netlify速度确实快。得益于较高的审核门槛，Netlify 不像 Vercel那样默认域名被完全屏蔽，挂上自己域名以后更是速度相当不错，比 GitHub Page走 Cloudflare CDN 速度要快一些： <imgsrc="https://bu.dusays.com/2024/11/04/6728b30a4e18b.webp"alt="GitHub Page + Cloudflare CDN 测速" /> <imgsrc="https://bu.dusays.com/2024/11/04/6728b4497b071.webp"alt="Netlify 测速" /> 效果可以说是相当明显了。我还听了<ahref="https://www.yoghurtlee.com/">小氯</a>的建议，挂了一下<ahref="https://github.com/xingpingcn/enhanced-FaaS-in-China">优选线路</a>，速度更快了：<img src= "" data-lazy-src="https://bu.dusays.com/2024/11/05/6729d69e32209.webp"alt="优选线路 Netlify 测速" /></p><p>另一方面则是，我认为 GitHub Page应该留给更正经的项目的页面，而不是我的个人博客。由于我之前一段时间使用的是github.io 域名，且做过 SEO，因此我现在将 GitHub Page 指向了 blog-backup域名，该域名又会 301重定向到主域名，以保证搜索结果正确跳转。等到我有合适的项目主页放到GitHub Page 的时候，大概就不需要再考虑之前博客做的 SEO 了。</p><h3 id="友链朋友圈">友链朋友圈</h3><p>我看友链朋友圈这东西眼馋不少时间了<del>（主要是我没服务器不能部署RSS）</del>，所以这周也花了点时间整了一个<ahref="https://github.com/willow-god/Friend-Circle-Lite">轻量友链朋友圈</a>，目前姑且是作为我个人的丐版RSS 来使用，等后续下定决心买云服务器了再自建一个 RSS 来用。</p><h3 id="其他琐碎的装修">其他琐碎的装修</h3><p>剩下的就是一些琐碎的装修内容了，比如改了下右键菜单「引用到评论」的逻辑，改了改游戏页面，往页脚加了只<ahref="https://bu.dusays.com/2024/11/05/6729fd1e96b9d.webp">探头的七七</a>。</p><h3 id="排版">排版</h3><h4 id="markdown-标题">Markdown 标题</h4><p>最近闲来无事，打开 Bing 的站点管理工具看了一眼，提示我页面中<code>&lt;h1&gt;</code> 标签过多。我发现这是我的 Markdown书写风格不太好导致的。知名 Markdown 语法检查器 <ahref="https://github.com/DavidAnson/markdownlint">markdownlint</a> 的<ahref="https://github.com/DavidAnson/markdownlint/blob/main/doc/Rules.md#md025---multiple-top-level-headings-in-the-same-document">第25 条规则</a>指出，一个 Markdown 文件中，一级标题<code># Heading 1</code>应该用作文章标题，有且只有一个，因此正文中最高的标题层级只能是二级标题<code>## Heading 2</code>。但是我自己在写文章的时候，文章分段标题都是使用的一级标题，所以我需要对其进行修改。</p><p>最开始我打算使用正则表达式，批量修改所有文章的标题层级。但是经过一番尝试，由于代码块中的代码注释也可能以<code>#</code>开头，正则表达式要考虑的东西有点多，果断放弃了。但幸运的是，我渲染文章使用的引擎是<ahref="https://github.com/hexojs/hexo-renderer-pandoc">hexo-renderer-pandoc</a>，而pandoc显然考虑到了这一问题，提供了一个选项来控制标题层级：<code>--shift-heading-level-by=NUMBER</code>，于是我愉快的避免了为此花时间搓一个重复的轮子。</p><h4 id="行内公式与中文混排">行内公式与中文混排</h4><p>我在翻看自己博客的时候，总有一点让我非常在意，那就是行间公式和中文的混排效果：<img src= "" data-lazy-src="https://bu.dusays.com/2024/11/06/672b07ea23dc0.png"alt="之前行内公式与中文混排效果" />可以发现，行间公式与中文混排时，右边是没有间距的，看着非常难受。但是当我在本地使用<code>hexo server</code>时，混排效果却是正常的两边都有间距，而按正常步骤生成静态页面后使用<code>hexo server --static</code>，则是没有右边间距的混排效果。</p><p>那么问题来了，是什么影响了这个混排效果？思来想去，发现是因为我使用了Gulp 来压缩 html文件，结果把正常的间距给压缩没了。翻了下文档，选择在使用gulp-html-minifier-terser 压缩 html 时加上<code>conservativeCollapse: true</code> 这个参数来解决问题。</p><h4 id="hello-autocorrect-and-goodbye">Hello, AutoCorrect, andGoodbye</h4><p>我在<ahref="https://www.eallion.com/cjk-punctuation/">到处乱逛</a>的时候，发现了<a href="https://github.com/huacnlee/autocorrect" rel="external nofollow noreferrer">AutoCorrect</a>这个好东西。这个工具可以自动提示文章中英文混排的一些错误，并且可以使用命令行或VSCode 插件进行自动格式化。</p><p>这听起来相当诱人——尤其是我写文章的时候一般都会手动在中英文之间加上空格，而使用这个插件以后，我就不用再花费时间来手打空格了。但是只使用了十分钟，我便卸载了AutoCorrect 的 VSCode 插件。这是因为 AutoCorrect的自动格式化在各式各样的 Markdown 方言面前有些发力。例如 Hexo支持文章中以 <code>&#123;% tag_name ..args %&#125;</code> 的方式来使用<ahref="https://hexo.io/zh-cn/docs/tag-plugins">标签插件</a>，但是AutoCorrect 的自定义 <code>textRules</code>不支持使用正则匹配来忽略这些特殊方言语法，而我又经常需要使用这些标签插件，因此我最终还是卸载了这个插件。</p><h4 id="hello-赫蹏">Hello, 赫蹏</h4><p><ahref="https://github.com/sivan/heti">赫蹏</a>（hètí）是专为中文内容展示设计的排版样式增强样式/脚本。因为我博客不需要使用赫蹏的字体，因此我按照下面这篇文章，提取了赫蹏的标点压缩和自动中英混排间距功能放到了博客里。</p><a class="tag-link" href="https://www.eallion.com/cjk-punctuation/" rel="external nofollow noreferrer" target="_blank"><div class="tag-link-tips">引用站外链接</div><div class="tag-link-bottom"><div class="tag-link-left"><i class="solitude fas fa-link"></i></div><div class="tag-link-right"><div class="tag-link-title">博客排版 - 挤压中文标点符号</div><div class="tag-link-sitename">大大的小蜗牛</div></div><i class="solitude fas fa-chevron-right"></i></div></a><p>效果还是不错的： <imgsrc="https://bu.dusays.com/2024/11/06/672b1602b5f55.png"alt="对比效果" /></p><p>结果到了手机端一看，括号和逗号直接连在一起了，排查后发现，是因为霞鹜文楷最近支持了OpenType 的 <code>halt</code>特性。不知道为什么只有移动端的字体应用了该特性，导致 PC端检查的时候没问题，移动端一看标点重叠，于是用 CSS 的<code>@supports</code> 规则把这个 bug 修复了。希望火狐后续能支持<code>text-spacing-trim</code> 特性吧。</p><p>另外，不知道为什么，自从我开始用赫蹏以后，手机端就不能正确显示霞鹜文楷的字体了，很怪。</p><h2 id="体测">体测</h2><p>非常不幸的，我这周要进行体测。厦大的体测规则是，只要本学期选修了体育课，就要参加该体育课老师所组织的体测，而我这学期选修了羽毛球课，因此必须参加。上次的<a href="/posts/41922e15/" title="月寄 | 无事发生…吗？">月记</a>里说过，我的膝盖受了擦伤。虽然不算严重，恢复得也还不错，但在周一的体测的时候，擦伤是没有完全恢复的。幸运的是，这周的体测不用考一千米——下周才考，所以我至少不会因为大量流汗感受伤口撒盐的痛苦了。</p><h2 id="期中">期中</h2><p>这周正好还是期中周，虽然大四基本没啥课了，但是为了凑够学分，我还是选了两门据说比较水的课：《经济学基础》和《多复变函数论》。</p><p>《多复变函数论》课程本身并不水，老师讲的很好，每节课都是黑板哗哗写，但是——我听不懂（悲）。说这门课「水」，其实是因为这门课是选修课，一般不会卡人，而且老师也知道这门课难度比较大，所以考的基本都是PPT上的东西，而且期中并没有考试，而是布置了整个课程唯一一次作业，内容也都是PPT 上的东西，只要看懂 PPT上的定理证明，自己写一遍就行了。唯一比较花时间的是老师的 PPT 没用 XeTaX生成，导致中文复制出来全是乱码，OCR 又不好处理公式，只能慢慢手打了。</p><p>《经济学基础》倒是真水课，课程基本全念PPT，作业也简单——导致我整个上半学期的课要么摸鱼要么翘了。因为保研已经结束了，绩点没啥用，所以这门课只需要不挂科，拿到学分就算成功。因此，直到考试前一天，我才开始突击复习<del>（预习）</del>，在B站上看一些经济学基础速成的视频，做一下往年的试卷，确保不会挂科。事实证明速成确实不靠谱，考试的时候一堆东西都是完全不清楚，不过靠着一点常识和推理，多少还是把大部分的题都做了，应该能及格……吧。</p>]]></content:encoded>
      
      
      <category domain="https://blog.hpcesia.com/categories/%E7%94%9F%E6%B4%BB%E7%82%B9%E6%BB%B4/">生活点滴</category>
      
      
      <category domain="https://blog.hpcesia.com/tags/%E5%91%A8-%E6%9C%88%E8%AE%B0/">周/月记</category>
      
      
      <comments>https://blog.hpcesia.com/posts/ae952b18/#disqus_thread</comments>
      
    </item>
    
    <item>
      <title>月寄 | 无事发生…吗？</title>
      <link>https://blog.hpcesia.com/posts/41922e15/</link>
      <guid>https://blog.hpcesia.com/posts/41922e15/</guid>
      <pubDate>Fri, 01 Nov 2024 08:31:20 GMT</pubDate>
      
      <description>本次月记记录了生日、寻找毕业论文导师的经历以及笔记本风扇损坏等问题。通过自学和开源项目改进了博客代码高亮功能，并探讨了构建多端同步编写博文的工作流方案。</description>
      
      
      
      <content:encoded><![CDATA[<p>因为看到一些好看的周记，所以也打算自己写点类似的东西。但是我实在是没有周更的信心（无论是从更新文字量还是从每周可写的经历量来说都是如此），因此决定先写个月记试试水。</p><p>本次月记记录时长为 5 周：9.27 - 10.31。</p><h2 id="生日">生日</h2><p>是的，其实记录时长为五周就是为醋包的饺子——这样才能包含我的 21岁生日。</p><p>今年的生日似乎并没有什么特别的，仍然是自己一个人过，已经习惯如此了。回望整个大学生活，我似乎都没有多少社交，平日总是待在宿舍打游戏、写代码、赶作业，偶尔出去骑车也是独自一人默默骑行；出去旅游要么是为了参加漫展，要么是被父母拉着一起；除了舍友外，只有寥寥几个点头之交的同学，甚至三年来没有一个交流超过五句话的同龄异性。但我却没觉得缺了什么，或许是性格使然？只是每次父母半开玩笑地问我有没有耍朋友时只能尬笑着糊弄过去。</p><p>其实本来是打算看场电影的，因为那几天正好要去万达影城，线下取原神和万达联动里买的一些周边。但可惜的是，翻了一圈当天的电影，没一个感兴趣的，唯一感兴趣的流浪地球2 的 3D版，也只有离得很远的几个影城还在上映，所以只能拿了周边就走人。但好歹是生日，总得犒劳一下自己吧。于是我在去万达影城的路上顺便在B站刷了刷厦门的各种自助餐厅的视频，选定了一家顺路的牛肉自助，准备拿完周边就去吃顿饱的。<img src= "" data-lazy-src="https://bu.dusays.com/2024/10/28/671f2ba2934b1.webp"alt="牛肉自助" /></p><p>说实话，自助味道不错——至少对得起价格。我吃得挺撑，炫了差不多二十盘现切牛肉，不知道算不算给老板上课？不过厦门能人这么多，我这点食量大抵是算不上号的吧（笑）。</p><h2 id="毕业论文导师">毕业论文导师</h2><p>在国庆假期前几天，我们年级的教秘在通知群里发了个通知：该找自己的本科毕业论文导师了！</p><p>这实在是个晴天霹雳——我完全没有任何找导师的准备。更何况，这个毕业论文导师还是双向选择的，而我，一个专业课常年在挂科边缘试探的摆烂人，真的不会找一个导师就被拒一个吗（悲）。</p><p>但咨询了下消息灵通的同学，毕业论文导师貌似没有保底分配的机制，所以只能硬着头皮去找导师了。从同学那里抄了份邮件模板，我便用学校的邮箱给数院唯一一个研究方向涉及计算机应用，也是唯一一个研究方向我感兴趣的教授发了封申请的邮件。</p><p>显然，如果事情进展顺利，就不会有接下来这几段了。等到十一假期刚开始时，我收到了教授的回复：名额满了。看来你虾数院唯一和方向和计算机密切相关的教授真的很受欢迎（悲）。整理了下心态，我就找了个研究方向起码是计算数学的教授又发了份邮件，等待教授的回复。<img src= "" data-lazy-src="https://bu.dusays.com/2024/11/01/6724928bb4559.webp"alt="噔噔咚" /></p><p>这一等，就是一整个国庆假期。每天我都打开邮箱，期待有教授的回复，但是等到的都只有毫无变化的收件箱。待到十一假期结束，我也算是死了心了——大抵这位教授确实是不看邮箱吧。毕业论文导师的申报到16号就截止了，还有一周时间，我必须抓紧再找一个教授问问了。</p><p>这次我选择想办法找个冷门的老师。我对照着我们学院的官网上的师资名单和可选择的导师列表，选择了一个看起来应该不会有多少人专门去选的导师，再次发了一封模板式的邮件过去。第二天，我就得到了老师的回复——CanCan Need 成绩单。</p><p>好在我虽然大部分偏理论的课程绩点都是 1 和 2开头，但总归是有那么一两个满绩的偏应用的专业课撑场面的，至少没让我再次被拒。很快，我便与预备导师约好了时间面谈。</p><p>到了面谈的时候，略过一小段客套话，我便又听到了了一个噩耗：这位预备导师主要做的是理论分析——而从我的成绩单上就能看出，我对理论分析是一窍不通。好在我的预备导师也研究过我的成绩单，知道我“代码的课分都贼高，理论的课分就不怎么样”，于是为我找了个只要花时间啃代码就能做的题目（具体内容就不透露了）。</p><p>就此，可喜可贺，我至少在申报截止前成功找到了本科毕业论文导师，并且导师看起来人还不错，实在是可喜可贺呐。</p><h2 id="国庆">国庆</h2><p>不知道看这篇文章的朋友们，国庆假期都去哪玩了呢？</p><p>我……哪里也没去，整个假期都待在宿舍里折腾博客和备战考研。国庆假期里宿舍晚上不会断电，而我的舍友都出去玩去了，这也就意味着——我可以尽情通宵辣！</p><p>整个国庆假期，我通宵搓博客代码搓了三次<del>（你见过凌晨四点的厦大校园吗）</del>，属实是昼夜颠倒了<del>（其实这段文字在码下来的时候正是凌晨四点，我躺床上半天睡不着，于是怒而编写本文）</del>。</p><p>值得一提的是，由于国庆假期玩得太疯，导致我完全忘了国庆假期什么时候结束。于是在国庆假期的最后一天，星期一的早晨，我怀揣着对舍友全体翘课的震惊，背着羽毛球拍到了室内羽毛球馆门口——然后看到了紧闭的大门。这时候我才反应过来：woc，该不会还在放假吧！（乐）</p><p>在常冒泡的 QQ群分享了这一发现，并收获了十几个「🐷？」的回复后，我终于确认现在确实还在放假的事实——我白早起白通勤了（悲）。</p><h2 id="受伤">受伤</h2><p>作为偶尔出去环岛骑行的单车佬，受点擦伤属于是家常便饭了。但这次不一样——我是在宿舍楼下推车的时候摔的。当时正是下课回宿舍，我把自行车推进宿舍大门，想着单脚踩在踏板上滑行大概会更快<del>（也更帅）</del>，于是就把一只脚踩在自行车上开始滑行——然后就直直地摔了下去。</p><p>于是我就喜提了膝盖擦伤，图就不在这篇文章里发了，目前草稿箱里放了一篇擦伤恢复记录，后续大概会发出来，用于记录我自己的表浅擦伤处理经验<del>（摔车摔多了导致的）</del>。</p><h2 id="考研">考研</h2><p>说实话，我自己对考研准备并不充分。一直到开始报名的时候，我都没想好到底要考什么学校，考什么科目。但是时间上已经来不及了，于是我选择了少数计算机还在考自命题而不是408 的学校——虽然他复试还是会考 408，但总归是能多点时间复习了。</p><h2 id="风扇">风扇</h2><p>最近，我的笔记本风扇突然坏了——大概是我平时喜欢把笔记本竖起来当副屏使导致的。在这之前我的桌面是这样的<del>（口瓜，是二次元，大家快退啊）</del>：<img src= "" data-lazy-src="https://bu.dusays.com/2024/11/01/672493e71d4d5.webp"alt="曾经的桌面" /></p><p>总之，风扇就是这么突然的坏了。其实影响本身不算特别大：时不时会发出很大声的嗡嗡异响，没异响的时候长时间打游戏容易直接过热关机。不长时间打游戏的话，还可以凑合着用——直到有一天我带着笔记本去了教室，然后风扇正好在上课的时候响起来了（万众瞩目.webp）。于是我赶紧关机，并开始在某宝上搜索我的笔记本的替换风扇。</p><p>不幸的是，我的笔记本是一个小众的型号，所以我花了半节课的时间也没搜到我的型号对应的风扇。但办法总比困难多：按某宝商品介绍的说法，一些风扇只是颜色不一样，但是电压、形状和孔位是一致的，也就是说只要找到和我的笔记本风扇除了颜色外一模一样的其他型号的风扇，也可以拿来作为替换。于是待到下课回宿舍，我便拿出螺丝刀开始拆机，查看风扇的外观，顺便清了一下陈年老灰。又花了半个多小时，总算是找到了合适的风扇，进行一个单的下。</p><h2 id="hello-shiki">Hello, Shiki</h2><p>这一节的标题是仿照的<ahref="https://www.yoghurtlee.com/">小氯</a>的一个文章分类。（事实上，小氯的博客上也有<ahref="https://www.yoghurtlee.com/hello-shiki/">相同标题的文章</a>）</p><p>我最近一年一直在使用 <a href="https://typst.app/" rel="external nofollow noreferrer">Typst</a>来完成各种专业课程的作业，现在建了博客，自然也需要在分享一些 Typst代码片段。但这时候，问题出现了：Hexo 自带的 highlight.js 和 prismjs均不支持比较新的 Typst 的语法高亮。</p><p>最开始，我是参考 <ahref="https://foolishfox.cn/posts/202402-typst-block.html">Foolish Fox的文章</a>，利用纸夜姐姐的 <ahref="https://github.com/Myriad-Dreamin/typst.ts">typst.ts</a> 解析Typst 代码并利用 Hexo的标签插件进行渲染，这也是这位大佬的博客出现在我的友链里的原因。但是这样总归不是一个一劳永逸的方法——未来还可能有新语言，但每个新语言都这样适配也太累了。于是我将目光转向了<a href="https://shiki.tmrs.site/" rel="external nofollow noreferrer">Shiki</a>。</p><p>第一步自然是先去找有没有现成的轮子可用。通过 GitHub 搜索 「hexoshiki」，我成功找到了适用于 <ahref="https://github.com/fluid-dev/hexo-theme-fluid">Fluid 主题</a>的 <ahref="https://github.com/nova1751/hexo-shiki-plugin">hexo-shiki-plugin</a>、做了djot 适配的 <ahref="https://github.com/Pcrab/hexo-highlight-shiki">hexo-highlight-shiki</a>以及使用 TypeScript 编写的 <ahref="https://github.com/ArcticLampyrid/hexo-shiki-highlighter">hexo-shiki-highlighter</a>。但很可惜，这些轮子都不适合在我的主题上直接使用，于是我选择——开缝！</p><p>由于我事实上并没有任何 TypeScript 和 JavaScript的开发经验，所以我选择 IDE 的提示更完善的 TypeScript 进行开发。基于 <ahref="https://github.com/ArcticLampyrid/hexo-shiki-highlighter">hexo-shiki-highlighter</a>，我靠着AI 摸索着写了个还算能用的插件：</p><div class="repo-card"><a class='name-t21e71ae2 repo-title fancybox' href="https://github.com/HPCesia/hexo-highlighter-shiki" rel="external nofollow noreferrer"></a><p class='desc-t21e71ae2 repo-desc'></p><div class="repo-gist"><i class="fas fa-star"></i><span class='star-t21e71ae2'></span><i class="fas fa-code-branch"></i><span class='fork-t21e71ae2'></span></div><img class='lang-t21e71ae2 repo-language no-lightbox' /><script>    fetch('https://api.github.com/repos/HPCesia/hexo-highlighter-shiki')      .then(res => res.json())      .then(data => {        document.querySelector('.name-t21e71ae2').innerText = data.name;        document.querySelector('.desc-t21e71ae2').innerText = data.description;        document.querySelector('.star-t21e71ae2').innerText = data.stargazers_count;        document.querySelector('.fork-t21e71ae2').innerText = data.forks_count;        document.querySelector('.lang-t21e71ae2').src = 'https://skillicons.dev/icons?i=' + data.language.toLowerCase();    });  </script></div><p>里面所有功能基本都是我自己用得上的功能，所以一些我没用上的功能可能会有BUG，如果看到这段话的朋友愿意使用我的插件，并发现了一些 BUG，欢迎给我提issue。</p><h2 id="工作流">工作流</h2><p>上文提到，我电脑的风扇坏了，而我在拆机检查完风扇后选择了偷懒：大部分螺丝都没有装回去，只装了必要的几颗螺丝，方便过几天拆机。这也意味着我不能长时间使用我的笔记本了——不然因为少装螺丝导致电脑坏了就麻烦了。但博客总得写啊！于是我开始思考，如何构建一个多端同步编写博文的工作流。</p><p>我的博客源码同时上传到了 GitHub的私有仓库上，所以最简单的工作流大概是使用 GitHub Action了。但这就牵扯到了一个问题：正如上文所说，我同时还在开发 Hexo插件，因此我的博客用到了一些 npm 本地包，这些包是不能直接在 GitHubAction 上使用的。</p><p>当然了，实际上我也并不需要随时随地改博客的源码。对我来说，只需要多端同步我的博文就能满足需求了。但问题又出现了：我使用的是华为手机，而且年底估计会换搭载鸿蒙Next 的 mate70，因此基于软件的同步方案就显得不靠谱了。</p><p>目前想到的解决方案，是使用带 Markdown编辑功能，且可以随意设置同步位置的同步云盘来管理博文，但目前还没找到合适的云盘（悲）。现阶段我暂时使用安卓端Obsidian码字，然后手动把写了一半的文章发给电脑，来达成随时编写文章的目的。</p>]]></content:encoded>
      
      
      <category domain="https://blog.hpcesia.com/categories/%E7%94%9F%E6%B4%BB%E7%82%B9%E6%BB%B4/">生活点滴</category>
      
      
      <category domain="https://blog.hpcesia.com/tags/%E5%91%A8-%E6%9C%88%E8%AE%B0/">周/月记</category>
      
      
      <comments>https://blog.hpcesia.com/posts/41922e15/#disqus_thread</comments>
      
    </item>
    
    <item>
      <title>多复变函数论学习笔记 - 第一章 全纯函数 - 第四节 幂级数</title>
      <link>https://blog.hpcesia.com/posts/ba26509c/</link>
      <guid>https://blog.hpcesia.com/posts/ba26509c/</guid>
      <pubDate>Mon, 28 Oct 2024 11:34:46 GMT</pubDate>
      
      <description>多复变函数论学习笔记 - 重复数项幂级数与其导数级数的收敛域</description>
      
      
      
      <content:encoded><![CDATA[<h2 id="定义">定义</h2><ul><li><p><strong>重级数</strong>：<span class="math inline">\(n\)</span>重复数项级数与以 <span class="math inline">\(a \in{\mathbb{C}}^{n}\)</span> 为中心的 <spanclass="math inline">\(n\)</span> 重幂级数定义分别为： <spanclass="math display">\[\sum_{\nu \in{\mathbb{N}}^{n}}b_{\nu};\quad\sum_{\nu \in {\mathbb{N}}^{n}}b_{\nu}(z -a)^{\nu}，\quad\left( b_{\nu} \in {\mathbb{C}} \right).\]</span>以下简称为级数与幂级数。</p></li><li><p><strong>收敛</strong>：若存在双射 <spanclass="math inline">\(\lambda:{\mathbb{N}} \rightarrow{\mathbb{N}}^{n}\)</span> 使得 <span class="math inline">\(\sum_{k =0}^{\infty}b_{\lambda(k)}\)</span> 收敛，则称级数 <spanclass="math inline">\(\sum_{\nu \in {\mathbb{N}}^{n}}b_{\nu}\)</span><strong>收敛</strong>。</p><p>若存在双射 <span class="math inline">\(\lambda:{\mathbb{N}}\rightarrow {\mathbb{N}}^{n}\)</span> 使得 <spanclass="math inline">\(\sum_{k = 0}^{\infty}\left| b_{\lambda(k)}\right|\)</span> 收敛，则称级数 <span class="math inline">\(\sum_{\nu\in {\mathbb{N}}^{n}}b_{\nu}\)</span> <strong>绝对收敛</strong>。</p><p>若级数绝对收敛，则收敛的极限与级数排列次序 <spanclass="math inline">\(\nu\)</span> 无关。</p></li><li><p><strong>收敛域</strong>：称使得幂级数 <spanclass="math inline">\(\sum_{\nu \in{\mathbb{N}}^{n}}c_{\nu}z^{\nu}\)</span> 收敛的全部 <spanclass="math inline">\(z \in {\mathbb{C}}^{n}\)</span>构成的点集的<strong>内部</strong> <span class="math inline">\(\Omega =\Omega(\left\{ c_{\nu} \right\})\)</span>为该级数的<strong>收敛域</strong>。</p></li></ul><h2 id="abel-引理">Abel 引理</h2><p><strong>引理</strong> (Abel): 设 <span class="math inline">\(c_{\nu}\in {\mathbb{C}}\)</span>，<span class="math inline">\(\nu \in{\mathbb{N}}^{n}\)</span>，且对某个 <span class="math inline">\(w \in{\mathbb{C}}^{n}\)</span> 有 <span id="equation_Abel_引理_条件"><spanclass="math display">\[\sup\limits_{\nu \in {\mathbb{N}}^{n}}\left|{c_{\nu}w^{\nu}} \right| = M &lt; + \infty.\]</span></span> 令 <spanclass="math inline">\(r = \tau(w) = \left( \left| w_{1}\right|,\cdots,\left| w_{n} \right| \right)\)</span>，则</p><ol type="1"><li><p>幂级数 <span class="math inline">\({\sum_{\nu \in{\mathbb{N}}^{n}}c_{\nu}}z^{\nu}\)</span> 在多圆柱 <spanclass="math inline">\(P(0,r)\)</span> 上收敛。</p></li><li><p>上述收敛在以下意义下是<strong>正规的</strong>：</p><p>若 <span class="math inline">\(K \subset P(0,r)\)</span>是一个紧子集，<span class="math inline">\(\varepsilon &gt; 0\)</span>是任一常数，则存在一个有限集 <span class="math inline">\(\Lambda =\Lambda(K,\varepsilon) \in {\mathbb{N}}^{n}\)</span> 使得 <spanclass="math display">\[\sum_{\nu \notin \Lambda}\left| {c_{\nu}z^{\nu}}\right| &lt; \varepsilon,\quad\forall z \in K.\]</span></p></li></ol><p><em>证明</em>: 给定 <span class="math inline">\(K \subset \subsetP(0,r)\)</span>，选取 <span class="math inline">\(0 &lt; \lambda &lt;1\)</span>，使得 <span class="math inline">\(K \subset P(0,\lambdar)\)</span>。对 <span class="math inline">\(z \in P(0,\lambdar)\)</span>，由<a href="#equation_Abel_引理_条件" class="ref">公式</a>有 <span class="math display">\[\left| {c_{\nu}z^{\nu}} \right| \leq\left| {c_{\nu}w^{\nu}} \right|\lambda^{|\nu|} \leqM\lambda^{|\nu|},\quad\forall\nu \in \mathbb{N}^{n},\]</span> 其中 <spanclass="math inline">\(|\nu| = \sum_{i = 1}^{n}\nu_{i}\)</span>。由于<span class="math display">\[\sum_{\nu \in\mathbb{N}^{n}}\lambda^{|\nu|} = \left( \sum_{j = 0}^{\infty}\lambda^{j}\right)^{n} &lt; + \infty,\]</span> 从而结论成立。</p><p><span id="corollary_Abel_引理_1"><strong>推论</strong>:</span> 幂级数<span class="math inline">\(\sum_{\nu \in\mathbb{N}^{n}}c_{\nu}z^{\nu}\)</span> 的收敛域 <spanclass="math inline">\(\Omega\)</span>是一个（可能为空集）完备的Reinhardt域，且 <spanclass="math inline">\(\Omega\)</span> 是所有满足<ahref="#equation_Abel_引理_条件" class="ref">公式</a> 的点 <spanclass="math inline">\(w \in {\mathbb{C}}^{n}\)</span>构成的集合的内部。在 <span class="math inline">\(\Omega\)</span>内的收敛性是正规的。</p><h2 id="导数级数的收敛域">导数级数的收敛域</h2><p><strong>定理</strong>: 一个幂级数 <spanclass="math inline">\(\sum_{\nu \in\mathbb{N}^{n}}c_{\nu}z^{\nu}\)</span>，若它具有非空的收敛域 <spanclass="math inline">\(\Omega\)</span>，则它定义一个全纯函数 <spanclass="math inline">\(f \in \mathcal{O}(\Omega)\)</span>。此外，对任意的<span class="math inline">\(\alpha \in{\mathbb{N}}^{n}\)</span>，导数级数 <spanclass="math inline">\(\sum_{\nu \in \mathbb{N}^{n}}c_{\nu}\left(D^{\alpha}z^{\nu} \right)\)</span> 在 <spanclass="math inline">\(\Omega\)</span> 上紧收敛于 <spanclass="math inline">\(D^{\alpha}f\)</span>，且有 <spanclass="math display">\[D^{\alpha}f(0) = \alpha!c_{\alpha}.\]</span></p><p><em>证明</em>: 选取一个固定的双射 <spanclass="math inline">\(\sigma:{\mathbb{N}} \rightarrow{\mathbb{N}}^{n}\)</span>，则 <span class="math display">\[f(z) =\lim\limits_{k \rightarrow \infty}\sum_{j =0}^{k}c_{\sigma(j)}z^{\sigma(j)}\]</span> 在 <spanclass="math inline">\(\Omega\)</span> 内紧收敛。由于部分和是全纯的，故有<span class="math inline">\(f \in \mathcal{O}(\Omega)\)</span>，且 <spanclass="math display">\[D^{\alpha}f(z) = \lim\limits_{k \rightarrow\infty}\sum_{j = 0}^{k}c_{\sigma(j)}\left( D^{\alpha}z^{\sigma(j)}\right),\quad\forall z \in \Omega.\]</span> 从而对固定的 <spanclass="math inline">\(\alpha \in {\mathbb{N}}^{n}\)</span> 和 <spanclass="math inline">\(w \in \Omega\)</span> 有 <spanclass="math display">\[\sup\limits_{\nu \in \mathbb{N}^{n}}\left\{\left| {c_{\nu}\left( D^{\alpha}z^{\nu} \right)} \right|_{z = w}\right\} &lt; + \infty.\]</span> 由<a href="#corollary_Abel_引理_1"class="ref">推论</a> 可知 <span class="math inline">\(\Omega\)</span>包含于幂级数 <span class="math inline">\(\sum_{\nu \in\mathbb{N}^{n}}c_{\nu}\left( D^{\alpha}z^{\nu} \right)\)</span>的收敛域。在 <span class="math display">\[D^{\alpha}f(z) = \sum_{\nu \in\mathbb{N}^{n}}c_{\nu}\left( D^{\alpha}z^{\nu} \right)\]</span> 中令<span class="math inline">\(z = 0\)</span> 即得 <spanclass="math inline">\(D^{\alpha}f(0) = \alpha!c_{\alpha}\)</span>。</p><p>事实上，<span class="math inline">\(\sum_{\nu \in\mathbb{N}^{n}}c_{\nu}z^{\nu}\)</span> 和 <spanclass="math inline">\(\sum_{\nu \in \mathbb{N}^{n}}c_{\nu}\left(D^{\alpha}z^{\nu} \right)\)</span> 具有相同的收敛域。</p>]]></content:encoded>
      
      
      <category domain="https://blog.hpcesia.com/categories/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/">学习笔记</category>
      
      
      <category domain="https://blog.hpcesia.com/tags/%E6%95%B0%E5%AD%A6/">数学</category>
      
      <category domain="https://blog.hpcesia.com/tags/%E5%A4%9A%E5%A4%8D%E5%8F%98%E5%87%BD%E6%95%B0/">多复变函数</category>
      
      
      <comments>https://blog.hpcesia.com/posts/ba26509c/#disqus_thread</comments>
      
    </item>
    
    <item>
      <title>多复变函数论学习笔记 - 第一章 全纯函数 - 第三节 多圆柱上的 Cauchy 积分公式</title>
      <link>https://blog.hpcesia.com/posts/af3287de/</link>
      <guid>https://blog.hpcesia.com/posts/af3287de/</guid>
      <pubDate>Fri, 25 Oct 2024 12:56:16 GMT</pubDate>
      
      <description>多复变函数论学习笔记 - 多圆柱上的 Cauchy 积分公式与 Cauchy 估计</description>
      
      
      
      <content:encoded><![CDATA[<h2 id="多圆柱上的-cauchy-积分公式">多圆柱上的 Cauchy 积分公式</h2><p>在单复变函数中，有如下的 Cauchy 积分公式：</p><p><strong>定理</strong> (单复变下的 Cauchy 积分公式): 设 <spanclass="math inline">\(D \subset {\mathbb{C}}\)</span> 为一有界域，边界<span class="math inline">\(\mathfrak{b}D\)</span> 是逐段光滑的，<spanclass="math inline">\(f \in \mathcal{O}(D)\)</span>，<spanclass="math inline">\(f \in C\left( \overline{D} \right)\)</span>，则有<span class="math display">\[f(z) = \frac{1}{2\pii}\int_{\mathfrak{b}D}\frac{f(\zeta)d\zeta}{\zeta - z},\quad\forall z\in D.\]</span></p><p>在多复变中，没有这样统一的 Cauchy积分公式，但对某些特殊的区域，如多圆柱，有：</p><p><span id="theorem_多圆柱上的_Cauchy_积分公式"><strong>定理</strong>(多圆柱上的 Cauchy 积分公式)</span>: 设 <span class="math inline">\(P ≔P(a,r)\)</span> 为 <span class="math inline">\({\mathbb{C}}^{n}\)</span>中的多圆柱，其中 <span class="math inline">\(a = \left(a_{1},\cdots,a_{n} \right)\)</span>，<span class="math inline">\(r =\left( r_{1},\cdots,r_{n} \right)\)</span>。设 <spanclass="math inline">\(f \in \mathcal{O}(P)\)</span>，<spanclass="math inline">\(f \in C\left( \overline{P} \right)\)</span>，则有<span id="equation_多圆柱上的_Cauchy_积分公式"><spanclass="math display">\[f(z) = \left( \frac{1}{2\pi i}\right)^{n}\int_{\mathfrak{b}_{0}P}\frac{f(\zeta)d\zeta_{1}\cdotsd\zeta_{n}}{\left( \zeta_{1} - z_{1} \right)\cdots\left( \zeta_{n} -z_{n} \right)},\quad\forall z \in P,\]</span></span> 其中 <spanclass="math inline">\(\mathfrak{b}_{0}P = \left\{ \zeta \in{\mathbb{C}}^{n}:\left| {\zeta_{j} - a_{j}} \right| = r_{j},1 \leq j\leq n \right\}\)</span> 为 <span class="math inline">\(P\)</span>的<strong>特征边界</strong>。</p><p><em>证明</em>: 对复变量个数 <span class="math inline">\(n\)</span>采用数学归纳法。</p><p><span class="math inline">\(n = 1\)</span> 时，<ahref="#equation_多圆柱上的_Cauchy_积分公式"class="ref">公式</a>为单复变的单位圆盘上的 Cauchy 积分公式，显然成立。当<span class="math inline">\(n &gt; 1\)</span>，且定理对 <spanclass="math inline">\(n - 1\)</span> 个复变量的情形成立，对固定 <spanclass="math inline">\(z = \left( z_{1},\cdots,z_{n} \right) \inP\)</span>，在 <span class="math inline">\(n - 1\)</span> 个复变量 <spanclass="math inline">\(\left( z_{2},\cdots,z_{n} \right)\)</span>应用归纳假设，得 <spanid="equation_多圆柱上的_Cauchy_积分公式_证明中间公式"><spanclass="math display">\[f\left( z_{1},\cdots,z_{n} \right) = \left(\frac{1}{2\pi i} \right)^{n -1}\int_{\mathfrak{b}_{0}P(a&#39;,r&#39;)}\frac{f\left(z_{1},\zeta_{2},\cdots,\zeta_{n} \right)d\zeta_{2}\cdotsd\zeta_{n}}{\left( \zeta_{2} - z_{2} \right)\cdots,\left( \zeta_{n} -z_{n} \right)},\]</span></span> 其中 <span class="math inline">\(a&#39;= \left( a_{2},\cdots,a_{n} \right)\)</span>，<spanclass="math inline">\(r&#39; = \left( r_{2},\cdots,r_{n}\right)\)</span>。对固定的 <spanclass="math inline">\(\zeta_{2},\cdots,\zeta_{n}\)</span>，由 <spanclass="math inline">\(n = 1\)</span> 的结果有 <spanclass="math display">\[f\left( z_{1},\cdots,z_{n} \right) =\frac{1}{2\pi i}\int_{\left| {\zeta_{1} - a_{1}} \right| =r_{1}}\frac{f\left( \zeta_{1},\cdots,\zeta_{n}\right)d\zeta_{1}}{\zeta_{1} - z_{1}}.\]</span> 由 <spanclass="math inline">\(f\)</span> 连续性，将上式代入<ahref="#equation_多圆柱上的_Cauchy_积分公式_证明中间公式"class="ref">公式</a>，并将累次积分转为沿 <spanclass="math inline">\(\mathfrak{b}_{0}P\)</span> 上的积分，得证。</p><p><strong>推论</strong>: 设 <span class="math inline">\(f \inC(D)\)</span>（或在 <span class="math inline">\(D\)</span>上有界）且分别关于每一复变量全纯，则有 <span class="math inline">\(f \inC^{(\infty)(D)}\)</span>，<span class="math inline">\(f \in\mathcal{O}(D)\)</span>，且对任意 <span class="math inline">\(\alpha \in{\mathbb{N}}^{n}\)</span> 有 <span class="math inline">\(D^{\alpha}f \in\mathcal{O}(D)\)</span>。</p><p><em>证明</em>: <span class="math inline">\(\forall a \inD\)</span>，<span class="math inline">\(\exists r &gt; 0\)</span>，使得<span class="math inline">\(P(a,r) \subset \subsetD\)</span>，由推论假设，<span class="math inline">\(f \in C\left(\overline{P(a,r)} \right)\)</span> 且分别关于每一复变量全纯。对多圆柱<span class="math inline">\(P(a,r)\)</span> 应用<ahref="#theorem_多圆柱上的_Cauchy_积分公式" class="ref">定理</a>，得<span class="math display">\[f(z) = \left( \frac{1}{2\pi i}\right)^{n}\int_{\mathfrak{b}_{0}P}\frac{f(\zeta)d\zeta_{1}\cdotsd\zeta_{n}}{\left( \zeta_{1} - z_{1} \right)\cdots\left( \zeta_{n} -z_{n} \right)},\quad\forall z \in P(a,r),\]</span>上式可在积分号内分别关于 <spanclass="math inline">\(z_{1},\cdots,z_{n}\)</span> 求导任意次，所以 <spanclass="math inline">\(f \in C^{\infty}\left( P(a,r)\right)\)</span>，<span class="math inline">\(f \in \mathcal{O}(\left\{a \right\})\)</span>。由 <span class="math inline">\(a\)</span>的任意性得 <span class="math inline">\(f \in\mathcal{O}(D)\)</span>。</p><h2 id="cauchy-估计">Cauchy 估计</h2><p><strong>定理</strong> (Cauchy 估计): 设 <span class="math inline">\(f\in \mathcal{O}(P(a,r))\)</span>，则对任意 <spanclass="math inline">\(\alpha \in {\mathbb{N}}^{n}\)</span> 有 <spanid="equation_Cauchy_估计_1"><span class="math display">\[\left|{D^{\alpha}f(a)} \right| \leq\frac{\alpha!}{r^{\alpha}}|f|_{\mathfrak{b}_{0}P(a,r)};\]</span></span><span id="equation_Cauchy_估计_2"><span class="math display">\[\left|{D^{\alpha}f(a)} \right| \leq \frac{\alpha!\left( \alpha_{1} + 2\right)\cdots\left( \alpha_{n} + 2 \right)}{(2\pi)^{n}r^{\alpha +2}}\left\| f \right\|_{L^{1}\left( P(a,r) \right)}.\]</span></span> 其中<span class="math inline">\(\left\| \cdot \right\|_{L^{p}(D)}\)</span>表示 <span class="math inline">\(L^{p}(D)\)</span>（满足 <spanclass="math inline">\(|f|^{p}\)</span> 在 <spanclass="math inline">\(D\)</span> 上 Lebesgue 可积的函数 <spanclass="math inline">\(f\)</span> 全体构成的赋范空间）上的范数，而 <spanclass="math inline">\(|f|_{D} ≔ \sup\limits_{z \in D}|f|\)</span>。</p><p><em>证明</em>: 固定 <span class="math inline">\(0 &lt; \rho &lt;r\)</span>，对 <span class="math inline">\(P(a,\rho) \subset \subsetP(a,r)\)</span> 应用<a href="#theorem_多圆柱上的_Cauchy_积分公式"class="ref">定理</a> 并在积分号下求导得 <spanid="equation_Cauchy_估计_proof_1"><spanclass="math display">\[D^{\alpha}f(a) = \frac{\alpha!}{(2\pii)^{n}}\int_{\mathfrak{b}_{0}P(a,\rho)}\frac{f(\zeta)d\zeta_{1}\cdotsd\zeta_{n}}{(\zeta - a)^{\alpha + 1}}.\]</span></span> 由此有 <spanclass="math display">\[\left| {D^{\alpha}f(a)} \right| \leq \left|\frac{\alpha!}{(2\pi i)^{n}}\right|\frac{(2\pi)^{n}}{r^{\alpha}}|f|_{\mathfrak{b}_{0}P(a,\rho)} \leq\frac{\alpha!}{r^{\alpha}}|f|_{\mathfrak{b}_{0}P(a,\rho)},\]</span> 令<span class="math inline">\(\rho \rightarrow r\)</span> 即得<ahref="#equation_Cauchy_估计_1" class="ref">公式</a>。</p><p>在<a href="#equation_Cauchy_估计_proof_1"class="ref">公式</a>中将积分边界转换为参数形式，两边同乘 <spanclass="math inline">\(\rho^{\alpha + 1}\)</span> 有 <spanclass="math display">\[D^{\alpha}f(a)\rho^{\alpha + 1} =\frac{\alpha!}{(2\pi i)^{n}}\int_{\lbrack0,2\pi\rbrack^{n}}i^{n}e^{i\theta}f\left( \zeta(\theta)\right)\rho_{1}\cdots\rho_{n}d\theta_{1}\cdots d\theta_{n},\]</span>由此有 <span class="math display">\[\begin{aligned}&amp;\int_{0}^{r_{1}}\mspace{-15mu}\cdots\mspace{-4mu}\int_{0}^{r_{n}}\left|{D^{\alpha}f(a)} \right|\rho^{\alpha + 1}d\rho_{n}\cdots d\rho_{1} \\\leq &amp;\frac{\alpha!}{(2\pi)^{n}}\int_{0}^{r_{1}}\mspace{-15mu}\cdots\mspace{-4mu}\int_{0}^{r_{n}}\mspace{-9mu}\int_{\lbrack0,2\pi\rbrack^{n}}\left| {f\left( \zeta(\theta) \right)}\right|\rho_{1}\cdots\rho_{n}d\theta_{1}\cdotsd\theta_{n}d\rho_{n}\cdots d\rho_{1}, \\\Longrightarrow &amp; \left| {D^{\alpha}f(a)} \right| \leq\frac{\alpha!\left( \alpha_{1} + 2 \right)\cdots\left( \alpha_{n} + 2\right)}{(2\pi)^{n}r^{\alpha + 2}}\int_{P(a,r)}\left| {f(\zeta)}\right|d\zeta.\end{aligned}\]</span> 即<a href="#equation_Cauchy_估计_2"class="ref">公式</a>。</p><p>Cauchy 估计的另一个结果是以下版本的极大模原理：</p><p><strong>定理</strong>: 设 <span class="math inline">\(f \in\mathcal{O}(P) \subset C\left( \overline{P} \right)\)</span>，其中 <spanclass="math inline">\(P ≔ P(a,r)\)</span> 为 <spanclass="math inline">\({\mathbb{C}}^{n}\)</span> 上多圆柱，则有 <spanclass="math display">\[\left| {f(z)} \right| \leq|f|_{\mathfrak{b}_{0}P},\quad\forall z \in P.\]</span></p><p><em>证明</em>: 只需对任意固定 <span class="math inline">\(z \inP\)</span> 证明上式即可。由<a href="#theorem_多圆柱上的_Cauchy_积分公式"class="ref">定理</a>与<a href="#equation_Cauchy_估计_1"class="ref">公式</a>可知存在常数 <spanclass="math inline">\(C\)</span>，使得 <spanclass="math inline">\(\left| {f(z)} \right| \leqC|f|_{\mathfrak{b}_{0}P}\)</span>。对任意 <span class="math inline">\(k= 1,2,\cdots\)</span>，<span class="math inline">\(f^{k} \in\mathcal{O}(P) \cap C\left( \overline{P} \right)\)</span>，于是有 <spanclass="math display">\[\left| {f(z)} \right|^{k} = \left| f^{(k)(z)}\right| \leq C\left| f^{k} \right|_{\mathfrak{b}_{0}P} \leq C\left(|f|_{\mathfrak{b}_{0}P} \right)^{k} \Rightarrow \left| {f(z)} \right|\leq C^{1/k}|f|_{\mathfrak{b}_{0}P}.\]</span> 上式右边令 <spanclass="math inline">\(k \rightarrow + \infty\)</span>，即得 <spanclass="math inline">\(\left| {f(z)} \right| \leq|f|_{\mathfrak{b}_{0}P}\)</span>。</p>]]></content:encoded>
      
      
      <category domain="https://blog.hpcesia.com/categories/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/">学习笔记</category>
      
      
      <category domain="https://blog.hpcesia.com/tags/%E6%95%B0%E5%AD%A6/">数学</category>
      
      <category domain="https://blog.hpcesia.com/tags/%E5%A4%9A%E5%A4%8D%E5%8F%98%E5%87%BD%E6%95%B0/">多复变函数</category>
      
      
      <comments>https://blog.hpcesia.com/posts/af3287de/#disqus_thread</comments>
      
    </item>
    
    <item>
      <title>Solitude 主题改造记录</title>
      <link>https://blog.hpcesia.com/posts/4ca8244b/</link>
      <guid>https://blog.hpcesia.com/posts/4ca8244b/</guid>
      <pubDate>Sun, 20 Oct 2024 14:54:51 GMT</pubDate>
      
      <description>简单记录自己对 Solitude 主题进行的部分较复杂的改造。</description>
      
      
      
      <content:encoded><![CDATA[<details><summary>更新日志</summary><div class="timeline"><span class="timeline-title"><div class="timenode"><div class="meta"><p>2024-11-12</p></div><div class="body"><p>新增 Memos 说说接入相关修改</p></div></div><div class="timenode"><div class="meta"><p>2024-11-07</p></div><div class="body"><p>新增中文排版相关修改</p></div></div><div class="timenode"><div class="meta"><p>2024-11-05</p></div><div class="body"><p>新增底栏图片修改</p></div></div><div class="timenode"><div class="meta"><p>2024-11-04</p></div><div class="body"><p>新增游戏界面修改</p></div></div><div class="timenode"><div class="meta"><p>2024-11-03</p></div><div class="body"><p>更新引用段落到右键菜单相关修改</p></div></div><div class="timenode"><div class="meta"><p>2024-11-02</p></div><div class="body"><p>更新 Umami 统计的部署</p></div></div><div class="timenode"><div class="meta"><p>2024-11-01</p></div><div class="body"><p>更新轻量友链朋友圈的部署</p></div></div><div class="timenode"><div class="meta"><p>2024-10-26</p></div><div class="body"><p>更新一些琐碎的修改</p></div></div><div class="timenode"><div class="meta"><p>2024-10-25</p></div><div class="body"><p>更新参考其他博客教程的改造</p></div></div><div class="timenode"><div class="meta"><p>2024-10-23</p></div><div class="body"><p>更新 MathJax 与 Shiki 的适配方式</p></div></div><div class="timenode"><div class="meta"><p>2024-10-20</p></div><div class="body"><p>发布文章</p></div></div></div></details><p>本文章将会持续更新，所有使用 Solitude期间对网站的修改都会在此进行总结。</p><h2 id="数学公式">数学公式</h2><p>博主作为数学系的学生，在博客中分享部分数学学习笔记算是半个刚需了。<ahref="https://solitude.js.org/zh/">Solitude</a> 主题自带 <ahref="https://solitude.js.org/zh/config/extend#%E6%95%B0%E5%AD%A6%E5%85%AC%E5%BC%8F">KaTeX支持</a>，如果只是简单的数学公式数学需求，是完全够用的。但是 KaTeX的数学支持比较弱，且移动端的多行公式浏览体验不佳，因此我把博客的公式渲染引擎换成了<a href="https://www.mathjax.org/" rel="external nofollow noreferrer">MathJax</a>。</p><p>最开始博客是直接引入了 MathJax 的 js文件，在客户端进行公式渲染。但是很快我就发现该方式和 pjax不合，尝试在引入 js 的标签中添加 <code>pjax</code>也无效，因此改为在服务端渲染。</p><p>服务端渲染最简单的办法就是去使用 NexT 主题的一个插件 <ahref="https://github.com/next-theme/hexo-filter-mathjax">hexo-filter-mathjax</a>。首先安装该插件、卸载原先的Markdown 渲染引擎并安装对 MathJax 支持更好的 <ahref="https://github.com/hexojs/hexo-renderer-pandoc">hexo-renderer-pandoc</a>，最后清除Hexo 缓存：</p><figure class="highlight shell"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre class="shiki shiki-themes one-light one-dark-pro"><span class="line"><span style="color:#4078F2;--shiki-dark:#61AFEF">npm</span><span style="color:#50A14F;--shiki-dark:#98C379"> uninstall</span><span style="color:#50A14F;--shiki-dark:#98C379"> hexo-renderer-marked</span><span style="color:#986801;--shiki-dark:#D19A66"> --save</span></span><span class="line"><span style="color:#A0A1A7;font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic"># npm uninstall hexo-renderer-kramed --save # 根据此前安装的 Markdown 渲染引擎来卸载</span></span><span class="line"><span style="color:#4078F2;--shiki-dark:#61AFEF">npm</span><span style="color:#50A14F;--shiki-dark:#98C379"> install</span><span style="color:#50A14F;--shiki-dark:#98C379"> hexo-renderer-pandoc</span><span style="color:#986801;--shiki-dark:#D19A66"> --save</span></span><span class="line"><span style="color:#4078F2;--shiki-dark:#61AFEF">npm</span><span style="color:#50A14F;--shiki-dark:#98C379"> install</span><span style="color:#50A14F;--shiki-dark:#98C379"> hexo-filter-mathjax</span><span style="color:#986801;--shiki-dark:#D19A66"> --save</span></span><span class="line"><span style="color:#4078F2;--shiki-dark:#61AFEF">hexo</span><span style="color:#50A14F;--shiki-dark:#98C379"> clean</span></span></code></pre></td></tr></tbody></table></figure><p>接着在 <code>_config.yml</code> 中添加 MathJax 与 Pandoc相关配置即可。 <figure class="highlight yaml"><figcaption><span>_config.yml</span></figcaption><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre class="shiki shiki-themes one-light one-dark-pro"><span class="line"><span style="color:#E45649;--shiki-dark:#E06C75">mathjax</span><span style="color:#383A42;--shiki-dark:#ABB2BF">:</span></span><span class="line"><span style="color:#E45649;--shiki-dark:#E06C75">  tags</span><span style="color:#383A42;--shiki-dark:#ABB2BF">: </span><span style="color:#50A14F;--shiki-dark:#98C379">none</span><span style="color:#A0A1A7;font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic"> # or 'ams' or 'all'</span></span><span class="line"><span style="color:#E45649;--shiki-dark:#E06C75">  single_dollars</span><span style="color:#383A42;--shiki-dark:#ABB2BF">: </span><span style="color:#986801;--shiki-dark:#D19A66">true</span><span style="color:#A0A1A7;font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic"> # enable single dollar signs as in-line math delimiters</span></span><span class="line"><span style="color:#E45649;--shiki-dark:#E06C75">  cjk_width</span><span style="color:#383A42;--shiki-dark:#ABB2BF">: </span><span style="color:#986801;--shiki-dark:#D19A66">0.9</span><span style="color:#A0A1A7;font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic"> # relative CJK char width</span></span><span class="line"><span style="color:#E45649;--shiki-dark:#E06C75">  normal_width</span><span style="color:#383A42;--shiki-dark:#ABB2BF">: </span><span style="color:#986801;--shiki-dark:#D19A66">0.6</span><span style="color:#A0A1A7;font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic"> # relative normal (monospace) width</span></span><span class="line"><span style="color:#E45649;--shiki-dark:#E06C75">  append_css</span><span style="color:#383A42;--shiki-dark:#ABB2BF">: </span><span style="color:#986801;--shiki-dark:#D19A66">true</span><span style="color:#A0A1A7;font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic"> # add CSS to pages rendered by MathJax</span></span><span class="line"><span style="color:#E45649;--shiki-dark:#E06C75">  every_page</span><span style="color:#383A42;--shiki-dark:#ABB2BF">: </span><span style="color:#986801;--shiki-dark:#D19A66">false</span><span style="color:#A0A1A7;font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic"> # if true, every page will be rendered by MathJax regardless the `mathjax` setting in Front-matter</span></span><span class="line"><span style="color:#E45649;--shiki-dark:#E06C75">  packages</span><span style="color:#383A42;--shiki-dark:#ABB2BF">: </span><span style="color:#A0A1A7;font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic"># extra packages to load</span></span><span class="line"><span style="color:#E45649;--shiki-dark:#E06C75">  extension_options</span><span style="color:#383A42;--shiki-dark:#ABB2BF">: &#123;&#125;</span></span><span class="line"><span style="color:#A0A1A7;font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">    # you can put your extension options here</span></span><span class="line"><span style="color:#A0A1A7;font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">    # see http://docs.mathjax.org/en/latest/options/input/tex.html#tex-extension-options for more detail</span></span><span class="line"></span><span class="line"><span style="color:#E45649;--shiki-dark:#E06C75">pandoc</span><span style="color:#383A42;--shiki-dark:#ABB2BF">:</span></span><span class="line"><span style="color:#E45649;--shiki-dark:#E06C75">  args</span><span style="color:#383A42;--shiki-dark:#ABB2BF">:</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">    - </span><span style="color:#50A14F;--shiki-dark:#98C379">"-f"</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">    - </span><span style="color:#50A14F;--shiki-dark:#98C379">"markdown"</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">    - </span><span style="color:#50A14F;--shiki-dark:#98C379">"-t"</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">    - </span><span style="color:#50A14F;--shiki-dark:#98C379">"html"</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">    - </span><span style="color:#50A14F;--shiki-dark:#98C379">"--mathjax"</span></span></code></pre></td></tr></tbody></table></figure></p><h2 id="代码高亮">代码高亮</h2><p>博主还在使用 <a href="https://typst.app/" rel="external nofollow noreferrer">Typst</a>进行部分课程笔记与作业的书写，也会在博客中分享一些 Typst使用经验。不幸的是，Hexo 自带的两个代码语法高亮引擎——<ahref="https://highlightjs.org/">highlight.js</a> 和 <ahref="https://prismjs.com/">Prismjs</a> 都不支持对比较新的 Typst生成语法高亮。</p><p>解决办法之一是使用 <ahref="https://github.com/Myriad-Dreamin/typst.ts">Typst.ts</a> 在 Node环境中解析 Typst 代码语法，并发送给 highlight.js。Typst.ts 的子项目 <ahref="https://github.com/Myriad-Dreamin/typst.ts/tree/main/projects/highlighter">highlighter</a>提供了一个实现，而下面这篇文章则给出了在 Hexo上的使用方法与实现思路。这也是我最开始使用的方法。</p><a class="tag-link" href="https://yihui-liu.github.io/posts/202402-typst-block.html" rel="external nofollow noreferrer" target="_blank"><div class="tag-link-tips">引用站外链接</div><div class="tag-link-bottom"><div class="tag-link-left"><i class="solitude fas fa-link"></i></div><div class="tag-link-right"><div class="tag-link-title">Hexo 配置 Typst 代码高亮</div><div class="tag-link-sitename">Fox Home</div></div><i class="solitude fas fa-chevron-right"></i></div></a><p>另一个办法则是改用 <a href="https://shiki.style/" rel="external nofollow noreferrer">Shiki</a>进行公式渲染。Shiki的优点在于它支持导入自定义的主题与语言，因此不需要担心语言支持问题。我在几个已有项目的基础上花了点时间开发了一个更适合Solitude 主题使用的 Shiki 插件：</p><div class="repo-card"><a class='name-05gwp0eb3 repo-title fancybox' href="https://github.com/HPCesia/hexo-highlighter-shiki" rel="external nofollow noreferrer"></a><p class='desc-05gwp0eb3 repo-desc'></p><div class="repo-gist"><i class="fas fa-star"></i><span class='star-05gwp0eb3'></span><i class="fas fa-code-branch"></i><span class='fork-05gwp0eb3'></span></div><img class='lang-05gwp0eb3 repo-language no-lightbox' /><script>    fetch('https://api.github.com/repos/HPCesia/hexo-highlighter-shiki')      .then(res => res.json())      .then(data => {        document.querySelector('.name-05gwp0eb3').innerText = data.name;        document.querySelector('.desc-05gwp0eb3').innerText = data.description;        document.querySelector('.star-05gwp0eb3').innerText = data.stargazers_count;        document.querySelector('.fork-05gwp0eb3').innerText = data.forks_count;        document.querySelector('.lang-05gwp0eb3').src = 'https://skillicons.dev/icons?i=' + data.language.toLowerCase();    });  </script></div><p>目前本博客也在使用该插件进行代码语法高亮渲染。</p><h3 id="主题适配">主题适配</h3><div class="note info modern"><i class="solitude fas fa-info-circle"></i><p>正在整理这部分代码，准备提 PR</p></div><p>在 Solitude 上使用该插件需要对主题的部分代码进行修改：</p><figure class="highlight javascript"><figcaption><span>scripts/helper/stylus.js</span><a href="https://github.com/everfu/hexo-theme-solitude/blob/b29911baab44687782e84032214aca34e991b300/scripts/helper/stylus.js#L10" rel="external nofollow noreferrer">line 10</a></figcaption><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre class="shiki shiki-themes one-light one-dark-pro has-diff"><span class="line"><span style="color:#A0A1A7;font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">// highlight</span></span><span class="line"><span style="color:#A626A4;--shiki-dark:#C678DD">const</span><span style="color:#383A42;--shiki-dark:#ABB2BF"> &#123;</span><span style="color:#E45649;--shiki-dark:#E06C75">syntax_highlighter</span><span style="color:#383A42;--shiki-dark:#ABB2BF">: </span><span style="color:#986801;--shiki-dark:#E5C07B">syntaxHighlighter</span><span style="color:#383A42;--shiki-dark:#ABB2BF">, </span><span style="color:#986801;--shiki-dark:#E5C07B">highlight</span><span style="color:#383A42;--shiki-dark:#ABB2BF">, </span><span style="color:#986801;--shiki-dark:#E5C07B">prismjs</span><span style="color:#383A42;--shiki-dark:#ABB2BF">, </span><span style="color:#986801;--shiki-dark:#E5C07B">shiki</span><span style="color:#383A42;--shiki-dark:#ABB2BF">&#125; </span><span style="color:#0184BC;--shiki-dark:#56B6C2">=</span><span style="color:#383A42;--shiki-dark:#E5C07B"> hexo</span><span style="color:#383A42;--shiki-dark:#ABB2BF">.</span><span style="color:#E45649;--shiki-dark:#E06C75">config</span></span><span class="line"><span style="color:#A626A4;--shiki-dark:#C678DD">let</span><span style="color:#383A42;--shiki-dark:#ABB2BF"> &#123;</span><span style="color:#E45649;--shiki-dark:#E06C75">enable</span><span style="color:#383A42;--shiki-dark:#ABB2BF">: </span><span style="color:#383A42;--shiki-dark:#E06C75">highlightEnable</span><span style="color:#383A42;--shiki-dark:#ABB2BF">, </span><span style="color:#E45649;--shiki-dark:#E06C75">line_number</span><span style="color:#383A42;--shiki-dark:#ABB2BF">: </span><span style="color:#383A42;--shiki-dark:#E06C75">highlightLineNumber</span><span style="color:#383A42;--shiki-dark:#ABB2BF">&#125; </span><span style="color:#0184BC;--shiki-dark:#56B6C2">=</span><span style="color:#383A42;--shiki-dark:#E06C75"> highlight</span></span><span class="line"><span style="color:#A626A4;--shiki-dark:#C678DD">let</span><span style="color:#383A42;--shiki-dark:#ABB2BF"> &#123;</span><span style="color:#E45649;--shiki-dark:#E06C75">enable</span><span style="color:#383A42;--shiki-dark:#ABB2BF">: </span><span style="color:#383A42;--shiki-dark:#E06C75">prismjsEnable</span><span style="color:#383A42;--shiki-dark:#ABB2BF">, </span><span style="color:#E45649;--shiki-dark:#E06C75">line_number</span><span style="color:#383A42;--shiki-dark:#ABB2BF">: </span><span style="color:#383A42;--shiki-dark:#E06C75">prismjsLineNumber</span><span style="color:#383A42;--shiki-dark:#ABB2BF">&#125; </span><span style="color:#0184BC;--shiki-dark:#56B6C2">=</span><span style="color:#383A42;--shiki-dark:#E06C75"> prismjs</span></span><span class="line diff add"><span style="color:#A626A4;--shiki-dark:#C678DD">let</span><span style="color:#383A42;--shiki-dark:#ABB2BF"> &#123;</span><span style="color:#E45649;--shiki-dark:#E06C75">enable</span><span style="color:#383A42;--shiki-dark:#ABB2BF">: </span><span style="color:#383A42;--shiki-dark:#E06C75">shikiEnable</span><span style="color:#383A42;--shiki-dark:#ABB2BF">, </span><span style="color:#E45649;--shiki-dark:#E06C75">line_number</span><span style="color:#383A42;--shiki-dark:#ABB2BF">: </span><span style="color:#383A42;--shiki-dark:#E06C75">shikiLineNumber</span><span style="color:#383A42;--shiki-dark:#ABB2BF">&#125; </span><span style="color:#0184BC;--shiki-dark:#56B6C2">=</span><span style="color:#383A42;--shiki-dark:#E06C75"> shiki</span></span><span class="line"></span><span class="line"><span style="color:#A0A1A7;font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">// for hexo > 7.0</span></span><span class="line"><span style="color:#A626A4;--shiki-dark:#C678DD">if</span><span style="color:#383A42;--shiki-dark:#ABB2BF"> (</span><span style="color:#383A42;--shiki-dark:#E06C75">syntaxHighlighter</span><span style="color:#383A42;--shiki-dark:#ABB2BF">) &#123;</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#E06C75">    highlightEnable</span><span style="color:#0184BC;--shiki-dark:#56B6C2"> =</span><span style="color:#383A42;--shiki-dark:#E06C75"> syntaxHighlighter</span><span style="color:#0184BC;--shiki-dark:#56B6C2"> ===</span><span style="color:#50A14F;--shiki-dark:#98C379"> 'highlight.js'</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#E06C75">    prismjsEnable</span><span style="color:#0184BC;--shiki-dark:#56B6C2"> =</span><span style="color:#383A42;--shiki-dark:#E06C75"> syntaxHighlighter</span><span style="color:#0184BC;--shiki-dark:#56B6C2"> ===</span><span style="color:#50A14F;--shiki-dark:#98C379"> 'prismjs'</span></span><span class="line diff add"><span style="color:#383A42;--shiki-dark:#E06C75">    shikiEnable</span><span style="color:#0184BC;--shiki-dark:#56B6C2"> =</span><span style="color:#383A42;--shiki-dark:#E06C75"> syntaxHighlighter</span><span style="color:#0184BC;--shiki-dark:#56B6C2"> ===</span><span style="color:#50A14F;--shiki-dark:#98C379"> 'shiki'</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">&#125;</span></span><span class="line"></span><span class="line"><span style="color:#383A42;--shiki-dark:#E5C07B">style</span><span style="color:#383A42;--shiki-dark:#ABB2BF">.</span><span style="color:#4078F2;--shiki-dark:#61AFEF">define</span><span style="color:#383A42;--shiki-dark:#ABB2BF">(</span><span style="color:#50A14F;--shiki-dark:#98C379">'$highlight_enable'</span><span style="color:#383A42;--shiki-dark:#ABB2BF">, </span><span style="color:#383A42;--shiki-dark:#E06C75">highlightEnable</span><span style="color:#383A42;--shiki-dark:#ABB2BF">)</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#E5C07B">style</span><span style="color:#383A42;--shiki-dark:#ABB2BF">.</span><span style="color:#4078F2;--shiki-dark:#61AFEF">define</span><span style="color:#383A42;--shiki-dark:#ABB2BF">(</span><span style="color:#50A14F;--shiki-dark:#98C379">'$highlight_line_number'</span><span style="color:#383A42;--shiki-dark:#ABB2BF">, </span><span style="color:#383A42;--shiki-dark:#E06C75">highlightLineNumber</span><span style="color:#383A42;--shiki-dark:#ABB2BF">)</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#E5C07B">style</span><span style="color:#383A42;--shiki-dark:#ABB2BF">.</span><span style="color:#4078F2;--shiki-dark:#61AFEF">define</span><span style="color:#383A42;--shiki-dark:#ABB2BF">(</span><span style="color:#50A14F;--shiki-dark:#98C379">'$prismjs_enable'</span><span style="color:#383A42;--shiki-dark:#ABB2BF">, </span><span style="color:#383A42;--shiki-dark:#E06C75">prismjsEnable</span><span style="color:#383A42;--shiki-dark:#ABB2BF">)</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#E5C07B">style</span><span style="color:#383A42;--shiki-dark:#ABB2BF">.</span><span style="color:#4078F2;--shiki-dark:#61AFEF">define</span><span style="color:#383A42;--shiki-dark:#ABB2BF">(</span><span style="color:#50A14F;--shiki-dark:#98C379">'$prismjs_line_number'</span><span style="color:#383A42;--shiki-dark:#ABB2BF">, </span><span style="color:#383A42;--shiki-dark:#E06C75">prismjsLineNumber</span><span style="color:#383A42;--shiki-dark:#ABB2BF">)</span></span><span class="line diff add"><span style="color:#383A42;--shiki-dark:#E5C07B">style</span><span style="color:#383A42;--shiki-dark:#ABB2BF">.</span><span style="color:#4078F2;--shiki-dark:#61AFEF">define</span><span style="color:#383A42;--shiki-dark:#ABB2BF">(</span><span style="color:#50A14F;--shiki-dark:#98C379">'$shiki_enable'</span><span style="color:#383A42;--shiki-dark:#ABB2BF">, </span><span style="color:#383A42;--shiki-dark:#E06C75">shikiEnable</span><span style="color:#383A42;--shiki-dark:#ABB2BF">)          </span></span><span class="line diff add"><span style="color:#383A42;--shiki-dark:#E5C07B">style</span><span style="color:#383A42;--shiki-dark:#ABB2BF">.</span><span style="color:#4078F2;--shiki-dark:#61AFEF">define</span><span style="color:#383A42;--shiki-dark:#ABB2BF">(</span><span style="color:#50A14F;--shiki-dark:#98C379">'$shiki_line_number'</span><span style="color:#383A42;--shiki-dark:#ABB2BF">, </span><span style="color:#383A42;--shiki-dark:#E06C75">shikiLineNumber</span><span style="color:#383A42;--shiki-dark:#ABB2BF">) </span></span><span class="line"><span style="color:#383A42;--shiki-dark:#E5C07B">style</span><span style="color:#383A42;--shiki-dark:#ABB2BF">.</span><span style="color:#4078F2;--shiki-dark:#61AFEF">define</span><span style="color:#383A42;--shiki-dark:#ABB2BF">(</span><span style="color:#50A14F;--shiki-dark:#98C379">'$language'</span><span style="color:#383A42;--shiki-dark:#ABB2BF">, </span><span style="color:#383A42;--shiki-dark:#E5C07B">config</span><span style="color:#383A42;--shiki-dark:#ABB2BF">.</span><span style="color:#E45649;--shiki-dark:#E06C75">language</span><span style="color:#383A42;--shiki-dark:#ABB2BF">)</span></span></code></pre></td></tr></tbody></table></figure><figure class="highlight javascript"><figcaption><span>source/js/main.js</span><a href="https://github.com/everfu/hexo-theme-solitude/blob/b29911baab44687782e84032214aca34e991b300/source/js/main.js#L495" rel="external nofollow noreferrer">line 495</a></figcaption><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre class="shiki shiki-themes one-light one-dark-pro has-diff"><span class="line diff remove"><span style="color:#A626A4;--shiki-dark:#C678DD">const</span><span style="color:#986801;--shiki-dark:#E5C07B"> $syntaxHighlight</span><span style="color:#0184BC;--shiki-dark:#56B6C2"> =</span><span style="color:#383A42;--shiki-dark:#E06C75"> syntax</span><span style="color:#0184BC;--shiki-dark:#56B6C2"> ===</span><span style="color:#50A14F;--shiki-dark:#98C379"> 'highlight.js'</span><span style="color:#0184BC;--shiki-dark:#C678DD"> ?</span><span style="color:#383A42;--shiki-dark:#E5C07B"> document</span><span style="color:#383A42;--shiki-dark:#ABB2BF">.</span><span style="color:#4078F2;--shiki-dark:#61AFEF">querySelectorAll</span><span style="color:#383A42;--shiki-dark:#ABB2BF">(</span><span style="color:#50A14F;--shiki-dark:#98C379">'figure.highlight'</span><span style="color:#383A42;--shiki-dark:#ABB2BF">) </span><span style="color:#0184BC;--shiki-dark:#C678DD">:</span><span style="color:#383A42;--shiki-dark:#E5C07B"> document</span><span style="color:#383A42;--shiki-dark:#ABB2BF">.</span><span style="color:#4078F2;--shiki-dark:#61AFEF">querySelectorAll</span><span style="color:#383A42;--shiki-dark:#ABB2BF">(</span><span style="color:#50A14F;--shiki-dark:#98C379">'pre[class*="language-"]'</span><span style="color:#383A42;--shiki-dark:#ABB2BF">) </span></span><span class="line diff add"><span style="color:#A626A4;--shiki-dark:#C678DD">const</span><span style="color:#986801;--shiki-dark:#E5C07B"> $syntaxHighlight</span><span style="color:#0184BC;--shiki-dark:#56B6C2"> =</span><span style="color:#383A42;--shiki-dark:#E06C75"> syntax</span><span style="color:#0184BC;--shiki-dark:#56B6C2"> ===</span><span style="color:#50A14F;--shiki-dark:#98C379"> 'highlight.js'</span><span style="color:#0184BC;--shiki-dark:#56B6C2"> ||</span><span style="color:#383A42;--shiki-dark:#E06C75"> syntax</span><span style="color:#0184BC;--shiki-dark:#56B6C2"> ===</span><span style="color:#50A14F;--shiki-dark:#98C379"> 'shiki'</span><span style="color:#0184BC;--shiki-dark:#C678DD"> ?</span><span style="color:#383A42;--shiki-dark:#E5C07B"> document</span><span style="color:#383A42;--shiki-dark:#ABB2BF">.</span><span style="color:#4078F2;--shiki-dark:#61AFEF">querySelectorAll</span><span style="color:#383A42;--shiki-dark:#ABB2BF">(</span><span style="color:#50A14F;--shiki-dark:#98C379">'figure.highlight'</span><span style="color:#383A42;--shiki-dark:#ABB2BF">) </span><span style="color:#0184BC;--shiki-dark:#C678DD">:</span><span style="color:#383A42;--shiki-dark:#E5C07B"> document</span><span style="color:#383A42;--shiki-dark:#ABB2BF">.</span><span style="color:#4078F2;--shiki-dark:#61AFEF">querySelectorAll</span><span style="color:#383A42;--shiki-dark:#ABB2BF">(</span><span style="color:#50A14F;--shiki-dark:#98C379">'pre[class*="language-"]'</span><span style="color:#383A42;--shiki-dark:#ABB2BF">) </span></span></code></pre></td></tr></tbody></table></figure><figure class="highlight stylus"><figcaption><span>source/css/_highlight/index.styl</span><a href="https://github.com/everfu/hexo-theme-solitude/blob/b29911baab44687782e84032214aca34e991b300/source/css/_highlight/index.styl#L5" rel="external nofollow noreferrer">line 5</a></figcaption><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre class="shiki shiki-themes one-light one-dark-pro has-diff"><span class="line"><span style="color:#A626A4;--shiki-dark:#C678DD">if</span><span style="color:#E45649;--shiki-dark:#E06C75"> $highlight_enable</span></span><span class="line"><span style="color:#A626A4;--shiki-dark:#C678DD">  @require</span><span style="color:#50A14F;--shiki-dark:#98C379"> "highlight/index.styl"</span></span><span class="line"></span><span class="line"><span style="color:#A626A4;--shiki-dark:#C678DD">if</span><span style="color:#E45649;--shiki-dark:#E06C75"> $prismjs_enable</span></span><span class="line"><span style="color:#A626A4;--shiki-dark:#C678DD">  @require</span><span style="color:#50A14F;--shiki-dark:#98C379"> "prismjs/index.styl"</span></span><span class="line"></span><span class="line diff add"><span style="color:#A626A4;--shiki-dark:#C678DD">if</span><span style="color:#E45649;--shiki-dark:#E06C75"> $shiki_enable</span></span><span class="line diff add"><span style="color:#A626A4;--shiki-dark:#C678DD">  @require</span><span style="color:#50A14F;--shiki-dark:#98C379"> "shiki/index.styl"</span></span></code></pre></td></tr></tbody></table></figure><figure class="highlight stylus"><figcaption><span>source/css/_highlight/shiki/index.styl</span></figcaption><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br></pre></td><td class="code"><pre class="shiki shiki-themes one-light one-dark-pro"><span class="line"><span style="color:#A626A4;--shiki-dark:#C678DD">if</span><span style="color:#4078F2;--shiki-dark:#61AFEF"> hexo-config</span><span style="color:#383A42;--shiki-dark:#ABB2BF">(</span><span style="color:#50A14F;--shiki-dark:#98C379">'highlight.enable'</span><span style="color:#383A42;--shiki-dark:#ABB2BF">)</span></span><span class="line"><span style="color:#A626A4;--shiki-dark:#C678DD">  @import</span><span style="color:#50A14F;--shiki-dark:#98C379"> "diff"</span></span><span class="line"></span><span class="line"><span style="color:#E45649;--shiki-dark:#E06C75">figure</span></span><span class="line"><span style="color:#E45649;--shiki-dark:#E06C75">  pre</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">    margin </span><span style="color:#986801;--shiki-dark:#D19A66">0</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">    padding </span><span style="color:#986801;--shiki-dark:#D19A66">8</span><span style="color:#986801;--shiki-dark:#E06C75">px</span><span style="color:#986801;--shiki-dark:#D19A66"> 0</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">    border </span><span style="color:#383A42;--shiki-dark:#D19A66">none</span></span><span class="line"><span style="color:#E45649;--shiki-dark:#E06C75">  table</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">    display </span><span style="color:#383A42;--shiki-dark:#D19A66">block</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">    border </span><span style="color:#383A42;--shiki-dark:#D19A66">none</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">    overflow-y </span><span style="color:#383A42;--shiki-dark:#D19A66">hidden</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">    overflow-x </span><span style="color:#383A42;--shiki-dark:#D19A66">auto</span></span><span class="line"></span><span class="line"><span style="color:#E45649;--shiki-dark:#E06C75">    td</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">      padding </span><span style="color:#986801;--shiki-dark:#D19A66">0</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">      border </span><span style="color:#383A42;--shiki-dark:#D19A66">none</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">      height </span><span style="color:#986801;--shiki-dark:#D19A66">100</span><span style="color:#986801;--shiki-dark:#E06C75">%</span></span><span class="line"></span><span class="line"><span style="color:#A626A4;--shiki-dark:#C678DD">      &#x26;</span><span style="color:#986801;--shiki-dark:#D19A66">.gutter</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">        opacity </span><span style="color:#986801;--shiki-dark:#D19A66">.6</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">        user-select </span><span style="color:#383A42;--shiki-dark:#D19A66">none</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">        min-width initial</span></span><span class="line"></span><span class="line"><span style="color:#E45649;--shiki-dark:#E06C75">        pre</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">          overflow </span><span style="color:#383A42;--shiki-dark:#D19A66">auto</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">          line-height </span><span style="color:#986801;--shiki-dark:#D19A66">1.6</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">          margin </span><span style="color:#986801;--shiki-dark:#D19A66">0</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">          padding </span><span style="color:#986801;--shiki-dark:#D19A66">8</span><span style="color:#986801;--shiki-dark:#E06C75">px</span><span style="color:#986801;--shiki-dark:#D19A66"> .5</span><span style="color:#986801;--shiki-dark:#E06C75">rem</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">          border </span><span style="color:#383A42;--shiki-dark:#D19A66">none</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">          color </span><span style="color:#4078F2;--shiki-dark:#61AFEF">var</span><span style="color:#383A42;--shiki-dark:#ABB2BF">(</span><span style="color:#E45649;--shiki-dark:#E06C75">--efu-secondtext</span><span style="color:#383A42;--shiki-dark:#ABB2BF">)</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">          background </span><span style="color:#4078F2;--shiki-dark:#61AFEF">var</span><span style="color:#383A42;--shiki-dark:#ABB2BF">(</span><span style="color:#E45649;--shiki-dark:#E06C75">--efu-secondbg</span><span style="color:#383A42;--shiki-dark:#ABB2BF">)</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">          border-right </span><span style="color:#4078F2;--shiki-dark:#61AFEF">var</span><span style="color:#383A42;--shiki-dark:#ABB2BF">(</span><span style="color:#E45649;--shiki-dark:#E06C75">--style-border-always</span><span style="color:#383A42;--shiki-dark:#ABB2BF">)</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">          text-align </span><span style="color:#383A42;--shiki-dark:#D19A66">center</span></span><span class="line"></span><span class="line"><span style="color:#A626A4;--shiki-dark:#C678DD">      &#x26;</span><span style="color:#986801;--shiki-dark:#D19A66">.code</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">        width </span><span style="color:#986801;--shiki-dark:#D19A66">100</span><span style="color:#986801;--shiki-dark:#E06C75">%</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">        display </span><span style="color:#383A42;--shiki-dark:#D19A66">flex</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">        position </span><span style="color:#383A42;--shiki-dark:#D19A66">relative</span></span><span class="line"></span><span class="line"><span style="color:#E45649;--shiki-dark:#E06C75">        pre</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">          padding-right </span><span style="color:#986801;--shiki-dark:#D19A66">.5</span><span style="color:#986801;--shiki-dark:#E06C75">rem</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">          padding-left </span><span style="color:#986801;--shiki-dark:#D19A66">.5</span><span style="color:#986801;--shiki-dark:#E06C75">rem</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">          line-height </span><span style="color:#986801;--shiki-dark:#D19A66">1.6</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">          width </span><span style="color:#986801;--shiki-dark:#D19A66">100</span><span style="color:#986801;--shiki-dark:#E06C75">%</span></span><span class="line"></span><span class="line"><span style="color:#986801;--shiki-dark:#D19A66">  .line</span></span><span class="line"><span style="color:#A626A4;--shiki-dark:#C678DD">    &#x26;</span><span style="color:#986801;--shiki-dark:#D19A66">.marked</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">      background-color: </span><span style="color:#4078F2;--shiki-dark:#61AFEF">rgba</span><span style="color:#383A42;--shiki-dark:#ABB2BF">(</span><span style="color:#986801;--shiki-dark:#D19A66">97</span><span style="color:#383A42;--shiki-dark:#ABB2BF">, </span><span style="color:#986801;--shiki-dark:#D19A66">97</span><span style="color:#383A42;--shiki-dark:#ABB2BF">, </span><span style="color:#986801;--shiki-dark:#D19A66">97</span><span style="color:#383A42;--shiki-dark:#ABB2BF">, </span><span style="color:#986801;--shiki-dark:#D19A66">.314</span><span style="color:#383A42;--shiki-dark:#ABB2BF">)</span></span></code></pre></td></tr></tbody></table></figure><figure class="highlight stylus"><figcaption><span>source/css/_highlight/shiki/diff.styl</span></figcaption><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre class="shiki shiki-themes one-light one-dark-pro"><span class="line"><span style="color:#E45649;--shiki-dark:#E06C75">figure</span><span style="color:#986801;--shiki-dark:#D19A66">.highlight</span></span><span class="line"><span style="color:#0184BC;--shiki-dark:#56B6C2">  table</span><span style="color:#383A42;--shiki-dark:#ABB2BF">::-webkit-scrollbar</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">    color </span><span style="color:#4078F2;--shiki-dark:#61AFEF">var</span><span style="color:#383A42;--shiki-dark:#ABB2BF">(</span><span style="color:#E45649;--shiki-dark:#E06C75">--efu-secondbg</span><span style="color:#383A42;--shiki-dark:#ABB2BF">)</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">    height </span><span style="color:#986801;--shiki-dark:#D19A66">6</span><span style="color:#986801;--shiki-dark:#E06C75">px</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">    background </span><span style="color:#4078F2;--shiki-dark:#61AFEF">var</span><span style="color:#383A42;--shiki-dark:#ABB2BF">(</span><span style="color:#E45649;--shiki-dark:#E06C75">--efu-hl-bg</span><span style="color:#383A42;--shiki-dark:#ABB2BF">)</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">    border-radius </span><span style="color:#986801;--shiki-dark:#D19A66">6</span><span style="color:#986801;--shiki-dark:#E06C75">px</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">    display initial</span></span><span class="line"></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">  [</span><span style="color:#986801;--shiki-dark:#D19A66">data-theme</span><span style="color:#383A42;--shiki-dark:#ABB2BF">=</span><span style="color:#50A14F;--shiki-dark:#98C379">dark</span><span style="color:#383A42;--shiki-dark:#ABB2BF">]</span><span style="color:#A626A4;--shiki-dark:#C678DD"> &#x26;</span></span><span class="line"><span style="color:#E45649;--shiki-dark:#E06C75">    td</span><span style="color:#986801;--shiki-dark:#D19A66">.code</span></span><span class="line"><span style="color:#E45649;--shiki-dark:#E06C75">      span</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">        color </span><span style="color:#4078F2;--shiki-dark:#61AFEF">var</span><span style="color:#383A42;--shiki-dark:#ABB2BF">(</span><span style="color:#E45649;--shiki-dark:#E06C75">--shiki-dark</span><span style="color:#383A42;--shiki-dark:#ABB2BF">)</span><span style="color:#A626A4;--shiki-dark:#C678DD"> !important</span></span><span class="line"><span style="color:#A0A1A7;font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">        // background-color var(--shiki-dark-bg) !important // 不建议使用</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">        font-style </span><span style="color:#4078F2;--shiki-dark:#61AFEF">var</span><span style="color:#383A42;--shiki-dark:#ABB2BF">(</span><span style="color:#E45649;--shiki-dark:#E06C75">--shiki-dark-font-style</span><span style="color:#383A42;--shiki-dark:#ABB2BF">)</span><span style="color:#A626A4;--shiki-dark:#C678DD"> !important</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">        font-weight </span><span style="color:#4078F2;--shiki-dark:#61AFEF">var</span><span style="color:#383A42;--shiki-dark:#ABB2BF">(</span><span style="color:#E45649;--shiki-dark:#E06C75">--shiki-dark-font-weight</span><span style="color:#383A42;--shiki-dark:#ABB2BF">)</span><span style="color:#A626A4;--shiki-dark:#C678DD"> !important</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">        text-decoration </span><span style="color:#4078F2;--shiki-dark:#61AFEF">var</span><span style="color:#383A42;--shiki-dark:#ABB2BF">(</span><span style="color:#E45649;--shiki-dark:#E06C75">--shiki-dark-text-decoration</span><span style="color:#383A42;--shiki-dark:#ABB2BF">)</span><span style="color:#A626A4;--shiki-dark:#C678DD"> !important</span></span></code></pre></td></tr></tbody></table></figure><p>这样就可以适配 Solitude 主题了。</p><h3 id="mathjax-适配">MathJax 适配</h3><p>此外，使用 Shiki 进行代码高亮渲染会导致 MathJax 的 LiteDOM adaptor解析文档失败，因此需要把 <ahref="https://github.com/next-theme/hexo-filter-mathjax">hexo-filter-mathjax</a>的代码进行部分修改。</p><p>新建 <code>mathjax.js</code>，放到博客的 <code>scripts</code>目录下： <figure class="highlight javascript"><figcaption><span>./scripts/mathjax.js</span></figcaption><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br></pre></td><td class="code"><pre class="shiki shiki-themes one-light one-dark-pro"><span class="line"><span style="color:#50A14F;--shiki-dark:#98C379">"use strict"</span><span style="color:#383A42;--shiki-dark:#ABB2BF">;</span></span><span class="line"><span style="color:#A626A4;--shiki-dark:#C678DD">const</span><span style="color:#383A42;--shiki-dark:#ABB2BF"> &#123; </span><span style="color:#986801;--shiki-dark:#E5C07B">mathjax</span><span style="color:#383A42;--shiki-dark:#ABB2BF"> &#125; </span><span style="color:#0184BC;--shiki-dark:#56B6C2">=</span><span style="color:#4078F2;--shiki-dark:#61AFEF"> require</span><span style="color:#383A42;--shiki-dark:#ABB2BF">(</span><span style="color:#50A14F;--shiki-dark:#98C379">"mathjax-full/js/mathjax.js"</span><span style="color:#383A42;--shiki-dark:#ABB2BF">);</span></span><span class="line"><span style="color:#A626A4;--shiki-dark:#C678DD">const</span><span style="color:#383A42;--shiki-dark:#ABB2BF"> &#123; </span><span style="color:#986801;--shiki-dark:#E5C07B">TeX</span><span style="color:#383A42;--shiki-dark:#ABB2BF"> &#125; </span><span style="color:#0184BC;--shiki-dark:#56B6C2">=</span><span style="color:#4078F2;--shiki-dark:#61AFEF"> require</span><span style="color:#383A42;--shiki-dark:#ABB2BF">(</span><span style="color:#50A14F;--shiki-dark:#98C379">"mathjax-full/js/input/tex.js"</span><span style="color:#383A42;--shiki-dark:#ABB2BF">);</span></span><span class="line"><span style="color:#A626A4;--shiki-dark:#C678DD">const</span><span style="color:#383A42;--shiki-dark:#ABB2BF"> &#123; </span><span style="color:#986801;--shiki-dark:#E5C07B">SVG</span><span style="color:#383A42;--shiki-dark:#ABB2BF"> &#125; </span><span style="color:#0184BC;--shiki-dark:#56B6C2">=</span><span style="color:#4078F2;--shiki-dark:#61AFEF"> require</span><span style="color:#383A42;--shiki-dark:#ABB2BF">(</span><span style="color:#50A14F;--shiki-dark:#98C379">"mathjax-full/js/output/svg.js"</span><span style="color:#383A42;--shiki-dark:#ABB2BF">);</span></span><span class="line"><span style="color:#A626A4;--shiki-dark:#C678DD">const</span><span style="color:#383A42;--shiki-dark:#ABB2BF"> &#123; </span><span style="color:#986801;--shiki-dark:#E5C07B">LiteAdaptor</span><span style="color:#383A42;--shiki-dark:#ABB2BF"> &#125; </span><span style="color:#0184BC;--shiki-dark:#56B6C2">=</span><span style="color:#4078F2;--shiki-dark:#61AFEF"> require</span><span style="color:#383A42;--shiki-dark:#ABB2BF">(</span><span style="color:#50A14F;--shiki-dark:#98C379">"mathjax-full/js/adaptors/liteAdaptor.js"</span><span style="color:#383A42;--shiki-dark:#ABB2BF">);</span></span><span class="line"><span style="color:#A626A4;--shiki-dark:#C678DD">const</span><span style="color:#383A42;--shiki-dark:#ABB2BF"> &#123; </span><span style="color:#986801;--shiki-dark:#E5C07B">RegisterHTMLHandler</span><span style="color:#383A42;--shiki-dark:#ABB2BF"> &#125; </span><span style="color:#0184BC;--shiki-dark:#56B6C2">=</span><span style="color:#4078F2;--shiki-dark:#61AFEF"> require</span><span style="color:#383A42;--shiki-dark:#ABB2BF">(</span><span style="color:#50A14F;--shiki-dark:#98C379">"mathjax-full/js/handlers/html.js"</span><span style="color:#383A42;--shiki-dark:#ABB2BF">);</span></span><span class="line"><span style="color:#A626A4;--shiki-dark:#C678DD">const</span><span style="color:#383A42;--shiki-dark:#ABB2BF"> &#123; </span><span style="color:#986801;--shiki-dark:#E5C07B">escapeHTML</span><span style="color:#383A42;--shiki-dark:#ABB2BF"> &#125; </span><span style="color:#0184BC;--shiki-dark:#56B6C2">=</span><span style="color:#4078F2;--shiki-dark:#61AFEF"> require</span><span style="color:#383A42;--shiki-dark:#ABB2BF">(</span><span style="color:#50A14F;--shiki-dark:#98C379">"hexo-util"</span><span style="color:#383A42;--shiki-dark:#ABB2BF">);</span></span><span class="line"></span><span class="line"><span style="color:#A626A4;--shiki-dark:#C678DD">let</span><span style="color:#383A42;--shiki-dark:#ABB2BF"> &#123; </span><span style="color:#383A42;--shiki-dark:#E06C75">AllPackages</span><span style="color:#383A42;--shiki-dark:#ABB2BF"> &#125; </span><span style="color:#0184BC;--shiki-dark:#56B6C2">=</span><span style="color:#4078F2;--shiki-dark:#61AFEF"> require</span><span style="color:#383A42;--shiki-dark:#ABB2BF">(</span><span style="color:#50A14F;--shiki-dark:#98C379">"mathjax-full/js/input/tex/AllPackages.js"</span><span style="color:#383A42;--shiki-dark:#ABB2BF">);</span></span><span class="line"></span><span class="line"><span style="color:#A626A4;--shiki-dark:#C678DD">const</span><span style="color:#986801;--shiki-dark:#E5C07B"> config</span><span style="color:#0184BC;--shiki-dark:#56B6C2"> =</span><span style="color:#383A42;--shiki-dark:#ABB2BF"> (</span><span style="color:#383A42;--shiki-dark:#E5C07B">hexo</span><span style="color:#383A42;--shiki-dark:#ABB2BF">.</span><span style="color:#E45649;--shiki-dark:#E5C07B">config</span><span style="color:#383A42;--shiki-dark:#ABB2BF">.</span><span style="color:#E45649;--shiki-dark:#E06C75">mathjax</span><span style="color:#0184BC;--shiki-dark:#56B6C2"> =</span><span style="color:#383A42;--shiki-dark:#E5C07B"> Object</span><span style="color:#383A42;--shiki-dark:#ABB2BF">.</span><span style="color:#4078F2;--shiki-dark:#61AFEF">assign</span><span style="color:#383A42;--shiki-dark:#ABB2BF">(</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">  &#123;</span></span><span class="line"><span style="color:#E45649;--shiki-dark:#E06C75">    tags</span><span style="color:#0184BC;--shiki-dark:#ABB2BF">:</span><span style="color:#50A14F;--shiki-dark:#98C379"> "none"</span><span style="color:#383A42;--shiki-dark:#ABB2BF">,</span></span><span class="line"><span style="color:#E45649;--shiki-dark:#E06C75">    single_dollars</span><span style="color:#0184BC;--shiki-dark:#ABB2BF">:</span><span style="color:#986801;--shiki-dark:#D19A66"> true</span><span style="color:#383A42;--shiki-dark:#ABB2BF">,</span></span><span class="line"><span style="color:#E45649;--shiki-dark:#E06C75">    cjk_width</span><span style="color:#0184BC;--shiki-dark:#ABB2BF">:</span><span style="color:#986801;--shiki-dark:#D19A66"> 0.9</span><span style="color:#383A42;--shiki-dark:#ABB2BF">,</span></span><span class="line"><span style="color:#E45649;--shiki-dark:#E06C75">    normal_width</span><span style="color:#0184BC;--shiki-dark:#ABB2BF">:</span><span style="color:#986801;--shiki-dark:#D19A66"> 0.6</span><span style="color:#383A42;--shiki-dark:#ABB2BF">,</span></span><span class="line"><span style="color:#E45649;--shiki-dark:#E06C75">    append_css</span><span style="color:#0184BC;--shiki-dark:#ABB2BF">:</span><span style="color:#986801;--shiki-dark:#D19A66"> true</span><span style="color:#383A42;--shiki-dark:#ABB2BF">,</span></span><span class="line"><span style="color:#E45649;--shiki-dark:#E06C75">    every_page</span><span style="color:#0184BC;--shiki-dark:#ABB2BF">:</span><span style="color:#986801;--shiki-dark:#D19A66"> false</span><span style="color:#383A42;--shiki-dark:#ABB2BF">,</span></span><span class="line"><span style="color:#E45649;--shiki-dark:#E06C75">    extension_options</span><span style="color:#0184BC;--shiki-dark:#ABB2BF">:</span><span style="color:#383A42;--shiki-dark:#ABB2BF"> &#123;&#125;,</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">  &#125;,</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#E5C07B">  hexo</span><span style="color:#383A42;--shiki-dark:#ABB2BF">.</span><span style="color:#E45649;--shiki-dark:#E5C07B">config</span><span style="color:#383A42;--shiki-dark:#ABB2BF">.</span><span style="color:#E45649;--shiki-dark:#E06C75">mathjax</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">));</span></span><span class="line"></span><span class="line"><span style="color:#A626A4;--shiki-dark:#C678DD">const</span><span style="color:#986801;--shiki-dark:#E5C07B"> adaptor</span><span style="color:#0184BC;--shiki-dark:#56B6C2"> =</span><span style="color:#A626A4;--shiki-dark:#C678DD"> new</span><span style="color:#4078F2;--shiki-dark:#61AFEF"> LiteAdaptor</span><span style="color:#383A42;--shiki-dark:#ABB2BF">(&#123;</span></span><span class="line"><span style="color:#E45649;--shiki-dark:#E06C75">  fontSize</span><span style="color:#0184BC;--shiki-dark:#ABB2BF">:</span><span style="color:#986801;--shiki-dark:#D19A66"> 16</span><span style="color:#383A42;--shiki-dark:#ABB2BF">,</span></span><span class="line"><span style="color:#E45649;--shiki-dark:#E06C75">  cjkCharWidth</span><span style="color:#0184BC;--shiki-dark:#ABB2BF">:</span><span style="color:#383A42;--shiki-dark:#E5C07B"> config</span><span style="color:#383A42;--shiki-dark:#ABB2BF">.</span><span style="color:#E45649;--shiki-dark:#E06C75">cjk_width</span><span style="color:#383A42;--shiki-dark:#ABB2BF">,</span></span><span class="line"><span style="color:#E45649;--shiki-dark:#E06C75">  unknownCharWidth</span><span style="color:#0184BC;--shiki-dark:#ABB2BF">:</span><span style="color:#383A42;--shiki-dark:#E5C07B"> config</span><span style="color:#383A42;--shiki-dark:#ABB2BF">.</span><span style="color:#E45649;--shiki-dark:#E06C75">normal_width</span><span style="color:#383A42;--shiki-dark:#ABB2BF">,</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">&#125;);</span></span><span class="line"><span style="color:#4078F2;--shiki-dark:#61AFEF">RegisterHTMLHandler</span><span style="color:#383A42;--shiki-dark:#ABB2BF">(</span><span style="color:#383A42;--shiki-dark:#E06C75">adaptor</span><span style="color:#383A42;--shiki-dark:#ABB2BF">);</span></span><span class="line"></span><span class="line"><span style="color:#A626A4;--shiki-dark:#C678DD">const</span><span style="color:#4078F2;--shiki-dark:#61AFEF"> render</span><span style="color:#0184BC;--shiki-dark:#56B6C2"> =</span><span style="color:#383A42;--shiki-dark:#ABB2BF"> (</span><span style="color:#383A42;font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic">content</span><span style="color:#383A42;--shiki-dark:#ABB2BF">) </span><span style="color:#A626A4;--shiki-dark:#C678DD">=></span><span style="color:#383A42;--shiki-dark:#ABB2BF"> &#123;</span></span><span class="line"><span style="color:#A626A4;--shiki-dark:#C678DD">  if</span><span style="color:#383A42;--shiki-dark:#ABB2BF"> (</span><span style="color:#383A42;--shiki-dark:#E5C07B">Array</span><span style="color:#383A42;--shiki-dark:#ABB2BF">.</span><span style="color:#4078F2;--shiki-dark:#61AFEF">isArray</span><span style="color:#383A42;--shiki-dark:#ABB2BF">(</span><span style="color:#383A42;--shiki-dark:#E5C07B">config</span><span style="color:#383A42;--shiki-dark:#ABB2BF">.</span><span style="color:#E45649;--shiki-dark:#E06C75">packages</span><span style="color:#383A42;--shiki-dark:#ABB2BF">)) &#123;</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#E06C75">    AllPackages</span><span style="color:#0184BC;--shiki-dark:#56B6C2"> =</span><span style="color:#383A42;--shiki-dark:#E5C07B"> AllPackages</span><span style="color:#383A42;--shiki-dark:#ABB2BF">.</span><span style="color:#4078F2;--shiki-dark:#61AFEF">concat</span><span style="color:#383A42;--shiki-dark:#ABB2BF">(</span><span style="color:#383A42;--shiki-dark:#E5C07B">config</span><span style="color:#383A42;--shiki-dark:#ABB2BF">.</span><span style="color:#E45649;--shiki-dark:#E06C75">packages</span><span style="color:#383A42;--shiki-dark:#ABB2BF">);</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">  &#125;</span></span><span class="line"><span style="color:#A626A4;--shiki-dark:#C678DD">  const</span><span style="color:#986801;--shiki-dark:#E5C07B"> tex</span><span style="color:#0184BC;--shiki-dark:#56B6C2"> =</span><span style="color:#A626A4;--shiki-dark:#C678DD"> new</span><span style="color:#4078F2;--shiki-dark:#61AFEF"> TeX</span><span style="color:#383A42;--shiki-dark:#ABB2BF">(</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#E5C07B">    Object</span><span style="color:#383A42;--shiki-dark:#ABB2BF">.</span><span style="color:#4078F2;--shiki-dark:#61AFEF">assign</span><span style="color:#383A42;--shiki-dark:#ABB2BF">(</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">      &#123;</span></span><span class="line"><span style="color:#E45649;--shiki-dark:#E06C75">        packages</span><span style="color:#0184BC;--shiki-dark:#ABB2BF">:</span><span style="color:#383A42;--shiki-dark:#E06C75"> AllPackages</span><span style="color:#383A42;--shiki-dark:#ABB2BF">,</span></span><span class="line"><span style="color:#E45649;--shiki-dark:#E06C75">        tags</span><span style="color:#0184BC;--shiki-dark:#ABB2BF">:</span><span style="color:#383A42;--shiki-dark:#E5C07B"> config</span><span style="color:#383A42;--shiki-dark:#ABB2BF">.</span><span style="color:#E45649;--shiki-dark:#E06C75">tags</span><span style="color:#383A42;--shiki-dark:#ABB2BF">,</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">      &#125;,</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#E5C07B">      config</span><span style="color:#383A42;--shiki-dark:#ABB2BF">.</span><span style="color:#E45649;--shiki-dark:#E06C75">extension_options</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">    )</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">  );</span></span><span class="line"><span style="color:#A626A4;--shiki-dark:#C678DD">  const</span><span style="color:#986801;--shiki-dark:#E5C07B"> svg</span><span style="color:#0184BC;--shiki-dark:#56B6C2"> =</span><span style="color:#A626A4;--shiki-dark:#C678DD"> new</span><span style="color:#4078F2;--shiki-dark:#61AFEF"> SVG</span><span style="color:#383A42;--shiki-dark:#ABB2BF">(&#123;</span></span><span class="line"><span style="color:#E45649;--shiki-dark:#E06C75">    fontCache</span><span style="color:#0184BC;--shiki-dark:#ABB2BF">:</span><span style="color:#50A14F;--shiki-dark:#98C379"> "none"</span><span style="color:#383A42;--shiki-dark:#ABB2BF">,</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">  &#125;);</span></span><span class="line"><span style="color:#A626A4;--shiki-dark:#C678DD">  const</span><span style="color:#986801;--shiki-dark:#E5C07B"> html</span><span style="color:#0184BC;--shiki-dark:#56B6C2"> =</span><span style="color:#383A42;--shiki-dark:#E5C07B"> mathjax</span><span style="color:#383A42;--shiki-dark:#ABB2BF">.</span><span style="color:#4078F2;--shiki-dark:#61AFEF">document</span><span style="color:#383A42;--shiki-dark:#ABB2BF">(</span><span style="color:#383A42;--shiki-dark:#E06C75">content</span><span style="color:#383A42;--shiki-dark:#ABB2BF">, &#123;</span></span><span class="line"><span style="color:#E45649;--shiki-dark:#E06C75">    InputJax</span><span style="color:#0184BC;--shiki-dark:#ABB2BF">:</span><span style="color:#383A42;--shiki-dark:#E06C75"> tex</span><span style="color:#383A42;--shiki-dark:#ABB2BF">,</span></span><span class="line"><span style="color:#E45649;--shiki-dark:#E06C75">    OutputJax</span><span style="color:#0184BC;--shiki-dark:#ABB2BF">:</span><span style="color:#383A42;--shiki-dark:#E06C75"> svg</span><span style="color:#383A42;--shiki-dark:#ABB2BF">,</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">  &#125;);</span></span><span class="line"></span><span class="line"><span style="color:#383A42;--shiki-dark:#E5C07B">  html</span><span style="color:#383A42;--shiki-dark:#ABB2BF">.</span><span style="color:#4078F2;--shiki-dark:#61AFEF">render</span><span style="color:#383A42;--shiki-dark:#ABB2BF">();</span></span><span class="line"></span><span class="line"><span style="color:#A626A4;--shiki-dark:#C678DD">  const</span><span style="color:#986801;--shiki-dark:#E5C07B"> htmlContent</span><span style="color:#0184BC;--shiki-dark:#56B6C2"> =</span><span style="color:#383A42;--shiki-dark:#E5C07B"> adaptor</span><span style="color:#383A42;--shiki-dark:#ABB2BF">.</span><span style="color:#4078F2;--shiki-dark:#61AFEF">innerHTML</span><span style="color:#383A42;--shiki-dark:#ABB2BF">(</span><span style="color:#383A42;--shiki-dark:#E5C07B">adaptor</span><span style="color:#383A42;--shiki-dark:#ABB2BF">.</span><span style="color:#4078F2;--shiki-dark:#61AFEF">body</span><span style="color:#383A42;--shiki-dark:#ABB2BF">(</span><span style="color:#383A42;--shiki-dark:#E5C07B">html</span><span style="color:#383A42;--shiki-dark:#ABB2BF">.</span><span style="color:#E45649;--shiki-dark:#E06C75">document</span><span style="color:#383A42;--shiki-dark:#ABB2BF">));</span></span><span class="line"><span style="color:#A626A4;--shiki-dark:#C678DD">  if</span><span style="color:#383A42;--shiki-dark:#ABB2BF"> (</span><span style="color:#383A42;--shiki-dark:#E5C07B">html</span><span style="color:#383A42;--shiki-dark:#ABB2BF">.</span><span style="color:#E45649;--shiki-dark:#E5C07B">outputJax</span><span style="color:#383A42;--shiki-dark:#ABB2BF">.</span><span style="color:#E45649;--shiki-dark:#E5C07B">math</span><span style="color:#383A42;--shiki-dark:#ABB2BF">.</span><span style="color:#E45649;--shiki-dark:#E06C75">display</span><span style="color:#383A42;--shiki-dark:#ABB2BF">) &#123;</span></span><span class="line"><span style="color:#A626A4;--shiki-dark:#C678DD">    const</span><span style="color:#986801;--shiki-dark:#E5C07B"> latexContent</span><span style="color:#0184BC;--shiki-dark:#56B6C2"> =</span><span style="color:#383A42;--shiki-dark:#E5C07B"> html</span><span style="color:#383A42;--shiki-dark:#ABB2BF">.</span><span style="color:#E45649;--shiki-dark:#E5C07B">outputJax</span><span style="color:#383A42;--shiki-dark:#ABB2BF">.</span><span style="color:#E45649;--shiki-dark:#E5C07B">math</span><span style="color:#383A42;--shiki-dark:#ABB2BF">.</span><span style="color:#E45649;--shiki-dark:#E06C75">math</span><span style="color:#383A42;--shiki-dark:#ABB2BF">;</span></span><span class="line"><span style="color:#A626A4;--shiki-dark:#C678DD">    const</span><span style="color:#986801;--shiki-dark:#E5C07B"> outputHtml</span><span style="color:#0184BC;--shiki-dark:#56B6C2"> =</span><span style="color:#383A42;--shiki-dark:#E5C07B"> htmlContent</span><span style="color:#383A42;--shiki-dark:#ABB2BF">.</span><span style="color:#4078F2;--shiki-dark:#61AFEF">replace</span><span style="color:#383A42;--shiki-dark:#ABB2BF">(</span></span><span class="line"><span style="color:#50A14F;--shiki-dark:#98C379">      "&#x3C;/mjx-container>"</span><span style="color:#383A42;--shiki-dark:#ABB2BF">,</span></span><span class="line"><span style="color:#50A14F;--shiki-dark:#98C379">      `&#x3C;button class="copy-button" onclick="rm.copyText(</span><span style="color:#0184BC;--shiki-dark:#56B6C2">\`</span><span style="color:#CA1243;--shiki-dark:#C678DD">$&#123;</span><span style="color:#4078F2;--shiki-dark:#61AFEF">escapeHTML</span><span style="color:#383A42;--shiki-dark:#ABB2BF">(</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#E5C07B">        latexContent</span><span style="color:#50A14F;--shiki-dark:#ABB2BF">.</span><span style="color:#4078F2;--shiki-dark:#61AFEF">replace</span><span style="color:#383A42;--shiki-dark:#ABB2BF">(</span><span style="color:#CA1243;--shiki-dark:#E06C75">/</span><span style="color:#0184BC;--shiki-dark:#56B6C2">\\</span><span style="color:#CA1243;--shiki-dark:#E06C75">/</span><span style="color:#A626A4;--shiki-dark:#C678DD">g</span><span style="color:#383A42;--shiki-dark:#ABB2BF">,</span><span style="color:#CA1243;--shiki-dark:#98C379"> "</span><span style="color:#0184BC;--shiki-dark:#56B6C2">\\\\</span><span style="color:#CA1243;--shiki-dark:#98C379">"</span><span style="color:#383A42;--shiki-dark:#ABB2BF">)</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">      )</span><span style="color:#CA1243;--shiki-dark:#C678DD">&#125;</span><span style="color:#0184BC;--shiki-dark:#56B6C2">\`</span><span style="color:#50A14F;--shiki-dark:#98C379">)">&#x3C;i class="solitude fas fa-copy">&#x3C;/i>&#x3C;/button>&#x3C;/mjx-container>`</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">    );</span></span><span class="line"><span style="color:#A626A4;--shiki-dark:#C678DD">    return</span><span style="color:#383A42;--shiki-dark:#E06C75"> outputHtml</span><span style="color:#383A42;--shiki-dark:#ABB2BF">;</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">  &#125;</span></span><span class="line"><span style="color:#A626A4;--shiki-dark:#C678DD">  return</span><span style="color:#383A42;--shiki-dark:#E06C75"> htmlContent</span><span style="color:#383A42;--shiki-dark:#ABB2BF">;</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">&#125;;</span></span><span class="line"></span><span class="line"><span style="color:#383A42;--shiki-dark:#E5C07B">hexo</span><span style="color:#383A42;--shiki-dark:#ABB2BF">.</span><span style="color:#E45649;--shiki-dark:#E5C07B">extend</span><span style="color:#383A42;--shiki-dark:#ABB2BF">.</span><span style="color:#E45649;--shiki-dark:#E5C07B">filter</span><span style="color:#383A42;--shiki-dark:#ABB2BF">.</span><span style="color:#4078F2;--shiki-dark:#61AFEF">register</span><span style="color:#383A42;--shiki-dark:#ABB2BF">(</span><span style="color:#50A14F;--shiki-dark:#98C379">"after_render:html"</span><span style="color:#383A42;--shiki-dark:#ABB2BF">, (</span><span style="color:#383A42;font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic">html</span><span style="color:#383A42;--shiki-dark:#ABB2BF">, &#123; </span><span style="color:#383A42;font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic">page</span><span style="color:#383A42;--shiki-dark:#ABB2BF"> &#125;) </span><span style="color:#A626A4;--shiki-dark:#C678DD">=></span><span style="color:#383A42;--shiki-dark:#ABB2BF"> &#123;</span></span><span class="line"><span style="color:#A626A4;--shiki-dark:#C678DD">  if</span><span style="color:#383A42;--shiki-dark:#ABB2BF"> (</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#E5C07B">    config</span><span style="color:#383A42;--shiki-dark:#ABB2BF">.</span><span style="color:#E45649;--shiki-dark:#E06C75">every_page</span><span style="color:#0184BC;--shiki-dark:#56B6C2"> ||</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#E5C07B">    page</span><span style="color:#383A42;--shiki-dark:#ABB2BF">.</span><span style="color:#E45649;--shiki-dark:#E06C75">mathjax</span><span style="color:#0184BC;--shiki-dark:#56B6C2"> ||</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">    (</span><span style="color:#383A42;--shiki-dark:#E5C07B">page</span><span style="color:#383A42;--shiki-dark:#ABB2BF">.</span><span style="color:#E45649;--shiki-dark:#E06C75">__index</span><span style="color:#0184BC;--shiki-dark:#56B6C2"> &#x26;&#x26;</span><span style="color:#383A42;--shiki-dark:#E5C07B"> page</span><span style="color:#383A42;--shiki-dark:#ABB2BF">.</span><span style="color:#E45649;--shiki-dark:#E5C07B">posts</span><span style="color:#383A42;--shiki-dark:#ABB2BF">.</span><span style="color:#4078F2;--shiki-dark:#61AFEF">toArray</span><span style="color:#383A42;--shiki-dark:#ABB2BF">().</span><span style="color:#4078F2;--shiki-dark:#61AFEF">find</span><span style="color:#383A42;--shiki-dark:#ABB2BF">((</span><span style="color:#383A42;font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic">post</span><span style="color:#383A42;--shiki-dark:#ABB2BF">) </span><span style="color:#A626A4;--shiki-dark:#C678DD">=></span><span style="color:#383A42;--shiki-dark:#E5C07B"> post</span><span style="color:#383A42;--shiki-dark:#ABB2BF">.</span><span style="color:#E45649;--shiki-dark:#E06C75">mathjax</span><span style="color:#383A42;--shiki-dark:#ABB2BF">))</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">  ) &#123;</span></span><span class="line"><span style="color:#A626A4;--shiki-dark:#C678DD">    return</span><span style="color:#383A42;--shiki-dark:#E06C75"> html</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">      .</span><span style="color:#4078F2;--shiki-dark:#61AFEF">replace</span><span style="color:#383A42;--shiki-dark:#ABB2BF">(</span><span style="color:#0184BC;--shiki-dark:#E06C75">/&#x3C;span</span><span style="color:#986801;--shiki-dark:#E06C75">\s</span><span style="color:#0184BC;--shiki-dark:#D19A66">+</span><span style="color:#0184BC;--shiki-dark:#E06C75">class="math</span><span style="color:#986801;--shiki-dark:#E06C75">\s</span><span style="color:#0184BC;--shiki-dark:#D19A66">+</span><span style="color:#986801;--shiki-dark:#D19A66">[</span><span style="color:#0184BC;--shiki-dark:#ABB2BF">^</span><span style="color:#986801;--shiki-dark:#D19A66">"]</span><span style="color:#0184BC;--shiki-dark:#D19A66">*</span><span style="color:#0184BC;--shiki-dark:#E06C75">"></span><span style="color:#0184BC;--shiki-dark:#56B6C2">\\</span><span style="color:#986801;--shiki-dark:#D19A66">[</span><span style="color:#0184BC;--shiki-dark:#56B6C2">\(\[</span><span style="color:#986801;--shiki-dark:#D19A66">]</span><span style="color:#986801;--shiki-dark:#E06C75">.</span><span style="color:#0184BC;--shiki-dark:#D19A66">*?</span><span style="color:#0184BC;--shiki-dark:#56B6C2">\\</span><span style="color:#986801;--shiki-dark:#D19A66">[</span><span style="color:#0184BC;--shiki-dark:#56B6C2">\)\]</span><span style="color:#986801;--shiki-dark:#D19A66">]</span><span style="color:#0184BC;--shiki-dark:#E06C75">&#x3C;</span><span style="color:#0184BC;--shiki-dark:#56B6C2">\/</span><span style="color:#0184BC;--shiki-dark:#E06C75">span>/</span><span style="color:#A626A4;--shiki-dark:#C678DD">gs</span><span style="color:#383A42;--shiki-dark:#ABB2BF">, </span><span style="color:#383A42;--shiki-dark:#E06C75">render</span><span style="color:#383A42;--shiki-dark:#ABB2BF">)</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">      .</span><span style="color:#4078F2;--shiki-dark:#61AFEF">replace</span><span style="color:#383A42;--shiki-dark:#ABB2BF">(</span><span style="color:#50A14F;--shiki-dark:#98C379">'&#x3C;div id="post">'</span><span style="color:#383A42;--shiki-dark:#ABB2BF">, </span><span style="color:#50A14F;--shiki-dark:#98C379">'&#x3C;div id="post">&#x3C;link rel="stylesheet" href="/css/mathjax.css">'</span><span style="color:#383A42;--shiki-dark:#ABB2BF">);</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">  &#125;</span></span><span class="line"><span style="color:#A626A4;--shiki-dark:#C678DD">  return</span><span style="color:#383A42;--shiki-dark:#E06C75"> html</span><span style="color:#383A42;--shiki-dark:#ABB2BF">;</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">&#125;);</span></span></code></pre></td></tr></tbody></table></figure></p><p>接着在 <code>source</code> 目录下新建 <code>css/mathjax.styl</code>文件： <figure class="highlight stylus"><figcaption><span>./source/css/mathjax.styl</span></figcaption><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br></pre></td><td class="code"><pre class="shiki shiki-themes one-light one-dark-pro"><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">mjx-container[</span><span style="color:#986801;--shiki-dark:#D19A66">jax</span><span style="color:#383A42;--shiki-dark:#ABB2BF">=</span><span style="color:#50A14F;--shiki-dark:#98C379">'SVG'</span><span style="color:#383A42;--shiki-dark:#ABB2BF">]</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">  direction </span><span style="color:#383A42;--shiki-dark:#D19A66">ltr</span></span><span class="line"></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">  > </span><span style="color:#E45649;--shiki-dark:#E06C75">svg</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">    overflow </span><span style="color:#383A42;--shiki-dark:#D19A66">visible</span></span><span class="line"></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">  + </span><span style="color:#E45649;--shiki-dark:#E06C75">br</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">    display </span><span style="color:#383A42;--shiki-dark:#D19A66">none</span></span><span class="line"></span><span class="line"><span style="color:#A626A4;--shiki-dark:#C678DD">  &#x26;</span><span style="color:#383A42;--shiki-dark:#ABB2BF">[</span><span style="color:#986801;--shiki-dark:#D19A66">display</span><span style="color:#383A42;--shiki-dark:#ABB2BF">=</span><span style="color:#50A14F;--shiki-dark:#98C379">'true'</span><span style="color:#383A42;--shiki-dark:#ABB2BF">]</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">    overflow </span><span style="color:#383A42;--shiki-dark:#D19A66">auto</span><span style="color:#383A42;--shiki-dark:#D19A66"> hidden</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">    display </span><span style="color:#383A42;--shiki-dark:#D19A66">block</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">    text-align </span><span style="color:#383A42;--shiki-dark:#D19A66">center</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">    margin </span><span style="color:#986801;--shiki-dark:#D19A66">1</span><span style="color:#986801;--shiki-dark:#E06C75">em</span><span style="color:#986801;--shiki-dark:#D19A66"> 0</span></span><span class="line"></span><span class="line"><span style="color:#A626A4;--shiki-dark:#C678DD">  &#x26;</span><span style="color:#383A42;--shiki-dark:#ABB2BF">[</span><span style="color:#986801;--shiki-dark:#D19A66">justify</span><span style="color:#383A42;--shiki-dark:#ABB2BF">=</span><span style="color:#50A14F;--shiki-dark:#98C379">'left'</span><span style="color:#383A42;--shiki-dark:#ABB2BF">]</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">    text-align </span><span style="color:#383A42;--shiki-dark:#D19A66">left</span></span><span class="line"></span><span class="line"><span style="color:#A626A4;--shiki-dark:#C678DD">  &#x26;</span><span style="color:#383A42;--shiki-dark:#ABB2BF">[</span><span style="color:#986801;--shiki-dark:#D19A66">justify</span><span style="color:#383A42;--shiki-dark:#ABB2BF">=</span><span style="color:#50A14F;--shiki-dark:#98C379">'right'</span><span style="color:#383A42;--shiki-dark:#ABB2BF">]</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">    text-align </span><span style="color:#383A42;--shiki-dark:#D19A66">right</span></span><span class="line"></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">[</span><span style="color:#986801;--shiki-dark:#D19A66">jax</span><span style="color:#383A42;--shiki-dark:#ABB2BF">=</span><span style="color:#50A14F;--shiki-dark:#98C379">'SVG'</span><span style="color:#383A42;--shiki-dark:#ABB2BF">]</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">  mjx-tool</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">    display </span><span style="color:#383A42;--shiki-dark:#D19A66">inline-block</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">    position </span><span style="color:#383A42;--shiki-dark:#D19A66">relative</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">    width </span><span style="color:#986801;--shiki-dark:#D19A66">0</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">    height </span><span style="color:#986801;--shiki-dark:#D19A66">0</span></span><span class="line"></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">    > mjx-tip</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">      position </span><span style="color:#383A42;--shiki-dark:#D19A66">absolute</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">      top </span><span style="color:#986801;--shiki-dark:#D19A66">0</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">      left </span><span style="color:#986801;--shiki-dark:#D19A66">0</span></span><span class="line"></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">mjx-tool</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">  > mjx-tip</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">    display </span><span style="color:#383A42;--shiki-dark:#D19A66">inline-block</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">    padding </span><span style="color:#986801;--shiki-dark:#D19A66">0.2</span><span style="color:#986801;--shiki-dark:#E06C75">em</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">    border </span><span style="color:#986801;--shiki-dark:#D19A66">1</span><span style="color:#986801;--shiki-dark:#E06C75">px</span><span style="color:#383A42;--shiki-dark:#D19A66"> solid</span><span style="color:#986801;--shiki-dark:#D19A66"> #</span><span style="color:#0184BC;--shiki-dark:#D19A66">888</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">    font-size </span><span style="color:#986801;--shiki-dark:#D19A66">70</span><span style="color:#986801;--shiki-dark:#E06C75">%</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">    background-color </span><span style="color:#986801;--shiki-dark:#D19A66">#</span><span style="color:#0184BC;--shiki-dark:#D19A66">f8f8f8</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">    color </span><span style="color:#986801;--shiki-dark:#D19A66">black</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">    box-shadow </span><span style="color:#986801;--shiki-dark:#D19A66">2</span><span style="color:#986801;--shiki-dark:#E06C75">px</span><span style="color:#986801;--shiki-dark:#D19A66"> 2</span><span style="color:#986801;--shiki-dark:#E06C75">px</span><span style="color:#986801;--shiki-dark:#D19A66"> 5</span><span style="color:#986801;--shiki-dark:#E06C75">px</span><span style="color:#986801;--shiki-dark:#D19A66"> #</span><span style="color:#0184BC;--shiki-dark:#D19A66">aaaaaa</span></span><span class="line"></span><span class="line"><span style="color:#E45649;--shiki-dark:#E06C75">g</span></span><span class="line"><span style="color:#A626A4;--shiki-dark:#C678DD">  &#x26;</span><span style="color:#383A42;--shiki-dark:#ABB2BF">[</span><span style="color:#986801;--shiki-dark:#D19A66">data-mml-node</span><span style="color:#383A42;--shiki-dark:#ABB2BF">=</span><span style="color:#50A14F;--shiki-dark:#98C379">'merror'</span><span style="color:#383A42;--shiki-dark:#ABB2BF">]</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">    > </span><span style="color:#E45649;--shiki-dark:#E06C75">g</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">      fill </span><span style="color:#986801;--shiki-dark:#D19A66">red</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">      stroke </span><span style="color:#986801;--shiki-dark:#D19A66">red</span></span><span class="line"></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">    > </span><span style="color:#E45649;--shiki-dark:#E06C75">rect</span><span style="color:#383A42;--shiki-dark:#ABB2BF">[</span><span style="color:#986801;--shiki-dark:#D19A66">data-background</span><span style="color:#383A42;--shiki-dark:#ABB2BF">]</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">      fill </span><span style="color:#986801;--shiki-dark:#D19A66">yellow</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">      stroke </span><span style="color:#383A42;--shiki-dark:#D19A66">none</span></span><span class="line"></span><span class="line"><span style="color:#A626A4;--shiki-dark:#C678DD">  &#x26;</span><span style="color:#383A42;--shiki-dark:#ABB2BF">[</span><span style="color:#986801;--shiki-dark:#D19A66">data-mml-node</span><span style="color:#383A42;--shiki-dark:#ABB2BF">=</span><span style="color:#50A14F;--shiki-dark:#98C379">'mtable'</span><span style="color:#383A42;--shiki-dark:#ABB2BF">]</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">    > </span><span style="color:#E45649;--shiki-dark:#E06C75">line</span><span style="color:#383A42;--shiki-dark:#ABB2BF">[</span><span style="color:#986801;--shiki-dark:#D19A66">data-line</span><span style="color:#383A42;--shiki-dark:#ABB2BF">]</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">      stroke-width </span><span style="color:#986801;--shiki-dark:#D19A66">70</span><span style="color:#986801;--shiki-dark:#E06C75">px</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">      fill </span><span style="color:#383A42;--shiki-dark:#D19A66">none</span></span><span class="line"></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">    > </span><span style="color:#E45649;--shiki-dark:#E06C75">rect</span><span style="color:#383A42;--shiki-dark:#ABB2BF">[</span><span style="color:#986801;--shiki-dark:#D19A66">data-frame</span><span style="color:#383A42;--shiki-dark:#ABB2BF">]</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">      stroke-width </span><span style="color:#986801;--shiki-dark:#D19A66">70</span><span style="color:#986801;--shiki-dark:#E06C75">px</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">      fill </span><span style="color:#383A42;--shiki-dark:#D19A66">none</span></span><span class="line"></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">    > </span><span style="color:#986801;--shiki-dark:#D19A66">.mjx-dashed</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">      stroke-dasharray </span><span style="color:#986801;--shiki-dark:#D19A66">140</span></span><span class="line"></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">    > </span><span style="color:#986801;--shiki-dark:#D19A66">.mjx-dotted</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">      stroke-linecap </span><span style="color:#383A42;--shiki-dark:#D19A66">round</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">      stroke-dasharray </span><span style="color:#986801;--shiki-dark:#D19A66">0</span><span style="color:#383A42;--shiki-dark:#ABB2BF">, </span><span style="color:#986801;--shiki-dark:#D19A66">140</span></span><span class="line"></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">    > </span><span style="color:#E45649;--shiki-dark:#E06C75">svg</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">      overflow </span><span style="color:#383A42;--shiki-dark:#D19A66">visible</span></span><span class="line"></span><span class="line"><span style="color:#A626A4;--shiki-dark:#C678DD">  &#x26;</span><span style="color:#383A42;--shiki-dark:#ABB2BF">[</span><span style="color:#986801;--shiki-dark:#D19A66">data-mml-node</span><span style="color:#383A42;--shiki-dark:#ABB2BF">=</span><span style="color:#50A14F;--shiki-dark:#98C379">'maction'</span><span style="color:#383A42;--shiki-dark:#ABB2BF">][</span><span style="color:#986801;--shiki-dark:#D19A66">data-toggle</span><span style="color:#383A42;--shiki-dark:#ABB2BF">]</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">    cursor </span><span style="color:#383A42;--shiki-dark:#D19A66">pointer</span></span><span class="line"></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">mjx-status</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">  display </span><span style="color:#383A42;--shiki-dark:#D19A66">block</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">  position </span><span style="color:#383A42;--shiki-dark:#D19A66">fixed</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">  left </span><span style="color:#986801;--shiki-dark:#D19A66">1</span><span style="color:#986801;--shiki-dark:#E06C75">em</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">  bottom </span><span style="color:#986801;--shiki-dark:#D19A66">1</span><span style="color:#986801;--shiki-dark:#E06C75">em</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">  min-width </span><span style="color:#986801;--shiki-dark:#D19A66">25</span><span style="color:#986801;--shiki-dark:#E06C75">%</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">  padding </span><span style="color:#986801;--shiki-dark:#D19A66">0.2</span><span style="color:#986801;--shiki-dark:#E06C75">em</span><span style="color:#986801;--shiki-dark:#D19A66"> 0.4</span><span style="color:#986801;--shiki-dark:#E06C75">em</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">  border </span><span style="color:#986801;--shiki-dark:#D19A66">1</span><span style="color:#986801;--shiki-dark:#E06C75">px</span><span style="color:#383A42;--shiki-dark:#D19A66"> solid</span><span style="color:#986801;--shiki-dark:#D19A66"> #</span><span style="color:#0184BC;--shiki-dark:#D19A66">888</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">  font-size </span><span style="color:#986801;--shiki-dark:#D19A66">90</span><span style="color:#986801;--shiki-dark:#E06C75">%</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">  background-color </span><span style="color:#986801;--shiki-dark:#D19A66">#</span><span style="color:#0184BC;--shiki-dark:#D19A66">f8f8f8</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">  color </span><span style="color:#986801;--shiki-dark:#D19A66">black</span></span><span class="line"></span><span class="line"><span style="color:#E45649;--shiki-dark:#E06C75">foreignObject</span><span style="color:#383A42;--shiki-dark:#ABB2BF">[</span><span style="color:#986801;--shiki-dark:#D19A66">data-mjx-xml</span><span style="color:#383A42;--shiki-dark:#ABB2BF">]</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">  font-family initial</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">  line-height </span><span style="color:#383A42;--shiki-dark:#D19A66">normal</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">  overflow </span><span style="color:#383A42;--shiki-dark:#D19A66">visible</span></span><span class="line"></span><span class="line"><span style="color:#986801;--shiki-dark:#D19A66">.MathJax</span><span style="color:#E45649;--shiki-dark:#E06C75"> path</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">  stroke-width </span><span style="color:#986801;--shiki-dark:#D19A66">3</span></span><span class="line"></span><span class="line"><span style="color:#986801;--shiki-dark:#D19A66">.math.display</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">  display </span><span style="color:#383A42;--shiki-dark:#D19A66">block</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">  position </span><span style="color:#383A42;--shiki-dark:#D19A66">relative</span></span><span class="line"></span><span class="line"><span style="color:#986801;--shiki-dark:#D19A66">  .copy-button</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">    display </span><span style="color:#383A42;--shiki-dark:#D19A66">inline</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">    position </span><span style="color:#383A42;--shiki-dark:#D19A66">relative</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">    right </span><span style="color:#986801;--shiki-dark:#D19A66">-1</span><span style="color:#986801;--shiki-dark:#E06C75">em</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">    top </span><span style="color:#986801;--shiki-dark:#D19A66">0</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">    opacity </span><span style="color:#986801;--shiki-dark:#D19A66">0</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">    width </span><span style="color:#986801;--shiki-dark:#D19A66">0</span></span><span class="line"></span><span class="line"><span style="color:#A626A4;--shiki-dark:#C678DD">  &#x26;</span><span style="color:#986801;--shiki-dark:#56B6C2">:hover</span></span><span class="line"><span style="color:#986801;--shiki-dark:#D19A66">    .copy-button</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">      opacity </span><span style="color:#986801;--shiki-dark:#D19A66">1</span></span></code></pre></td></tr></tbody></table></figure></p><p>然后就可以把 hexo-filter-mathjax给卸载掉了。由于改为了生成后渲染，Hexo 生成的 db.json也更加友好——这意味着本地搜索的 xml 可以大幅压缩，Algolia 搜索则可以使用TeX 语法来搜索数学公式。</p><h2 id="其他修改">其他修改</h2><p>这部分的改造比较琐碎，因此集中在一节。</p><h3 id="pandoc-markdown-引用支持">Pandoc Markdown 引用支持</h3><p>本站使用 <ahref="https://github.com/hexojs/hexo-renderer-pandoc">hexo-renderer-pandoc</a>进行文章渲染，这也意味着可以使用 <ahref="https://pandoc.org/MANUAL.html#pandocs-markdown">Pandoc 版本的扩展Markdown 格式</a>来书写文章。 我的<ahref="/tags/多复变函数">多复变函数论学习笔记</a>原文均为 Typst编写，每隔一段时间会使用 Pandoc 转换部分笔记到Markdown，进行简单修改后放到博客上。我的笔记包含许多的引用，这些引用转换到Markdown 格式时会像这样： <figure class="highlight markdown"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre class="shiki shiki-themes one-light one-dark-pro"><span class="line"><span style="color:#986801;font-weight:bold;--shiki-dark:#D19A66;--shiki-dark-font-weight:inherit">**定理**</span><span style="color:#383A42;--shiki-dark:#ABB2BF"> (多圆柱上的 Cauchy 积分公式):</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">...</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">[]&#123;#theorem_多圆柱上的_Cauchy_积分公式&#125;</span></span><span class="line"></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">...</span></span><span class="line"></span><span class="line"><span style="color:#986801;font-weight:bold;--shiki-dark:#D19A66;--shiki-dark-font-weight:inherit">**推论**</span><span style="color:#383A42;--shiki-dark:#ABB2BF">:</span></span><span class="line"></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">...</span></span><span class="line"></span><span class="line"><span style="color:#A626A4;font-style:italic;--shiki-dark:#C678DD;--shiki-dark-font-style:italic">_证明_</span><span style="color:#383A42;--shiki-dark:#ABB2BF">:</span></span><span class="line"></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">对 ... 应用</span><span style="color:#986801;--shiki-dark:#ABB2BF">[</span><span style="color:#4078F2;--shiki-dark:#61AFEF">\[theorem_多圆柱上的_Cauchy_积分公式\]</span><span style="color:#986801;--shiki-dark:#ABB2BF">]</span><span style="color:#A626A4;--shiki-dark:#E06C75">(</span><span style="color:#A626A4;text-decoration:inherit;--shiki-dark:#C678DD;--shiki-dark-text-decoration:underline">#theorem_多圆柱上的_Cauchy_积分公式</span><span style="color:#A626A4;--shiki-dark:#E06C75">)</span><span style="color:#383A42;--shiki-dark:#ABB2BF">&#123;.ref&#125;，得</span></span><span class="line"></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">...</span></span></code></pre></td></tr></tbody></table></figure></p><p>进行简单修改（修改引用的位置和引用文本）后，Pandoc 渲染出的 html是这样的： <figure class="highlight html"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre class="shiki shiki-themes one-light one-dark-pro"><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">&#x3C;</span><span style="color:#E45649;--shiki-dark:#E06C75">span</span><span style="color:#986801;--shiki-dark:#D19A66"> id</span><span style="color:#383A42;--shiki-dark:#ABB2BF">=</span><span style="color:#50A14F;--shiki-dark:#98C379">"theorem_多圆柱上的_Cauchy_积分公式"</span><span style="color:#383A42;--shiki-dark:#ABB2BF">>&#x3C;</span><span style="color:#E45649;--shiki-dark:#E06C75">strong</span><span style="color:#383A42;--shiki-dark:#ABB2BF">>定理&#x3C;/</span><span style="color:#E45649;--shiki-dark:#E06C75">strong</span><span style="color:#383A42;--shiki-dark:#ABB2BF">></span></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">(多圆柱上的 Cauchy 积分公式)&#x3C;/</span><span style="color:#E45649;--shiki-dark:#E06C75">span</span><span style="color:#383A42;--shiki-dark:#ABB2BF">></span></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">&#x3C;</span><span style="color:#E45649;--shiki-dark:#E06C75">a</span><span style="color:#986801;--shiki-dark:#D19A66"> href</span><span style="color:#383A42;--shiki-dark:#ABB2BF">=</span><span style="color:#50A14F;--shiki-dark:#98C379">"#theorem_多圆柱上的_Cauchy_积分公式"</span><span style="color:#986801;--shiki-dark:#D19A66"> class</span><span style="color:#383A42;--shiki-dark:#ABB2BF">=</span><span style="color:#50A14F;--shiki-dark:#98C379">"ref"</span><span style="color:#986801;--shiki-dark:#D19A66"> data-pjax-state</span><span style="color:#383A42;--shiki-dark:#ABB2BF">=</span><span style="color:#50A14F;--shiki-dark:#98C379">""</span><span style="color:#383A42;--shiki-dark:#ABB2BF">>定理 1&#x3C;/</span><span style="color:#E45649;--shiki-dark:#E06C75">a</span><span style="color:#383A42;--shiki-dark:#ABB2BF">></span></span></code></pre></td></tr></tbody></table></figure></p><p>显然，我需要为这个引用块添加跳转功能以方便阅读，这里我选择直接在主题的<code>main.js</code> 里加上 ref 跳转的功能。</p><figure class="highlight javascript"><figcaption><span>solitude/source/main.js</span></figcaption><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre class="shiki shiki-themes one-light one-dark-pro has-diff"><span class="line"><span style="color:#A626A4;--shiki-dark:#C678DD">class</span><span style="color:#C18401;--shiki-dark:#E5C07B"> toc</span><span style="color:#383A42;--shiki-dark:#ABB2BF"> &#123;</span></span><span class="line"><span style="color:#A0A1A7;font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">// ...</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">&#125;</span></span><span class="line"></span><span class="line diff add"><span style="color:#A626A4;--shiki-dark:#C678DD">class</span><span style="color:#C18401;--shiki-dark:#E5C07B"> ref</span><span style="color:#383A42;--shiki-dark:#ABB2BF"> &#123; </span></span><span class="line diff add"><span style="color:#A626A4;--shiki-dark:#C678DD">  static</span><span style="color:#4078F2;--shiki-dark:#61AFEF"> init</span><span style="color:#383A42;--shiki-dark:#ABB2BF">() &#123; </span></span><span class="line diff add"><span style="color:#A626A4;--shiki-dark:#C678DD">    const</span><span style="color:#986801;--shiki-dark:#E5C07B"> el</span><span style="color:#0184BC;--shiki-dark:#56B6C2"> =</span><span style="color:#383A42;--shiki-dark:#E5C07B"> document</span><span style="color:#383A42;--shiki-dark:#ABB2BF">.</span><span style="color:#4078F2;--shiki-dark:#61AFEF">querySelectorAll</span><span style="color:#383A42;--shiki-dark:#ABB2BF">(</span><span style="color:#50A14F;--shiki-dark:#98C379">'a.ref'</span><span style="color:#383A42;--shiki-dark:#ABB2BF">) </span></span><span class="line diff add"><span style="color:#383A42;--shiki-dark:#E5C07B">    el</span><span style="color:#383A42;--shiki-dark:#ABB2BF">.</span><span style="color:#4078F2;--shiki-dark:#61AFEF">forEach</span><span style="color:#383A42;--shiki-dark:#ABB2BF">((</span><span style="color:#383A42;font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic">e</span><span style="color:#383A42;--shiki-dark:#ABB2BF">) </span><span style="color:#A626A4;--shiki-dark:#C678DD">=></span><span style="color:#383A42;--shiki-dark:#ABB2BF"> &#123; </span></span><span class="line diff add"><span style="color:#383A42;--shiki-dark:#E5C07B">      e</span><span style="color:#383A42;--shiki-dark:#ABB2BF">.</span><span style="color:#4078F2;--shiki-dark:#61AFEF">addEventListener</span><span style="color:#383A42;--shiki-dark:#ABB2BF">(</span><span style="color:#50A14F;--shiki-dark:#98C379">'click'</span><span style="color:#383A42;--shiki-dark:#ABB2BF">, (</span><span style="color:#383A42;font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic">event</span><span style="color:#383A42;--shiki-dark:#ABB2BF">) </span><span style="color:#A626A4;--shiki-dark:#C678DD">=></span><span style="color:#383A42;--shiki-dark:#ABB2BF"> &#123; </span></span><span class="line diff add"><span style="color:#383A42;--shiki-dark:#E5C07B">        event</span><span style="color:#383A42;--shiki-dark:#ABB2BF">.</span><span style="color:#4078F2;--shiki-dark:#61AFEF">preventDefault</span><span style="color:#383A42;--shiki-dark:#ABB2BF">() </span></span><span class="line diff add"><span style="color:#383A42;--shiki-dark:#E5C07B">        utils</span><span style="color:#383A42;--shiki-dark:#ABB2BF">.</span><span style="color:#4078F2;--shiki-dark:#61AFEF">scrollToDest</span><span style="color:#383A42;--shiki-dark:#ABB2BF">(</span><span style="color:#383A42;--shiki-dark:#E5C07B">utils</span><span style="color:#383A42;--shiki-dark:#ABB2BF">.</span><span style="color:#4078F2;--shiki-dark:#61AFEF">getEleTop</span><span style="color:#383A42;--shiki-dark:#ABB2BF">(</span><span style="color:#383A42;--shiki-dark:#E5C07B">document</span><span style="color:#383A42;--shiki-dark:#ABB2BF">.</span><span style="color:#4078F2;--shiki-dark:#61AFEF">getElementById</span><span style="color:#383A42;--shiki-dark:#ABB2BF">(</span><span style="color:#4078F2;--shiki-dark:#61AFEF">decodeURI</span><span style="color:#383A42;--shiki-dark:#ABB2BF">(</span><span style="color:#383A42;--shiki-dark:#E5C07B">event</span><span style="color:#383A42;--shiki-dark:#ABB2BF">.</span><span style="color:#E45649;--shiki-dark:#E5C07B">target</span><span style="color:#383A42;--shiki-dark:#ABB2BF">.</span><span style="color:#E45649;--shiki-dark:#E5C07B">hash</span><span style="color:#383A42;--shiki-dark:#ABB2BF">.</span><span style="color:#4078F2;--shiki-dark:#61AFEF">replace</span><span style="color:#383A42;--shiki-dark:#ABB2BF">(</span><span style="color:#50A14F;--shiki-dark:#98C379">'#'</span><span style="color:#383A42;--shiki-dark:#ABB2BF">, </span><span style="color:#50A14F;--shiki-dark:#98C379">''</span><span style="color:#383A42;--shiki-dark:#ABB2BF">)))), </span><span style="color:#986801;--shiki-dark:#D19A66">300</span><span style="color:#383A42;--shiki-dark:#ABB2BF">) </span></span><span class="line diff add"><span style="color:#383A42;--shiki-dark:#ABB2BF">      &#125;) </span></span><span class="line diff add"><span style="color:#383A42;--shiki-dark:#ABB2BF">    &#125;) </span></span><span class="line diff add"><span style="color:#383A42;--shiki-dark:#ABB2BF">  &#125; </span></span><span class="line diff add"><span style="color:#383A42;--shiki-dark:#ABB2BF">&#125; </span></span><span class="line"></span><span class="line"><span style="color:#A0A1A7;font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">// ...</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#E5C07B">window</span><span style="color:#383A42;--shiki-dark:#ABB2BF">.</span><span style="color:#4078F2;--shiki-dark:#61AFEF">refreshFn</span><span style="color:#0184BC;--shiki-dark:#56B6C2"> =</span><span style="color:#383A42;--shiki-dark:#ABB2BF"> () </span><span style="color:#A626A4;--shiki-dark:#C678DD">=></span><span style="color:#383A42;--shiki-dark:#ABB2BF"> &#123;</span></span><span class="line"><span style="color:#A0A1A7;font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">// ...</span></span><span class="line"><span style="color:#A626A4;--shiki-dark:#C678DD">  if</span><span style="color:#383A42;--shiki-dark:#ABB2BF"> (</span><span style="color:#383A42;--shiki-dark:#E06C75">is_post</span><span style="color:#0184BC;--shiki-dark:#56B6C2"> ||</span><span style="color:#383A42;--shiki-dark:#E06C75"> is_page</span><span style="color:#383A42;--shiki-dark:#ABB2BF">) &#123;</span></span><span class="line"><span style="color:#4078F2;--shiki-dark:#61AFEF">    addHighlight</span><span style="color:#383A42;--shiki-dark:#ABB2BF">();</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#E5C07B">    tabs</span><span style="color:#383A42;--shiki-dark:#ABB2BF">.</span><span style="color:#4078F2;--shiki-dark:#61AFEF">init</span><span style="color:#383A42;--shiki-dark:#ABB2BF">();</span></span><span class="line diff add"><span style="color:#383A42;--shiki-dark:#E5C07B">    ref</span><span style="color:#383A42;--shiki-dark:#ABB2BF">.</span><span style="color:#4078F2;--shiki-dark:#61AFEF">init</span><span style="color:#383A42;--shiki-dark:#ABB2BF">(); </span></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">  &#125;</span></span><span class="line"><span style="color:#A0A1A7;font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">  // ...</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">&#125;</span></span></code></pre></td></tr></tbody></table></figure><h3id="防止友链的随机访问跳转到非博客友链">防止友链的随机访问跳转到非博客友链</h3><p>修改主题中关于随机友链的 pug： <figure class="highlight pug"><figcaption><span>layout/includes/widgets/randomlink.pug</span></figcaption><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre class="shiki shiki-themes one-light one-dark-pro has-diff"><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">- </span><span style="color:#A626A4;--shiki-dark:#C678DD">var</span><span style="color:#383A42;--shiki-dark:#E06C75"> datalinks</span><span style="color:#0184BC;--shiki-dark:#56B6C2"> =</span><span style="color:#383A42;--shiki-dark:#ABB2BF"> []</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">- </span><span style="color:#A626A4;--shiki-dark:#C678DD">var</span><span style="color:#383A42;--shiki-dark:#E06C75"> data</span><span style="color:#0184BC;--shiki-dark:#56B6C2"> =</span><span style="color:#383A42;--shiki-dark:#E5C07B"> site</span><span style="color:#383A42;--shiki-dark:#ABB2BF">.</span><span style="color:#E45649;--shiki-dark:#E5C07B">data</span><span style="color:#383A42;--shiki-dark:#ABB2BF">.</span><span style="color:#E45649;--shiki-dark:#E5C07B">links</span><span style="color:#383A42;--shiki-dark:#ABB2BF">.</span><span style="color:#E45649;--shiki-dark:#E06C75">links</span></span><span class="line"><span style="color:#E45649;--shiki-dark:#E06C75">if</span><span style="color:#986801;--shiki-dark:#D19A66">(data)</span></span><span class="line"><span style="color:#A626A4;--shiki-dark:#C678DD">    each</span><span style="color:#E45649;--shiki-dark:#E06C75"> item</span><span style="color:#A626A4;--shiki-dark:#C678DD"> in</span><span style="color:#383A42;--shiki-dark:#E06C75"> data</span></span><span class="line"><span style="color:#A626A4;--shiki-dark:#C678DD">            each</span><span style="color:#E45649;--shiki-dark:#E06C75"> y</span><span style="color:#A626A4;--shiki-dark:#C678DD"> in</span><span style="color:#383A42;--shiki-dark:#E5C07B"> item</span><span style="color:#383A42;--shiki-dark:#ABB2BF">.</span><span style="color:#E45649;--shiki-dark:#E06C75">link_list</span></span><span class="line diff remove"><span style="color:#383A42;--shiki-dark:#ABB2BF">                - </span><span style="color:#383A42;--shiki-dark:#E5C07B">datalinks</span><span style="color:#383A42;--shiki-dark:#ABB2BF">.</span><span style="color:#4078F2;--shiki-dark:#61AFEF">push</span><span style="color:#383A42;--shiki-dark:#ABB2BF">(&#123; </span><span style="color:#E45649;--shiki-dark:#E06C75">name</span><span style="color:#0184BC;--shiki-dark:#ABB2BF">:</span><span style="color:#383A42;--shiki-dark:#E5C07B"> y</span><span style="color:#383A42;--shiki-dark:#ABB2BF">.</span><span style="color:#E45649;--shiki-dark:#E06C75">name</span><span style="color:#383A42;--shiki-dark:#ABB2BF">,</span><span style="color:#E45649;--shiki-dark:#E06C75">link</span><span style="color:#0184BC;--shiki-dark:#ABB2BF">:</span><span style="color:#383A42;--shiki-dark:#E5C07B"> y</span><span style="color:#383A42;--shiki-dark:#ABB2BF">.</span><span style="color:#E45649;--shiki-dark:#E06C75">link</span><span style="color:#383A42;--shiki-dark:#ABB2BF">&#125;) </span></span><span class="line diff add"><span style="color:#A626A4;--shiki-dark:#C678DD">                if</span><span style="color:#383A42;--shiki-dark:#E5C07B"> y</span><span style="color:#383A42;--shiki-dark:#ABB2BF">.</span><span style="color:#E45649;--shiki-dark:#E06C75">noTravel</span></span><span class="line diff add"><span style="color:#383A42;--shiki-dark:#ABB2BF">                    - </span><span style="color:#383A42;--shiki-dark:#E5C07B">datalinks</span><span style="color:#383A42;--shiki-dark:#ABB2BF">.</span><span style="color:#4078F2;--shiki-dark:#61AFEF">push</span><span style="color:#383A42;--shiki-dark:#ABB2BF">(&#123; </span><span style="color:#E45649;--shiki-dark:#E06C75">name</span><span style="color:#0184BC;--shiki-dark:#ABB2BF">:</span><span style="color:#383A42;--shiki-dark:#E5C07B"> y</span><span style="color:#383A42;--shiki-dark:#ABB2BF">.</span><span style="color:#E45649;--shiki-dark:#E06C75">name</span><span style="color:#383A42;--shiki-dark:#ABB2BF">, </span><span style="color:#E45649;--shiki-dark:#E06C75">link</span><span style="color:#0184BC;--shiki-dark:#ABB2BF">:</span><span style="color:#383A42;--shiki-dark:#E5C07B"> y</span><span style="color:#383A42;--shiki-dark:#ABB2BF">.</span><span style="color:#E45649;--shiki-dark:#E06C75">link</span><span style="color:#383A42;--shiki-dark:#ABB2BF">, </span><span style="color:#E45649;--shiki-dark:#E06C75">noTravel</span><span style="color:#0184BC;--shiki-dark:#ABB2BF">:</span><span style="color:#383A42;--shiki-dark:#E5C07B"> y</span><span style="color:#383A42;--shiki-dark:#ABB2BF">.</span><span style="color:#E45649;--shiki-dark:#E06C75">noTravel</span><span style="color:#383A42;--shiki-dark:#ABB2BF">&#125;) </span></span><span class="line diff add"><span style="color:#A626A4;--shiki-dark:#C678DD">                else</span></span><span class="line diff add"><span style="color:#383A42;--shiki-dark:#ABB2BF">                    - </span><span style="color:#383A42;--shiki-dark:#E5C07B">datalinks</span><span style="color:#383A42;--shiki-dark:#ABB2BF">.</span><span style="color:#4078F2;--shiki-dark:#61AFEF">push</span><span style="color:#383A42;--shiki-dark:#ABB2BF">(&#123; </span><span style="color:#E45649;--shiki-dark:#E06C75">name</span><span style="color:#0184BC;--shiki-dark:#ABB2BF">:</span><span style="color:#383A42;--shiki-dark:#E5C07B"> y</span><span style="color:#383A42;--shiki-dark:#ABB2BF">.</span><span style="color:#E45649;--shiki-dark:#E06C75">name</span><span style="color:#383A42;--shiki-dark:#ABB2BF">, </span><span style="color:#E45649;--shiki-dark:#E06C75">link</span><span style="color:#0184BC;--shiki-dark:#ABB2BF">:</span><span style="color:#383A42;--shiki-dark:#E5C07B"> y</span><span style="color:#383A42;--shiki-dark:#ABB2BF">.</span><span style="color:#E45649;--shiki-dark:#E06C75">link</span><span style="color:#383A42;--shiki-dark:#ABB2BF">&#125;) </span></span><span class="line"></span><span class="line"><span style="color:#E45649;--shiki-dark:#E06C75">script</span><span style="color:#383A42;--shiki-dark:#ABB2BF">.</span></span><span class="line"><span style="color:#A626A4;--shiki-dark:#C678DD">    const</span><span style="color:#986801;--shiki-dark:#E5C07B"> links</span><span style="color:#383A42;--shiki-dark:#56B6C2"> =</span><span style="color:#383A42;--shiki-dark:#56B6C2"> !</span><span style="color:#383A42;--shiki-dark:#ABB2BF">&#123;JSON.stringify(datalinks)&#125;</span></span><span class="line diff add"><span style="color:#A626A4;--shiki-dark:#C678DD">    const</span><span style="color:#986801;--shiki-dark:#E5C07B"> travelLinks</span><span style="color:#383A42;--shiki-dark:#56B6C2"> =</span><span style="color:#383A42;--shiki-dark:#E5C07B"> links</span><span style="color:#383A42;--shiki-dark:#ABB2BF">.</span><span style="color:#4078F2;--shiki-dark:#61AFEF">filter</span><span style="color:#383A42;--shiki-dark:#ABB2BF">((</span><span style="color:#383A42;font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic">i</span><span style="color:#383A42;--shiki-dark:#ABB2BF">) </span><span style="color:#A626A4;--shiki-dark:#C678DD">=></span><span style="color:#383A42;--shiki-dark:#56B6C2"> !</span><span style="color:#383A42;--shiki-dark:#ABB2BF">(</span><span style="color:#50A14F;--shiki-dark:#98C379">'noTravel'</span><span style="color:#A626A4;--shiki-dark:#C678DD"> in</span><span style="color:#383A42;--shiki-dark:#E06C75"> i</span><span style="color:#383A42;--shiki-dark:#56B6C2"> &#x26;&#x26;</span><span style="color:#383A42;--shiki-dark:#E5C07B"> i</span><span style="color:#383A42;--shiki-dark:#ABB2BF">.</span><span style="color:#E45649;--shiki-dark:#E06C75">noTravel</span><span style="color:#383A42;--shiki-dark:#ABB2BF">)) </span></span><span class="line"><span style="color:#A626A4;--shiki-dark:#C678DD">    const</span><span style="color:#986801;--shiki-dark:#E5C07B"> randomText</span><span style="color:#383A42;--shiki-dark:#56B6C2"> =</span><span style="color:#50A14F;--shiki-dark:#98C379"> '!&#123;_p('</span><span style="color:#383A42;--shiki-dark:#E5C07B">link</span><span style="color:#383A42;--shiki-dark:#ABB2BF">.</span><span style="color:#E45649;--shiki-dark:#E06C75">random</span><span style="color:#50A14F;--shiki-dark:#98C379">')&#125;'</span></span><span class="line"><span style="color:#A626A4;--shiki-dark:#C678DD">    function</span><span style="color:#4078F2;--shiki-dark:#61AFEF"> travelling</span><span style="color:#383A42;--shiki-dark:#ABB2BF">() &#123;</span></span><span class="line diff remove"><span style="color:#A626A4;--shiki-dark:#C678DD">        const</span><span style="color:#986801;--shiki-dark:#E5C07B"> link</span><span style="color:#383A42;--shiki-dark:#56B6C2"> =</span><span style="color:#383A42;--shiki-dark:#E06C75"> links</span><span style="color:#383A42;--shiki-dark:#ABB2BF">[</span><span style="color:#383A42;--shiki-dark:#E5C07B">utils</span><span style="color:#383A42;--shiki-dark:#ABB2BF">.</span><span style="color:#4078F2;--shiki-dark:#61AFEF">randomNum</span><span style="color:#383A42;--shiki-dark:#ABB2BF">(</span><span style="color:#383A42;--shiki-dark:#E5C07B">links</span><span style="color:#383A42;--shiki-dark:#ABB2BF">.</span><span style="color:#E45649;--shiki-dark:#E06C75">length</span><span style="color:#383A42;--shiki-dark:#ABB2BF">)]; </span></span><span class="line diff add"><span style="color:#A626A4;--shiki-dark:#C678DD">        const</span><span style="color:#986801;--shiki-dark:#E5C07B"> link</span><span style="color:#383A42;--shiki-dark:#56B6C2"> =</span><span style="color:#383A42;--shiki-dark:#E06C75"> travelLinks</span><span style="color:#383A42;--shiki-dark:#ABB2BF">[</span><span style="color:#383A42;--shiki-dark:#E5C07B">utils</span><span style="color:#383A42;--shiki-dark:#ABB2BF">.</span><span style="color:#4078F2;--shiki-dark:#61AFEF">randomNum</span><span style="color:#383A42;--shiki-dark:#ABB2BF">(</span><span style="color:#383A42;--shiki-dark:#E5C07B">travelLinks</span><span style="color:#383A42;--shiki-dark:#ABB2BF">.</span><span style="color:#E45649;--shiki-dark:#E06C75">length</span><span style="color:#383A42;--shiki-dark:#ABB2BF">)]; </span></span></code></pre></td></tr></tbody></table></figure></p><p>然后在 <code>links.yml</code> 中为不应该跳转的友链添加上<code>noTravel: true</code> 即可。 <figure class="highlight yaml"><figcaption><span>links.yml</span></figcaption><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre class="shiki shiki-themes one-light one-dark-pro has-diff"><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">- </span><span style="color:#E45649;--shiki-dark:#E06C75">name</span><span style="color:#383A42;--shiki-dark:#ABB2BF">: </span><span style="color:#50A14F;--shiki-dark:#98C379">Hexo</span></span><span class="line"><span style="color:#E45649;--shiki-dark:#E06C75">  link</span><span style="color:#383A42;--shiki-dark:#ABB2BF">: </span><span style="color:#50A14F;--shiki-dark:#98C379">https://hexo.io/</span></span><span class="line"><span style="color:#E45649;--shiki-dark:#E06C75">  descr</span><span style="color:#383A42;--shiki-dark:#ABB2BF">: </span><span style="color:#50A14F;--shiki-dark:#98C379">快速、简洁且高效的博客框架</span></span><span class="line"><span style="color:#E45649;--shiki-dark:#E06C75">  avatar</span><span style="color:#383A42;--shiki-dark:#ABB2BF">: </span><span style="color:#50A14F;--shiki-dark:#98C379">https://hexo.io/icon/favicon-196x196.png</span></span><span class="line diff add"><span style="color:#E45649;--shiki-dark:#E06C75">  noTravel</span><span style="color:#383A42;--shiki-dark:#ABB2BF">: </span><span style="color:#986801;--shiki-dark:#D19A66">true</span></span></code></pre></td></tr></tbody></table></figure></p><h3 id="增加背景图片切换开关">增加背景图片切换开关</h3><p>改的东西太多太琐碎了，直接看 <ahref="https://github.com/HPCesia/hexo-theme-solitude/commit/43db0e2b942924eaa444d8e91f1b62ecdea47d79">commit</a>。</p><h3 id="修改页脚友链数量">修改页脚友链数量</h3><p>一样，改的东西琐碎了点，直接看 <ahref="https://github.com/HPCesia/hexo-theme-solitude/commit/eb126afade06f26c640a74c22d9d0316e2384526">commit</a></p><h3 id="修改评论区样式">修改评论区样式</h3><p><ahref="https://github.com/HPCesia/hexo-theme-solitude/blob/myself/source/css/_comments/twikoo.styl">样式文件</a>直接拿走即可。基于Solitude 主题自带 Twikoo 样式进行修改，主要改了： -把头像预览加回来了（仅限评论区顶部编辑栏） - 把 Markdown预览和取消回复加回来了 - 补充了管理面板样式</p><h3 id="删除无用-css">删除无用 css</h3><p>说是删除，其实是避免渲染，把主题 source/css 目录下的 var.styl 和third_party 文件夹，名字前面都加上一个下划线来避免渲染，同时修改index.styl 中对应的路径即可。</p><h3 id="修改引用到评论右键菜单">修改引用到评论右键菜单</h3><p>这个改起来简单，直接放代码： <figure class="highlight javascript"><figcaption><span>solitude/source/main.js</span></figcaption><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre class="shiki shiki-themes one-light one-dark-pro"><span class="line"><span style="color:#A626A4;--shiki-dark:#C678DD">const</span><span style="color:#986801;--shiki-dark:#E5C07B"> sco</span><span style="color:#0184BC;--shiki-dark:#56B6C2"> =</span><span style="color:#383A42;--shiki-dark:#ABB2BF"> &#123;</span></span><span class="line"><span style="color:#A0A1A7;font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">  // ...</span></span><span class="line"><span style="color:#4078F2;--shiki-dark:#61AFEF">  toTalk</span><span style="color:#383A42;--shiki-dark:#ABB2BF">(</span><span style="color:#383A42;font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic">txt</span><span style="color:#383A42;--shiki-dark:#ABB2BF">) &#123;</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#E5C07B">    utils</span><span style="color:#383A42;--shiki-dark:#ABB2BF">.</span><span style="color:#4078F2;--shiki-dark:#61AFEF">scrollToDest</span><span style="color:#383A42;--shiki-dark:#ABB2BF">(</span><span style="color:#383A42;--shiki-dark:#E5C07B">utils</span><span style="color:#383A42;--shiki-dark:#ABB2BF">.</span><span style="color:#4078F2;--shiki-dark:#61AFEF">getEleTop</span><span style="color:#383A42;--shiki-dark:#ABB2BF">(</span><span style="color:#383A42;--shiki-dark:#E5C07B">document</span><span style="color:#383A42;--shiki-dark:#ABB2BF">.</span><span style="color:#4078F2;--shiki-dark:#61AFEF">getElementById</span><span style="color:#383A42;--shiki-dark:#ABB2BF">(</span><span style="color:#50A14F;--shiki-dark:#98C379">'post-comment'</span><span style="color:#383A42;--shiki-dark:#ABB2BF">)), </span><span style="color:#986801;--shiki-dark:#D19A66">300</span><span style="color:#383A42;--shiki-dark:#ABB2BF">);</span></span><span class="line"><span style="color:#A626A4;--shiki-dark:#C678DD">    const</span><span style="color:#4078F2;--shiki-dark:#61AFEF"> toTalkFn</span><span style="color:#0184BC;--shiki-dark:#56B6C2"> =</span><span style="color:#383A42;--shiki-dark:#ABB2BF"> () </span><span style="color:#A626A4;--shiki-dark:#C678DD">=></span><span style="color:#383A42;--shiki-dark:#ABB2BF"> &#123;</span></span><span class="line"><span style="color:#A626A4;--shiki-dark:#C678DD">      const</span><span style="color:#986801;--shiki-dark:#E5C07B"> inputs</span><span style="color:#0184BC;--shiki-dark:#56B6C2"> =</span><span style="color:#383A42;--shiki-dark:#ABB2BF"> [</span><span style="color:#50A14F;--shiki-dark:#98C379">"#wl-edit"</span><span style="color:#383A42;--shiki-dark:#ABB2BF">, </span><span style="color:#50A14F;--shiki-dark:#98C379">".el-textarea__inner"</span><span style="color:#383A42;--shiki-dark:#ABB2BF">, </span><span style="color:#50A14F;--shiki-dark:#98C379">"#veditor"</span><span style="color:#383A42;--shiki-dark:#ABB2BF">, </span><span style="color:#50A14F;--shiki-dark:#98C379">".atk-textarea"</span><span style="color:#383A42;--shiki-dark:#ABB2BF">];</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#E5C07B">      inputs</span><span style="color:#383A42;--shiki-dark:#ABB2BF">.</span><span style="color:#4078F2;--shiki-dark:#61AFEF">forEach</span><span style="color:#383A42;--shiki-dark:#ABB2BF">(</span><span style="color:#383A42;font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic">selector</span><span style="color:#A626A4;--shiki-dark:#C678DD"> =></span><span style="color:#383A42;--shiki-dark:#ABB2BF"> &#123;</span></span><span class="line"><span style="color:#A626A4;--shiki-dark:#C678DD">        const</span><span style="color:#986801;--shiki-dark:#E5C07B"> el</span><span style="color:#0184BC;--shiki-dark:#56B6C2"> =</span><span style="color:#383A42;--shiki-dark:#E5C07B"> document</span><span style="color:#383A42;--shiki-dark:#ABB2BF">.</span><span style="color:#4078F2;--shiki-dark:#61AFEF">querySelector</span><span style="color:#383A42;--shiki-dark:#ABB2BF">(</span><span style="color:#383A42;--shiki-dark:#E06C75">selector</span><span style="color:#383A42;--shiki-dark:#ABB2BF">);</span></span><span class="line"><span style="color:#A626A4;--shiki-dark:#C678DD">        if</span><span style="color:#383A42;--shiki-dark:#ABB2BF"> (</span><span style="color:#383A42;--shiki-dark:#E06C75">el</span><span style="color:#383A42;--shiki-dark:#ABB2BF">) &#123;</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#E5C07B">          el</span><span style="color:#383A42;--shiki-dark:#ABB2BF">.</span><span style="color:#4078F2;--shiki-dark:#61AFEF">dispatchEvent</span><span style="color:#383A42;--shiki-dark:#ABB2BF">(</span><span style="color:#A626A4;--shiki-dark:#C678DD">new</span><span style="color:#4078F2;--shiki-dark:#61AFEF"> Event</span><span style="color:#383A42;--shiki-dark:#ABB2BF">(</span><span style="color:#50A14F;--shiki-dark:#98C379">'input'</span><span style="color:#383A42;--shiki-dark:#ABB2BF">, &#123; </span><span style="color:#E45649;--shiki-dark:#E06C75">bubble</span><span style="color:#0184BC;--shiki-dark:#ABB2BF">:</span><span style="color:#986801;--shiki-dark:#D19A66"> true</span><span style="color:#383A42;--shiki-dark:#ABB2BF">, </span><span style="color:#E45649;--shiki-dark:#E06C75">cancelable</span><span style="color:#0184BC;--shiki-dark:#ABB2BF">:</span><span style="color:#986801;--shiki-dark:#D19A66"> true</span><span style="color:#383A42;--shiki-dark:#ABB2BF"> &#125;));</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#E5C07B">          el</span><span style="color:#383A42;--shiki-dark:#ABB2BF">.</span><span style="color:#E45649;--shiki-dark:#E06C75">value</span><span style="color:#0184BC;--shiki-dark:#56B6C2"> =</span><span style="color:#50A14F;--shiki-dark:#98C379"> '> '</span><span style="color:#0184BC;--shiki-dark:#56B6C2"> +</span><span style="color:#383A42;--shiki-dark:#E5C07B"> txt</span><span style="color:#383A42;--shiki-dark:#ABB2BF">.</span><span style="color:#4078F2;--shiki-dark:#61AFEF">replace</span><span style="color:#383A42;--shiki-dark:#ABB2BF">(</span><span style="color:#0184BC;--shiki-dark:#E06C75">/</span><span style="color:#986801;--shiki-dark:#E06C75">\n</span><span style="color:#0184BC;--shiki-dark:#E06C75">/</span><span style="color:#A626A4;--shiki-dark:#C678DD">g</span><span style="color:#383A42;--shiki-dark:#ABB2BF">, </span><span style="color:#50A14F;--shiki-dark:#98C379">'</span><span style="color:#0184BC;--shiki-dark:#56B6C2">\n</span><span style="color:#50A14F;--shiki-dark:#98C379">> '</span><span style="color:#383A42;--shiki-dark:#ABB2BF">) </span><span style="color:#0184BC;--shiki-dark:#56B6C2">+</span><span style="color:#50A14F;--shiki-dark:#98C379"> '</span><span style="color:#0184BC;--shiki-dark:#56B6C2">\n\n</span><span style="color:#50A14F;--shiki-dark:#98C379">'</span><span style="color:#383A42;--shiki-dark:#ABB2BF">;</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#E5C07B">          el</span><span style="color:#383A42;--shiki-dark:#ABB2BF">.</span><span style="color:#4078F2;--shiki-dark:#61AFEF">focus</span><span style="color:#383A42;--shiki-dark:#ABB2BF">();</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#E5C07B">          el</span><span style="color:#383A42;--shiki-dark:#ABB2BF">.</span><span style="color:#4078F2;--shiki-dark:#61AFEF">setSelectionRange</span><span style="color:#383A42;--shiki-dark:#ABB2BF">(</span><span style="color:#0184BC;--shiki-dark:#56B6C2">-</span><span style="color:#986801;--shiki-dark:#D19A66">1</span><span style="color:#383A42;--shiki-dark:#ABB2BF">, </span><span style="color:#0184BC;--shiki-dark:#56B6C2">-</span><span style="color:#986801;--shiki-dark:#D19A66">1</span><span style="color:#383A42;--shiki-dark:#ABB2BF">);</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">        &#125;</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">      &#125;);</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#E5C07B">      utils</span><span style="color:#383A42;--shiki-dark:#ABB2BF">.</span><span style="color:#4078F2;--shiki-dark:#61AFEF">snackbarShow</span><span style="color:#383A42;--shiki-dark:#ABB2BF">(</span><span style="color:#986801;--shiki-dark:#E5C07B">GLOBAL_CONFIG</span><span style="color:#383A42;--shiki-dark:#ABB2BF">.</span><span style="color:#E45649;--shiki-dark:#E5C07B">lang</span><span style="color:#383A42;--shiki-dark:#ABB2BF">.</span><span style="color:#E45649;--shiki-dark:#E06C75">totalk</span><span style="color:#383A42;--shiki-dark:#ABB2BF">, </span><span style="color:#986801;--shiki-dark:#D19A66">false</span><span style="color:#383A42;--shiki-dark:#ABB2BF">, </span><span style="color:#986801;--shiki-dark:#D19A66">2000</span><span style="color:#383A42;--shiki-dark:#ABB2BF">);</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">    &#125;</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#E5C07B">    hpcesia</span><span style="color:#383A42;--shiki-dark:#ABB2BF">.</span><span style="color:#4078F2;--shiki-dark:#61AFEF">waitTwikoo</span><span style="color:#383A42;--shiki-dark:#ABB2BF">(</span><span style="color:#383A42;--shiki-dark:#E06C75">toTalkFn</span><span style="color:#383A42;--shiki-dark:#ABB2BF">)</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">  &#125;,</span></span><span class="line"><span style="color:#A0A1A7;font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">  // ...</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">&#125;</span></span><span class="line"><span style="color:#A626A4;--shiki-dark:#C678DD">const</span><span style="color:#986801;--shiki-dark:#E5C07B"> hpcesia</span><span style="color:#0184BC;--shiki-dark:#56B6C2"> =</span><span style="color:#383A42;--shiki-dark:#ABB2BF"> &#123;</span></span><span class="line"><span style="color:#A0A1A7;font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">  // ...</span></span><span class="line"><span style="color:#4078F2;--shiki-dark:#61AFEF">  waitTwikoo</span><span style="color:#383A42;--shiki-dark:#ABB2BF">(</span><span style="color:#383A42;font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic">callback</span><span style="color:#383A42;--shiki-dark:#ABB2BF">, </span><span style="color:#383A42;font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic">scale</span><span style="color:#0184BC;--shiki-dark:#56B6C2"> =</span><span style="color:#986801;--shiki-dark:#D19A66"> 100</span><span style="color:#383A42;--shiki-dark:#ABB2BF">)&#123;</span></span><span class="line"><span style="color:#4078F2;--shiki-dark:#61AFEF">    setTimeout</span><span style="color:#383A42;--shiki-dark:#ABB2BF">(() </span><span style="color:#A626A4;--shiki-dark:#C678DD">=></span><span style="color:#383A42;--shiki-dark:#ABB2BF"> &#123;</span></span><span class="line"><span style="color:#A626A4;--shiki-dark:#C678DD">      if</span><span style="color:#383A42;--shiki-dark:#ABB2BF"> (</span><span style="color:#383A42;--shiki-dark:#E5C07B">window</span><span style="color:#383A42;--shiki-dark:#ABB2BF">.</span><span style="color:#E45649;--shiki-dark:#E06C75">twikoo</span><span style="color:#383A42;--shiki-dark:#ABB2BF">)</span></span><span class="line"><span style="color:#4078F2;--shiki-dark:#61AFEF">        callback</span><span style="color:#383A42;--shiki-dark:#ABB2BF">()</span></span><span class="line"><span style="color:#A626A4;--shiki-dark:#C678DD">      else</span></span><span class="line"><span style="color:#4078F2;--shiki-dark:#61AFEF">        waitTwikoo</span><span style="color:#383A42;--shiki-dark:#ABB2BF">(</span><span style="color:#383A42;--shiki-dark:#E06C75">callback</span><span style="color:#383A42;--shiki-dark:#ABB2BF">)</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">    &#125;, </span><span style="color:#383A42;--shiki-dark:#E06C75">scale</span><span style="color:#383A42;--shiki-dark:#ABB2BF">);</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">  &#125;</span></span><span class="line"><span style="color:#A0A1A7;font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">  // ...</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">&#125;</span></span></code></pre></td></tr></tbody></table></figure> 直接滑动到底部，然后等待twikoo 加载完成即可。</p><h3 id="新增游戏界面">新增游戏界面</h3><p>其实本质是把原本的 equipment 页面套个壳。你也可以直接查看 <ahref="https://github.com/HPCesia/hexo-theme-solitude/commit/1102fc37130c9460a89ae6c23cd75c11002b384b">commit</a>快速了解我的改动。</p><p>在 solitude/layout/includes/page 目录中新建 games.pug文件，写入如下内容： <figure class="highlight pug"><figcaption><span>solitude/layout/includes/page/games.pug</span></figcaption><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre class="shiki shiki-themes one-light one-dark-pro"><span class="line"><span style="color:#A626A4;--shiki-dark:#C678DD">include</span><span style="color:#E45649;--shiki-dark:#E06C75"> ../widgets/page/banner</span></span><span class="line"><span style="color:#4078F2;--shiki-dark:#61AFEF">#games</span></span><span class="line"><span style="color:#A626A4;--shiki-dark:#C678DD">    if</span><span style="color:#383A42;--shiki-dark:#E5C07B"> site</span><span style="color:#383A42;--shiki-dark:#ABB2BF">.</span><span style="color:#E45649;--shiki-dark:#E5C07B">data</span><span style="color:#383A42;--shiki-dark:#ABB2BF">.</span><span style="color:#E45649;--shiki-dark:#E06C75">games</span></span><span class="line"><span style="color:#A626A4;--shiki-dark:#C678DD">        each</span><span style="color:#E45649;--shiki-dark:#E06C75"> cls</span><span style="color:#A626A4;--shiki-dark:#C678DD"> in</span><span style="color:#383A42;--shiki-dark:#E5C07B"> site</span><span style="color:#383A42;--shiki-dark:#ABB2BF">.</span><span style="color:#E45649;--shiki-dark:#E5C07B">data</span><span style="color:#383A42;--shiki-dark:#ABB2BF">.</span><span style="color:#E45649;--shiki-dark:#E06C75">games</span></span><span class="line"><span style="color:#986801;--shiki-dark:#D19A66">            .game-group</span></span><span class="line"><span style="color:#E45649;--shiki-dark:#E06C75">                h2</span><span style="color:#986801;--shiki-dark:#D19A66">.game-group-title=</span><span style="color:#383A42;--shiki-dark:#E5C07B"> cls</span><span style="color:#383A42;--shiki-dark:#ABB2BF">.</span><span style="color:#E45649;--shiki-dark:#E06C75">name</span></span><span class="line"><span style="color:#986801;--shiki-dark:#D19A66">                .game-group-desc=</span><span style="color:#383A42;--shiki-dark:#E5C07B"> cls</span><span style="color:#383A42;--shiki-dark:#ABB2BF">.</span><span style="color:#E45649;--shiki-dark:#E06C75">desc</span></span><span class="line"><span style="color:#986801;--shiki-dark:#D19A66">                .game-group-content</span></span><span class="line"><span style="color:#A626A4;--shiki-dark:#C678DD">                    each</span><span style="color:#E45649;--shiki-dark:#E06C75"> item</span><span style="color:#A626A4;--shiki-dark:#C678DD"> in</span><span style="color:#383A42;--shiki-dark:#E5C07B"> cls</span><span style="color:#383A42;--shiki-dark:#ABB2BF">.</span><span style="color:#E45649;--shiki-dark:#E06C75">list</span></span><span class="line"><span style="color:#986801;--shiki-dark:#D19A66">                        .game-item</span></span><span class="line"><span style="color:#986801;--shiki-dark:#D19A66">                            .game-item-cover</span></span><span class="line"><span style="color:#E45649;--shiki-dark:#E06C75">                                img</span><span style="color:#986801;--shiki-dark:#D19A66">.game-item-image(src</span><span style="color:#383A42;--shiki-dark:#ABB2BF">=</span><span style="color:#383A42;--shiki-dark:#E5C07B">item</span><span style="color:#383A42;--shiki-dark:#ABB2BF">.</span><span style="color:#E45649;--shiki-dark:#E06C75">image</span><span style="color:#383A42;--shiki-dark:#ABB2BF">, </span><span style="color:#986801;--shiki-dark:#D19A66">alt</span><span style="color:#383A42;--shiki-dark:#ABB2BF">=</span><span style="color:#383A42;--shiki-dark:#E5C07B">item</span><span style="color:#383A42;--shiki-dark:#ABB2BF">.</span><span style="color:#E45649;--shiki-dark:#E06C75">name</span><span style="color:#986801;--shiki-dark:#D19A66">)</span></span><span class="line"><span style="color:#986801;--shiki-dark:#D19A66">                            .game-item-info</span></span><span class="line"><span style="color:#986801;--shiki-dark:#D19A66">                                .game-item-name(onclick</span><span style="color:#383A42;--shiki-dark:#ABB2BF">=</span><span style="color:#50A14F;--shiki-dark:#98C379">'utils.copy("'</span><span style="color:#383A42;--shiki-dark:#56B6C2"> +</span><span style="color:#383A42;--shiki-dark:#E5C07B"> item</span><span style="color:#383A42;--shiki-dark:#ABB2BF">.</span><span style="color:#E45649;--shiki-dark:#E06C75">name</span><span style="color:#383A42;--shiki-dark:#56B6C2"> +</span><span style="color:#50A14F;--shiki-dark:#98C379"> '")'</span><span style="color:#986801;--shiki-dark:#D19A66">)=</span><span style="color:#383A42;--shiki-dark:#E5C07B"> item</span><span style="color:#383A42;--shiki-dark:#ABB2BF">.</span><span style="color:#E45649;--shiki-dark:#E06C75">name</span></span><span class="line"><span style="color:#A626A4;--shiki-dark:#C678DD">                                if</span><span style="color:#383A42;--shiki-dark:#E5C07B"> item</span><span style="color:#383A42;--shiki-dark:#ABB2BF">.</span><span style="color:#E45649;--shiki-dark:#E06C75">score</span></span><span class="line"><span style="color:#986801;--shiki-dark:#D19A66">                                    .game-item-score=</span><span style="color:#50A14F;--shiki-dark:#98C379"> "评分: "</span><span style="color:#0184BC;--shiki-dark:#56B6C2"> +</span><span style="color:#383A42;--shiki-dark:#E5C07B"> item</span><span style="color:#383A42;--shiki-dark:#ABB2BF">.</span><span style="color:#E45649;--shiki-dark:#E06C75">score</span></span><span class="line"><span style="color:#986801;--shiki-dark:#D19A66">                                .game-item-spec=</span><span style="color:#383A42;--shiki-dark:#E5C07B"> item</span><span style="color:#383A42;--shiki-dark:#ABB2BF">.</span><span style="color:#E45649;--shiki-dark:#E06C75">spec</span></span><span class="line"><span style="color:#986801;--shiki-dark:#D19A66">                                .game-item-desc=</span><span style="color:#383A42;--shiki-dark:#E5C07B"> item</span><span style="color:#383A42;--shiki-dark:#ABB2BF">.</span><span style="color:#E45649;--shiki-dark:#E06C75">desc</span></span><span class="line"><span style="color:#A626A4;--shiki-dark:#C678DD">                                if</span><span style="color:#383A42;--shiki-dark:#E5C07B"> item</span><span style="color:#383A42;--shiki-dark:#ABB2BF">.</span><span style="color:#E45649;--shiki-dark:#E06C75">link</span></span><span class="line"><span style="color:#986801;--shiki-dark:#D19A66">                                    .game-item-toolbar</span></span><span class="line"><span style="color:#E45649;--shiki-dark:#E06C75">                                        a</span><span style="color:#986801;--shiki-dark:#D19A66">.game-item-link(href</span><span style="color:#383A42;--shiki-dark:#ABB2BF">=</span><span style="color:#383A42;--shiki-dark:#E5C07B">item</span><span style="color:#383A42;--shiki-dark:#ABB2BF">.</span><span style="color:#E45649;--shiki-dark:#E06C75">link</span><span style="color:#383A42;--shiki-dark:#ABB2BF">, </span><span style="color:#986801;--shiki-dark:#D19A66">target</span><span style="color:#383A42;--shiki-dark:#ABB2BF">=</span><span style="color:#50A14F;--shiki-dark:#98C379">"_blank"</span><span style="color:#986801;--shiki-dark:#D19A66">)</span><span style="color:#383A42;--shiki-dark:#ABB2BF"> 详情</span></span><span class="line"><span style="color:#E45649;--shiki-dark:#E06C75">                                        a</span><span style="color:#986801;--shiki-dark:#D19A66">.bber-reply(onclick</span><span style="color:#383A42;--shiki-dark:#ABB2BF">=</span><span style="color:#50A14F;--shiki-dark:#98C379">`sco.toTalk('</span><span style="color:#CA1243;--shiki-dark:#C678DD">$&#123;</span><span style="color:#383A42;--shiki-dark:#E5C07B">item</span><span style="color:#50A14F;--shiki-dark:#ABB2BF">.</span><span style="color:#E45649;--shiki-dark:#E06C75">name</span><span style="color:#CA1243;--shiki-dark:#C678DD">&#125;</span><span style="color:#0184BC;--shiki-dark:#56B6C2">\\</span><span style="color:#50A14F;--shiki-dark:#98C379">n</span><span style="color:#0184BC;--shiki-dark:#56B6C2">\\</span><span style="color:#50A14F;--shiki-dark:#98C379">n</span><span style="color:#CA1243;--shiki-dark:#C678DD">$&#123;</span><span style="color:#383A42;--shiki-dark:#E5C07B">item</span><span style="color:#50A14F;--shiki-dark:#ABB2BF">.</span><span style="color:#E45649;--shiki-dark:#E06C75">spec</span><span style="color:#CA1243;--shiki-dark:#C678DD">&#125;</span><span style="color:#0184BC;--shiki-dark:#56B6C2">\\</span><span style="color:#50A14F;--shiki-dark:#98C379">n</span><span style="color:#0184BC;--shiki-dark:#56B6C2">\\</span><span style="color:#50A14F;--shiki-dark:#98C379">n</span><span style="color:#CA1243;--shiki-dark:#C678DD">$&#123;</span><span style="color:#383A42;--shiki-dark:#E5C07B">item</span><span style="color:#50A14F;--shiki-dark:#ABB2BF">.</span><span style="color:#E45649;--shiki-dark:#E06C75">desc</span><span style="color:#CA1243;--shiki-dark:#C678DD">&#125;</span><span style="color:#50A14F;--shiki-dark:#98C379">')`</span><span style="color:#986801;--shiki-dark:#D19A66">)</span></span><span class="line"><span style="color:#E45649;--shiki-dark:#E06C75">                                            i</span><span style="color:#986801;--shiki-dark:#D19A66">.solitude.fa-solid.fa-comment(style</span><span style="color:#383A42;--shiki-dark:#ABB2BF">=</span><span style="color:#50A14F;--shiki-dark:#98C379">"font-size: 1rem;"</span><span style="color:#986801;--shiki-dark:#D19A66">)</span></span></code></pre></td></tr></tbody></table></figure> 然后修改solitude/layout/page.pug，加上引入 games.pug 的代码： <figure class="highlight pug"><figcaption><span>solitude/layout/page.pug</span></figcaption><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre class="shiki shiki-themes one-light one-dark-pro has-diff"><span class="line"><span style="color:#A626A4;--shiki-dark:#C678DD">block</span><span style="color:#E45649;--shiki-dark:#E06C75"> content</span></span><span class="line"><span style="color:#E45649;--shiki-dark:#E06C75">    main</span><span style="color:#986801;--shiki-dark:#D19A66">.layout</span><span style="color:#4078F2;--shiki-dark:#61AFEF">#content-inner</span><span style="color:#986801;--shiki-dark:#D19A66">(class</span><span style="color:#383A42;--shiki-dark:#ABB2BF">=</span><span style="color:#383A42;--shiki-dark:#E5C07B">page</span><span style="color:#383A42;--shiki-dark:#ABB2BF">.</span><span style="color:#E45649;--shiki-dark:#E06C75">aside</span><span style="color:#383A42;--shiki-dark:#C678DD"> ?</span><span style="color:#50A14F;--shiki-dark:#98C379"> ''</span><span style="color:#383A42;--shiki-dark:#C678DD"> :</span><span style="color:#50A14F;--shiki-dark:#98C379"> 'hide-aside'</span><span style="color:#986801;--shiki-dark:#D19A66">)</span></span><span class="line"><span style="color:#4078F2;--shiki-dark:#61AFEF">        #page</span></span><span class="line"><span style="color:#A626A4;--shiki-dark:#C678DD">            case</span><span style="color:#383A42;--shiki-dark:#E5C07B"> page</span><span style="color:#383A42;--shiki-dark:#ABB2BF">.</span><span style="color:#E45649;--shiki-dark:#E06C75">type</span></span><span class="line"><span style="color:#A0A1A7;font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">                //- ...</span></span><span class="line diff add"><span style="color:#A626A4;--shiki-dark:#C678DD">                when</span><span style="color:#50A14F;--shiki-dark:#98C379"> 'games'</span></span><span class="line diff add"><span style="color:#A626A4;--shiki-dark:#C678DD">                    include</span><span style="color:#E45649;--shiki-dark:#E06C75"> includes/page/games</span></span><span class="line"><span style="color:#A0A1A7;font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">                //- ...</span></span></code></pre></td></tr></tbody></table></figure>最后在 ./source/_data 目录下新建 games.yml 文件，写入如下格式的内容：<figure class="highlight yaml"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre class="shiki shiki-themes one-light one-dark-pro"><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">- </span><span style="color:#E45649;--shiki-dark:#E06C75">name</span><span style="color:#383A42;--shiki-dark:#ABB2BF">: </span><span style="color:#50A14F;--shiki-dark:#98C379">好游戏</span><span style="color:#A0A1A7;font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic"> # 分类名称</span></span><span class="line"><span style="color:#E45649;--shiki-dark:#E06C75">  desc</span><span style="color:#383A42;--shiki-dark:#ABB2BF">: </span><span style="color:#50A14F;--shiki-dark:#98C379">比较喜欢的游戏</span><span style="color:#A0A1A7;font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic"> # 分类描述</span></span><span class="line"><span style="color:#E45649;--shiki-dark:#E06C75">  list</span><span style="color:#383A42;--shiki-dark:#ABB2BF">: </span><span style="color:#A0A1A7;font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic"># 游戏列表</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">    - </span><span style="color:#E45649;--shiki-dark:#E06C75">name</span><span style="color:#383A42;--shiki-dark:#ABB2BF">: </span><span style="color:#50A14F;--shiki-dark:#98C379">Mincraft</span><span style="color:#A0A1A7;font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic"> # 游戏名称</span></span><span class="line"><span style="color:#E45649;--shiki-dark:#E06C75">      score</span><span style="color:#383A42;--shiki-dark:#ABB2BF">: </span><span style="color:#50A14F;--shiki-dark:#98C379">9/10</span><span style="color:#A0A1A7;font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic"> # 游戏评分，可选</span></span><span class="line"><span style="color:#E45649;--shiki-dark:#E06C75">      spec</span><span style="color:#383A42;--shiki-dark:#ABB2BF">: </span><span style="color:#50A14F;--shiki-dark:#98C379">神作，无需多言</span><span style="color:#A0A1A7;font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic"> # 副标题</span></span><span class="line"><span style="color:#E45649;--shiki-dark:#E06C75">      desc</span><span style="color:#383A42;--shiki-dark:#ABB2BF">: </span><span style="color:#50A14F;--shiki-dark:#98C379">"探索随机生成的世界，建造从最简单的住宅到最宏伟的城堡等一切不可思议之物。您可以在创造模式中享用无限资源，也可以在生存模式中挖掘整个世界，合成武器和盔甲，抵御各种危险生物。攀登崎岖的群山，探明复杂的洞穴，挖掘大型矿脉。探索错综的洞穴与石笋洞穴生物群系。用蜡烛照亮世界，展示出自己作为知识渊博的地下冒险者和登山大师的风采！"</span><span style="color:#A0A1A7;font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic"> # 游戏描述</span></span><span class="line"><span style="color:#E45649;--shiki-dark:#E06C75">      link</span><span style="color:#383A42;--shiki-dark:#ABB2BF">: </span><span style="color:#50A14F;--shiki-dark:#98C379">http://www.minecraft.net/</span><span style="color:#A0A1A7;font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic"> # 游戏链接</span></span><span class="line"><span style="color:#E45649;--shiki-dark:#E06C75">      image</span><span style="color:#383A42;--shiki-dark:#ABB2BF">: </span><span style="color:#50A14F;--shiki-dark:#98C379">https://bu.dusays.com/2024/11/04/672882a184cb7.webp</span><span style="color:#A0A1A7;font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic"> # 游戏封面</span></span></code></pre></td></tr></tbody></table></figure> 此时使用 <code>hexo generate</code>，游戏页面的 HTML已可正确渲染。如果发现不能正常渲染请使用 <code>hexo clean</code>清除缓存后重试。</p><p>接着来为该界面添加样式。在 solitude/scripts/helper/stylus.js 中定义games 页面样式引入所需的 stylus 变量： <figure class="highlight javascript"><figcaption><span>solitude/scripts/helper/stylus.js</span></figcaption><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre class="shiki shiki-themes one-light one-dark-pro has-diff"><span class="line"><span style="color:#383A42;--shiki-dark:#E5C07B">hexo</span><span style="color:#383A42;--shiki-dark:#ABB2BF">.</span><span style="color:#E45649;--shiki-dark:#E5C07B">extend</span><span style="color:#383A42;--shiki-dark:#ABB2BF">.</span><span style="color:#E45649;--shiki-dark:#E5C07B">filter</span><span style="color:#383A42;--shiki-dark:#ABB2BF">.</span><span style="color:#4078F2;--shiki-dark:#61AFEF">register</span><span style="color:#383A42;--shiki-dark:#ABB2BF">(</span><span style="color:#50A14F;--shiki-dark:#98C379">'stylus:renderer'</span><span style="color:#383A42;--shiki-dark:#ABB2BF">, </span><span style="color:#A626A4;--shiki-dark:#C678DD">function</span><span style="color:#383A42;--shiki-dark:#ABB2BF"> (</span><span style="color:#383A42;font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic">style</span><span style="color:#383A42;--shiki-dark:#ABB2BF">) &#123;</span></span><span class="line"><span style="color:#A0A1A7;font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">    // ...</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#E5C07B">    style</span><span style="color:#383A42;--shiki-dark:#ABB2BF">.</span><span style="color:#4078F2;--shiki-dark:#61AFEF">define</span><span style="color:#383A42;--shiki-dark:#ABB2BF">(</span><span style="color:#50A14F;--shiki-dark:#98C379">'$equipment'</span><span style="color:#383A42;--shiki-dark:#ABB2BF">, </span><span style="color:#0184BC;--shiki-dark:#56B6C2">!!</span><span style="color:#383A42;--shiki-dark:#ABB2BF">(</span><span style="color:#383A42;--shiki-dark:#E06C75">data</span><span style="color:#0184BC;--shiki-dark:#56B6C2"> &#x26;&#x26;</span><span style="color:#383A42;--shiki-dark:#E5C07B"> data</span><span style="color:#383A42;--shiki-dark:#ABB2BF">.</span><span style="color:#E45649;--shiki-dark:#E06C75">equipment</span><span style="color:#383A42;--shiki-dark:#ABB2BF">))</span></span><span class="line diff add"><span style="color:#383A42;--shiki-dark:#E5C07B">    style</span><span style="color:#383A42;--shiki-dark:#ABB2BF">.</span><span style="color:#4078F2;--shiki-dark:#61AFEF">define</span><span style="color:#383A42;--shiki-dark:#ABB2BF">(</span><span style="color:#50A14F;--shiki-dark:#98C379">'$games'</span><span style="color:#383A42;--shiki-dark:#ABB2BF">, </span><span style="color:#0184BC;--shiki-dark:#56B6C2">!!</span><span style="color:#383A42;--shiki-dark:#ABB2BF">(</span><span style="color:#383A42;--shiki-dark:#E06C75">data</span><span style="color:#0184BC;--shiki-dark:#56B6C2"> &#x26;&#x26;</span><span style="color:#383A42;--shiki-dark:#E5C07B"> data</span><span style="color:#383A42;--shiki-dark:#ABB2BF">.</span><span style="color:#E45649;--shiki-dark:#E06C75">games</span><span style="color:#383A42;--shiki-dark:#ABB2BF">)) </span></span><span class="line"></span><span class="line"><span style="color:#A0A1A7;font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">    // highlight</span></span><span class="line"><span style="color:#A626A4;--shiki-dark:#C678DD">    const</span><span style="color:#383A42;--shiki-dark:#ABB2BF"> &#123;</span><span style="color:#E45649;--shiki-dark:#E06C75">syntax_highlighter</span><span style="color:#383A42;--shiki-dark:#ABB2BF">: </span><span style="color:#986801;--shiki-dark:#E5C07B">syntaxHighlighter</span><span style="color:#383A42;--shiki-dark:#ABB2BF">, </span><span style="color:#986801;--shiki-dark:#E5C07B">highlight</span><span style="color:#383A42;--shiki-dark:#ABB2BF">, </span><span style="color:#986801;--shiki-dark:#E5C07B">prismjs</span><span style="color:#383A42;--shiki-dark:#ABB2BF">, </span><span style="color:#986801;--shiki-dark:#E5C07B">shiki</span><span style="color:#383A42;--shiki-dark:#ABB2BF">&#125; </span><span style="color:#0184BC;--shiki-dark:#56B6C2">=</span><span style="color:#383A42;--shiki-dark:#E5C07B"> hexo</span><span style="color:#383A42;--shiki-dark:#ABB2BF">.</span><span style="color:#E45649;--shiki-dark:#E06C75">config</span></span><span class="line"><span style="color:#A0A1A7;font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">    // ...</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">&#125;);</span></span></code></pre></td></tr></tbody></table></figure> 再在solitude/source/css/_page/index.styl 中添加引入样式的代码：<figure class="highlight stylus"><figcaption><span>solitude/source/css/_page/index.styl</span></figcaption><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre class="shiki shiki-themes one-light one-dark-pro has-diff"><span class="line"><span style="color:#A0A1A7;font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">// ...</span></span><span class="line"><span style="color:#A626A4;--shiki-dark:#C678DD">if</span><span style="color:#E45649;--shiki-dark:#E06C75"> $about</span></span><span class="line"><span style="color:#A626A4;--shiki-dark:#C678DD">  @import</span><span style="color:#50A14F;--shiki-dark:#98C379"> "_about/about"</span></span><span class="line"></span><span class="line diff add"><span style="color:#A626A4;--shiki-dark:#C678DD">if</span><span style="color:#E45649;--shiki-dark:#E06C75"> $games</span></span><span class="line diff add"><span style="color:#A626A4;--shiki-dark:#C678DD">  @import</span><span style="color:#50A14F;--shiki-dark:#98C379"> "games.styl"</span></span><span class="line"></span><span class="line"><span style="color:#A0A1A7;font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">// ...</span></span></code></pre></td></tr></tbody></table></figure> 最后新建solitude/source/css/_page/games.styl，写入如下内容： <figure class="highlight stylus"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br></pre></td><td class="code"><pre class="shiki shiki-themes one-light one-dark-pro"><span class="line"><span style="color:#4078F2;--shiki-dark:#61AFEF">#games</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">  margin-top </span><span style="color:#986801;--shiki-dark:#D19A66">26</span><span style="color:#986801;--shiki-dark:#E06C75">px</span></span><span class="line"></span><span class="line"><span style="color:#986801;--shiki-dark:#D19A66">  .game-group</span></span><span class="line"><span style="color:#986801;--shiki-dark:#D19A66">    .game-group-title</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">      line-height </span><span style="color:#986801;--shiki-dark:#D19A66">1</span></span><span class="line"></span><span class="line"><span style="color:#986801;--shiki-dark:#D19A66">    .game-group-desc</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">      line-height </span><span style="color:#986801;--shiki-dark:#D19A66">1</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">      margin </span><span style="color:#986801;--shiki-dark:#D19A66">4</span><span style="color:#986801;--shiki-dark:#E06C75">px</span><span style="color:#986801;--shiki-dark:#D19A66"> 0</span><span style="color:#986801;--shiki-dark:#D19A66"> 8</span><span style="color:#986801;--shiki-dark:#E06C75">px</span><span style="color:#986801;--shiki-dark:#D19A66"> 0</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">      color </span><span style="color:#4078F2;--shiki-dark:#61AFEF">var</span><span style="color:#383A42;--shiki-dark:#ABB2BF">(</span><span style="color:#E45649;--shiki-dark:#E06C75">--efu-secondtext</span><span style="color:#383A42;--shiki-dark:#ABB2BF">)</span></span><span class="line"></span><span class="line"><span style="color:#986801;--shiki-dark:#D19A66">    .game-group-content</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">      display </span><span style="color:#383A42;--shiki-dark:#D19A66">flex</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">      flex-direction </span><span style="color:#383A42;--shiki-dark:#D19A66">row</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">      flex-wrap </span><span style="color:#383A42;--shiki-dark:#D19A66">wrap</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">      margin </span><span style="color:#986801;--shiki-dark:#D19A66">0</span><span style="color:#986801;--shiki-dark:#D19A66"> -8</span><span style="color:#986801;--shiki-dark:#E06C75">px</span></span><span class="line"></span><span class="line"><span style="color:#986801;--shiki-dark:#D19A66">      .game-item</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">        width </span><span style="color:#0184BC;--shiki-dark:#56B6C2">calc</span><span style="color:#383A42;--shiki-dark:#ABB2BF">(</span><span style="color:#986801;--shiki-dark:#D19A66">33</span><span style="color:#986801;--shiki-dark:#E06C75">%</span><span style="color:#383A42;--shiki-dark:#ABB2BF"> - </span><span style="color:#986801;--shiki-dark:#D19A66">12</span><span style="color:#986801;--shiki-dark:#E06C75">px</span><span style="color:#383A42;--shiki-dark:#ABB2BF">)</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">        border-radius </span><span style="color:#986801;--shiki-dark:#D19A66">12</span><span style="color:#986801;--shiki-dark:#E06C75">px</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">        border </span><span style="color:#4078F2;--shiki-dark:#61AFEF">var</span><span style="color:#383A42;--shiki-dark:#ABB2BF">(</span><span style="color:#E45649;--shiki-dark:#E06C75">--style-border-always</span><span style="color:#383A42;--shiki-dark:#ABB2BF">)</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">        overflow </span><span style="color:#383A42;--shiki-dark:#D19A66">hidden</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">        margin </span><span style="color:#986801;--shiki-dark:#D19A66">8</span><span style="color:#986801;--shiki-dark:#E06C75">px</span><span style="color:#986801;--shiki-dark:#D19A66"> 6</span><span style="color:#986801;--shiki-dark:#E06C75">px</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">        background </span><span style="color:#4078F2;--shiki-dark:#61AFEF">var</span><span style="color:#383A42;--shiki-dark:#ABB2BF">(</span><span style="color:#E45649;--shiki-dark:#E06C75">--efu-card-bg</span><span style="color:#383A42;--shiki-dark:#ABB2BF">)</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">        box-shadow </span><span style="color:#4078F2;--shiki-dark:#61AFEF">var</span><span style="color:#383A42;--shiki-dark:#ABB2BF">(</span><span style="color:#E45649;--shiki-dark:#E06C75">--efu-shadow-border</span><span style="color:#383A42;--shiki-dark:#ABB2BF">)</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">        min-height </span><span style="color:#986801;--shiki-dark:#D19A66">400</span><span style="color:#986801;--shiki-dark:#E06C75">px</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">        position </span><span style="color:#383A42;--shiki-dark:#D19A66">relative</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">        user-select </span><span style="color:#383A42;--shiki-dark:#D19A66">none</span></span><span class="line"></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">        +</span><span style="color:#4078F2;--shiki-dark:#61AFEF">maxWidth1200</span><span style="color:#383A42;--shiki-dark:#ABB2BF">()</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">          width </span><span style="color:#0184BC;--shiki-dark:#56B6C2">calc</span><span style="color:#383A42;--shiki-dark:#ABB2BF">(</span><span style="color:#986801;--shiki-dark:#D19A66">50</span><span style="color:#986801;--shiki-dark:#E06C75">%</span><span style="color:#383A42;--shiki-dark:#ABB2BF"> - </span><span style="color:#986801;--shiki-dark:#D19A66">12</span><span style="color:#986801;--shiki-dark:#E06C75">px</span><span style="color:#383A42;--shiki-dark:#ABB2BF">)</span></span><span class="line"></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">        +</span><span style="color:#4078F2;--shiki-dark:#61AFEF">maxWidth768</span><span style="color:#383A42;--shiki-dark:#ABB2BF">()</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">          width </span><span style="color:#986801;--shiki-dark:#D19A66">100</span><span style="color:#986801;--shiki-dark:#E06C75">%</span></span><span class="line"></span><span class="line"><span style="color:#986801;--shiki-dark:#D19A66">        .game-item-cover</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">          width </span><span style="color:#986801;--shiki-dark:#D19A66">100</span><span style="color:#986801;--shiki-dark:#E06C75">%</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">          height </span><span style="color:#986801;--shiki-dark:#D19A66">200</span><span style="color:#986801;--shiki-dark:#E06C75">px</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">          background </span><span style="color:#4078F2;--shiki-dark:#61AFEF">var</span><span style="color:#383A42;--shiki-dark:#ABB2BF">(</span><span style="color:#E45649;--shiki-dark:#E06C75">--efu-secondbg</span><span style="color:#383A42;--shiki-dark:#ABB2BF">)</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">          display </span><span style="color:#383A42;--shiki-dark:#D19A66">flex</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">          justify-content </span><span style="color:#383A42;--shiki-dark:#D19A66">center</span></span><span class="line"></span><span class="line"><span style="color:#986801;--shiki-dark:#D19A66">          .game-item-image</span></span><span class="line"><span style="color:#0184BC;--shiki-dark:#56B6C2">            object-fit</span><span style="color:#383A42;--shiki-dark:#D19A66"> cover</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">            width </span><span style="color:#986801;--shiki-dark:#D19A66">100</span><span style="color:#986801;--shiki-dark:#E06C75">%</span></span><span class="line"></span><span class="line"><span style="color:#986801;--shiki-dark:#D19A66">        .game-item-info</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">          padding </span><span style="color:#986801;--shiki-dark:#D19A66">8</span><span style="color:#986801;--shiki-dark:#E06C75">px</span><span style="color:#986801;--shiki-dark:#D19A66"> 16</span><span style="color:#986801;--shiki-dark:#E06C75">px</span><span style="color:#986801;--shiki-dark:#D19A66"> 16</span><span style="color:#986801;--shiki-dark:#E06C75">px</span><span style="color:#986801;--shiki-dark:#D19A66"> 16</span><span style="color:#986801;--shiki-dark:#E06C75">px</span></span><span class="line"></span><span class="line"><span style="color:#986801;--shiki-dark:#D19A66">          .game-item-name</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">            font-size </span><span style="color:#986801;--shiki-dark:#D19A66">18</span><span style="color:#986801;--shiki-dark:#E06C75">px</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">            font-weight </span><span style="color:#986801;--shiki-dark:#D19A66">700</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">            line-height </span><span style="color:#986801;--shiki-dark:#D19A66">1</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">            margin-bottom </span><span style="color:#986801;--shiki-dark:#D19A66">8</span><span style="color:#986801;--shiki-dark:#E06C75">px</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">            white-space </span><span style="color:#383A42;--shiki-dark:#D19A66">nowrap</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">            text-overflow </span><span style="color:#383A42;--shiki-dark:#D19A66">ellipsis</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">            width fit-content</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">            display </span><span style="color:#383A42;--shiki-dark:#D19A66">inline</span></span><span class="line"></span><span class="line"><span style="color:#A626A4;--shiki-dark:#C678DD">            &#x26;</span><span style="color:#986801;--shiki-dark:#56B6C2">:hover</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">              color </span><span style="color:#4078F2;--shiki-dark:#61AFEF">var</span><span style="color:#383A42;--shiki-dark:#ABB2BF">(</span><span style="color:#E45649;--shiki-dark:#E06C75">--efu-vip</span><span style="color:#383A42;--shiki-dark:#ABB2BF">)</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">              cursor </span><span style="color:#383A42;--shiki-dark:#D19A66">pointer</span></span><span class="line"></span><span class="line"><span style="color:#986801;--shiki-dark:#D19A66">          .game-item-score</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">            display </span><span style="color:#383A42;--shiki-dark:#D19A66">inline</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">            position </span><span style="color:#383A42;--shiki-dark:#D19A66">absolute</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">            right </span><span style="color:#986801;--shiki-dark:#D19A66">1</span><span style="color:#986801;--shiki-dark:#E06C75">em</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">            font-size </span><span style="color:#986801;--shiki-dark:#D19A66">0.8</span><span style="color:#986801;--shiki-dark:#E06C75">em</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">            color </span><span style="color:#4078F2;--shiki-dark:#61AFEF">var</span><span style="color:#383A42;--shiki-dark:#ABB2BF">(</span><span style="color:#E45649;--shiki-dark:#E06C75">--efu-secondtext</span><span style="color:#383A42;--shiki-dark:#ABB2BF">)</span></span><span class="line"></span><span class="line"><span style="color:#986801;--shiki-dark:#D19A66">          .game-item-spec</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">            font-size </span><span style="color:#986801;--shiki-dark:#D19A66">12</span><span style="color:#986801;--shiki-dark:#E06C75">px</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">            color </span><span style="color:#4078F2;--shiki-dark:#61AFEF">var</span><span style="color:#383A42;--shiki-dark:#ABB2BF">(</span><span style="color:#E45649;--shiki-dark:#E06C75">--efu-secondtext</span><span style="color:#383A42;--shiki-dark:#ABB2BF">)</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">            line-height </span><span style="color:#986801;--shiki-dark:#D19A66">1</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">            margin-bottom </span><span style="color:#986801;--shiki-dark:#D19A66">12</span><span style="color:#986801;--shiki-dark:#E06C75">px</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">            white-space </span><span style="color:#383A42;--shiki-dark:#D19A66">nowrap</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">            overflow </span><span style="color:#383A42;--shiki-dark:#D19A66">hidden</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">            text-overflow </span><span style="color:#383A42;--shiki-dark:#D19A66">ellipsis</span></span><span class="line"></span><span class="line"><span style="color:#986801;--shiki-dark:#D19A66">          .game-item-desc</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">            line-height </span><span style="color:#986801;--shiki-dark:#D19A66">1.4</span><span style="color:#986801;--shiki-dark:#E06C75">em</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">            color </span><span style="color:#4078F2;--shiki-dark:#61AFEF">var</span><span style="color:#383A42;--shiki-dark:#ABB2BF">(</span><span style="color:#E45649;--shiki-dark:#E06C75">--efu-secondtext</span><span style="color:#383A42;--shiki-dark:#ABB2BF">)</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">            height </span><span style="color:#986801;--shiki-dark:#D19A66">5.6</span><span style="color:#986801;--shiki-dark:#E06C75">em</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">            display -webkit-box</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">            overflow </span><span style="color:#383A42;--shiki-dark:#D19A66">hidden</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">            -webkit-line-clamp </span><span style="color:#986801;--shiki-dark:#D19A66">4</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">            -webkit-box-orient vertical</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">            font-size </span><span style="color:#986801;--shiki-dark:#D19A66">14</span><span style="color:#986801;--shiki-dark:#E06C75">px</span></span><span class="line"></span><span class="line"><span style="color:#986801;--shiki-dark:#D19A66">          .game-item-toolbar</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">            display </span><span style="color:#383A42;--shiki-dark:#D19A66">flex</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">            justify-content </span><span style="color:#383A42;--shiki-dark:#D19A66">space-between</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">            position </span><span style="color:#383A42;--shiki-dark:#D19A66">absolute</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">            bottom </span><span style="color:#986801;--shiki-dark:#D19A66">9</span><span style="color:#986801;--shiki-dark:#E06C75">px</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">            left </span><span style="color:#986801;--shiki-dark:#D19A66">0</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">            width </span><span style="color:#986801;--shiki-dark:#D19A66">100</span><span style="color:#986801;--shiki-dark:#E06C75">%</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">            padding </span><span style="color:#986801;--shiki-dark:#D19A66">0</span><span style="color:#986801;--shiki-dark:#D19A66"> 16</span><span style="color:#986801;--shiki-dark:#E06C75">px</span></span><span class="line"></span><span class="line"><span style="color:#986801;--shiki-dark:#D19A66">            .game-item-link</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">              font-size </span><span style="color:#986801;--shiki-dark:#D19A66">12</span><span style="color:#986801;--shiki-dark:#E06C75">px</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">              background </span><span style="color:#4078F2;--shiki-dark:#61AFEF">var</span><span style="color:#383A42;--shiki-dark:#ABB2BF">(</span><span style="color:#E45649;--shiki-dark:#E06C75">--efu-gray-op</span><span style="color:#383A42;--shiki-dark:#ABB2BF">)</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">              padding </span><span style="color:#986801;--shiki-dark:#D19A66">4</span><span style="color:#986801;--shiki-dark:#E06C75">px</span><span style="color:#986801;--shiki-dark:#D19A66"> 8</span><span style="color:#986801;--shiki-dark:#E06C75">px</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">              border-radius </span><span style="color:#986801;--shiki-dark:#D19A66">8</span><span style="color:#986801;--shiki-dark:#E06C75">px</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">              cursor </span><span style="color:#383A42;--shiki-dark:#D19A66">pointer</span></span><span class="line"></span><span class="line"><span style="color:#A626A4;--shiki-dark:#C678DD">              &#x26;</span><span style="color:#986801;--shiki-dark:#56B6C2">:hover</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">                background </span><span style="color:#4078F2;--shiki-dark:#61AFEF">var</span><span style="color:#383A42;--shiki-dark:#ABB2BF">(</span><span style="color:#E45649;--shiki-dark:#E06C75">--efu-main</span><span style="color:#383A42;--shiki-dark:#ABB2BF">)</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">                color </span><span style="color:#4078F2;--shiki-dark:#61AFEF">var</span><span style="color:#383A42;--shiki-dark:#ABB2BF">(</span><span style="color:#E45649;--shiki-dark:#E06C75">--efu-white</span><span style="color:#383A42;--shiki-dark:#ABB2BF">)</span></span></code></pre></td></tr></tbody></table></figure>至此，大功告成。</p><h3 id="中英混排间距与标点压缩">中英混排间距与标点压缩</h3><p>我使用的是<ahref="https://github.com/sivan/heti">赫蹏</a>（hètí）来进行标点压缩与中英文间距调整，参考：</p><a class="tag-link" href="https://www.eallion.com/cjk-punctuation/" rel="external nofollow noreferrer" target="_blank"><div class="tag-link-tips">引用站外链接</div><div class="tag-link-bottom"><div class="tag-link-left"><i class="solitude fas fa-link"></i></div><div class="tag-link-right"><div class="tag-link-title">博客排版 - 挤压中文标点符号</div><div class="tag-link-sitename">大大的小蜗牛</div></div><i class="solitude fas fa-chevron-right"></i></div></a><p>因为直接改的主题，因此要改的东西多了点，可以参看 <ahref="https://github.com/HPCesia/hexo-theme-solitude/commit/73074b6f85d980b626de6db97b12e65f6394ca13">commit</a>了解我的修改。</p><h2 id="非原创修改">非原创修改</h2><p>这部分的改造主要是参考其他博客的教程进行的，且不需要对 Solitude主题做出较大的改动，因此只放教程博文链接和少量的修改。</p><h3 id="访问统计">访问统计</h3><a class="tag-link" href="https://blog.elykia.cn/posts/8.html" rel="external nofollow noreferrer" target="_blank"><div class="tag-link-tips">引用站外链接</div><div class="tag-link-bottom"><div class="tag-link-left"><i class="solitude fas fa-link"></i></div><div class="tag-link-right"><div class="tag-link-title">Vercount：不蒜子的完美替代方案</div><div class="tag-link-sitename">致以无暇之人</div></div><i class="solitude fas fa-chevron-right"></i></div></a><p>直接照着做就行，Solitude 主题配置方法一模一样。</p><h3 id="侧边栏来访者卡片">侧边栏来访者卡片</h3><a class="tag-link" href="https://blog.qjqq.cn/posts/834f.html" rel="external nofollow noreferrer" target="_blank"><div class="tag-link-tips">引用站外链接</div><div class="tag-link-bottom"><div class="tag-link-left"><i class="solitude fas fa-link"></i></div><div class="tag-link-right"><div class="tag-link-title">添加来访者卡片</div><div class="tag-link-sitename">青桔气球</div></div><i class="solitude fas fa-chevron-right"></i></div></a><p>直接照着做就行。</p><h3 id="友链朋友圈">友链朋友圈</h3><p>我这边使用的是 <a href="https://blog.liushen.fun/" rel="external nofollow noreferrer">LiuShen</a>大佬的<ahref="https://github.com/willow-god/Friend-Circle-Lite">轻量友链朋友圈</a>，使用GitHub Action + Netlify 的方式进行部署。</p><p>本身没什么好说的，大部分都是直接照着部署即可，不过针对 Solitude主题需要进行少量修改。</p><p>首先是 link.js，也就是用来生成 friend.json的代码，我根据自己对主题的修改和主题本身的 links.yml文件结构做了小小的修改： <figure class="highlight javascript"><figcaption><span>link.js</span></figcaption><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre class="shiki shiki-themes one-light one-dark-pro has-diff"><span class="line"><span style="color:#A626A4;--shiki-dark:#C678DD">const</span><span style="color:#986801;--shiki-dark:#E5C07B"> YML</span><span style="color:#0184BC;--shiki-dark:#56B6C2"> =</span><span style="color:#4078F2;--shiki-dark:#61AFEF"> require</span><span style="color:#383A42;--shiki-dark:#ABB2BF">(</span><span style="color:#50A14F;--shiki-dark:#98C379">"yamljs"</span><span style="color:#383A42;--shiki-dark:#ABB2BF">);</span></span><span class="line"><span style="color:#A626A4;--shiki-dark:#C678DD">const</span><span style="color:#986801;--shiki-dark:#E5C07B"> fs</span><span style="color:#0184BC;--shiki-dark:#56B6C2"> =</span><span style="color:#4078F2;--shiki-dark:#61AFEF"> require</span><span style="color:#383A42;--shiki-dark:#ABB2BF">(</span><span style="color:#50A14F;--shiki-dark:#98C379">"fs"</span><span style="color:#383A42;--shiki-dark:#ABB2BF">);</span></span><span class="line"></span><span class="line"><span style="color:#A626A4;--shiki-dark:#C678DD">let</span><span style="color:#383A42;--shiki-dark:#E06C75"> friends</span><span style="color:#0184BC;--shiki-dark:#56B6C2"> =</span><span style="color:#383A42;--shiki-dark:#ABB2BF"> [];</span></span><span class="line"><span style="color:#A626A4;--shiki-dark:#C678DD">let</span><span style="color:#383A42;--shiki-dark:#E06C75"> data_f</span><span style="color:#0184BC;--shiki-dark:#56B6C2"> =</span><span style="color:#986801;--shiki-dark:#E5C07B"> YML</span><span style="color:#383A42;--shiki-dark:#ABB2BF">.</span><span style="color:#4078F2;--shiki-dark:#61AFEF">parse</span><span style="color:#383A42;--shiki-dark:#ABB2BF">(</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#E5C07B">  fs</span><span style="color:#383A42;--shiki-dark:#ABB2BF">.</span><span style="color:#4078F2;--shiki-dark:#61AFEF">readFileSync</span><span style="color:#383A42;--shiki-dark:#ABB2BF">(</span><span style="color:#50A14F;--shiki-dark:#98C379">"source/_data/links.yml"</span><span style="color:#383A42;--shiki-dark:#ABB2BF">)</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">    .</span><span style="color:#4078F2;--shiki-dark:#61AFEF">toString</span><span style="color:#383A42;--shiki-dark:#ABB2BF">()</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">    .</span><span style="color:#4078F2;--shiki-dark:#61AFEF">replace</span><span style="color:#383A42;--shiki-dark:#ABB2BF">(</span><span style="color:#0184BC;--shiki-dark:#E06C75">/(?&#x3C;=rss:)</span><span style="color:#986801;--shiki-dark:#E06C75">\s</span><span style="color:#0184BC;--shiki-dark:#D19A66">*</span><span style="color:#986801;--shiki-dark:#E06C75">\n</span><span style="color:#0184BC;--shiki-dark:#E06C75">/</span><span style="color:#A626A4;--shiki-dark:#C678DD">g</span><span style="color:#383A42;--shiki-dark:#ABB2BF">, </span><span style="color:#50A14F;--shiki-dark:#98C379">' ""</span><span style="color:#0184BC;--shiki-dark:#56B6C2">\n</span><span style="color:#50A14F;--shiki-dark:#98C379">'</span><span style="color:#383A42;--shiki-dark:#ABB2BF">)</span></span><span class="line diff add"><span style="color:#383A42;--shiki-dark:#ABB2BF">).</span><span style="color:#E45649;--shiki-dark:#E06C75">links</span><span style="color:#383A42;--shiki-dark:#ABB2BF">; </span></span><span class="line"></span><span class="line"><span style="color:#383A42;--shiki-dark:#E5C07B">data_f</span><span style="color:#383A42;--shiki-dark:#ABB2BF">.</span><span style="color:#4078F2;--shiki-dark:#61AFEF">forEach</span><span style="color:#383A42;--shiki-dark:#ABB2BF">((</span><span style="color:#383A42;font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic">entry</span><span style="color:#383A42;--shiki-dark:#ABB2BF">, </span><span style="color:#383A42;font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic">index</span><span style="color:#383A42;--shiki-dark:#ABB2BF">) </span><span style="color:#A626A4;--shiki-dark:#C678DD">=></span><span style="color:#383A42;--shiki-dark:#ABB2BF"> &#123;</span></span><span class="line"><span style="color:#A626A4;--shiki-dark:#C678DD">  let</span><span style="color:#383A42;--shiki-dark:#E06C75"> lastIndex</span><span style="color:#0184BC;--shiki-dark:#56B6C2"> =</span><span style="color:#986801;--shiki-dark:#D19A66"> 3</span><span style="color:#383A42;--shiki-dark:#ABB2BF">;</span></span><span class="line"><span style="color:#A626A4;--shiki-dark:#C678DD">  if</span><span style="color:#383A42;--shiki-dark:#ABB2BF"> (</span><span style="color:#383A42;--shiki-dark:#E06C75">index</span><span style="color:#0184BC;--shiki-dark:#56B6C2"> &#x3C;</span><span style="color:#383A42;--shiki-dark:#E06C75"> lastIndex</span><span style="color:#383A42;--shiki-dark:#ABB2BF">) &#123;</span></span><span class="line diff add"><span style="color:#A626A4;--shiki-dark:#C678DD">    const</span><span style="color:#986801;--shiki-dark:#E5C07B"> filteredLinkList</span><span style="color:#0184BC;--shiki-dark:#56B6C2"> =</span><span style="color:#383A42;--shiki-dark:#E5C07B"> entry</span><span style="color:#383A42;--shiki-dark:#ABB2BF">.</span><span style="color:#E45649;--shiki-dark:#E5C07B">link_list</span><span style="color:#383A42;--shiki-dark:#ABB2BF">.</span><span style="color:#4078F2;--shiki-dark:#61AFEF">filter</span><span style="color:#383A42;--shiki-dark:#ABB2BF">((</span><span style="color:#383A42;font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic">i</span><span style="color:#383A42;--shiki-dark:#ABB2BF">) </span><span style="color:#A626A4;--shiki-dark:#C678DD">=></span><span style="color:#0184BC;--shiki-dark:#56B6C2"> !</span><span style="color:#383A42;--shiki-dark:#ABB2BF">(</span><span style="color:#50A14F;--shiki-dark:#98C379">"noTravel"</span><span style="color:#A626A4;--shiki-dark:#C678DD"> in</span><span style="color:#383A42;--shiki-dark:#E06C75"> i</span><span style="color:#0184BC;--shiki-dark:#56B6C2"> &#x26;&#x26;</span><span style="color:#383A42;--shiki-dark:#E5C07B"> i</span><span style="color:#383A42;--shiki-dark:#ABB2BF">.</span><span style="color:#E45649;--shiki-dark:#E06C75">noTravel</span><span style="color:#383A42;--shiki-dark:#ABB2BF">)); </span></span><span class="line"><span style="color:#383A42;--shiki-dark:#E06C75">    friends</span><span style="color:#0184BC;--shiki-dark:#56B6C2"> =</span><span style="color:#383A42;--shiki-dark:#E5C07B"> friends</span><span style="color:#383A42;--shiki-dark:#ABB2BF">.</span><span style="color:#4078F2;--shiki-dark:#61AFEF">concat</span><span style="color:#383A42;--shiki-dark:#ABB2BF">(</span><span style="color:#383A42;--shiki-dark:#E06C75">filteredLinkList</span><span style="color:#383A42;--shiki-dark:#ABB2BF">);</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">  &#125;</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">&#125;);</span></span><span class="line"></span><span class="line"><span style="color:#A0A1A7;font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">// ...</span></span></code></pre></td></tr></tbody></table></figure></p><p>还有就是 Netlify 部署静态网页所需的一点小改动。因为我博客是部署在GitHub Page 上的，所以需要配置一下跨域。在 main 分支的 static 目录下新建netlify.toml 文件，里面写上 <figure class="highlight toml"><figcaption><span>netlify.toml</span></figcaption><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre class="shiki shiki-themes one-light one-dark-pro"><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">[[</span><span style="color:#4078F2;--shiki-dark:#61AFEF">headers</span><span style="color:#383A42;--shiki-dark:#ABB2BF">]]</span></span><span class="line"><span style="color:#E45649;--shiki-dark:#E06C75">  for</span><span style="color:#383A42;--shiki-dark:#ABB2BF"> = </span><span style="color:#50A14F;--shiki-dark:#98C379">"/*"</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">  [</span><span style="color:#4078F2;--shiki-dark:#61AFEF">headers</span><span style="color:#383A42;--shiki-dark:#ABB2BF">.</span><span style="color:#4078F2;--shiki-dark:#61AFEF">values</span><span style="color:#383A42;--shiki-dark:#ABB2BF">]</span></span><span class="line"><span style="color:#E45649;--shiki-dark:#E06C75">    access-control-allow-origin</span><span style="color:#383A42;--shiki-dark:#ABB2BF"> = </span><span style="color:#50A14F;--shiki-dark:#98C379">"https://blog.hpcesia.com"</span><span style="color:#A0A1A7;font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic"> # 改成你自己的博客地址</span></span></code></pre></td></tr></tbody></table></figure></p><p>同时修改 .github/workflow/friend_circle_lite.yml，commit 中加上netlify.toml： <figure class="highlight yaml"><figcaption><span>.github/workflow/friend_circle_lite.yml</span></figcaption><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre class="shiki shiki-themes one-light one-dark-pro"><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">- </span><span style="color:#E45649;--shiki-dark:#E06C75">name</span><span style="color:#383A42;--shiki-dark:#ABB2BF">: </span><span style="color:#50A14F;--shiki-dark:#98C379">Commit changes</span></span><span class="line"><span style="color:#E45649;--shiki-dark:#E06C75">     run</span><span style="color:#383A42;--shiki-dark:#ABB2BF">: </span><span style="color:#A626A4;--shiki-dark:#C678DD">|</span></span><span class="line"><span style="color:#50A14F;--shiki-dark:#98C379">       mkdir pages</span></span><span class="line"><span style="color:#50A14F;--shiki-dark:#98C379">       cp -r main ./static/netlify.toml ./static/index.html ./static/readme.md ./static/favicon.ico ./static/bg-light.webp ./static/bg-dark.webp all.json errors.json pages/</span></span><span class="line"><span style="color:#50A14F;--shiki-dark:#98C379">       cd pages</span></span></code></pre></td></tr></tbody></table></figure></p><p>然后再运行 Action 即可。</p><h3 id="umami-统计">Umami 统计</h3><p><a href="https://umami.is/" rel="external nofollow noreferrer">Umami</a>是一个可以自部署的开源网站统计工具，可以代替 51LA 进行网站统计。</p><p>我自己选择的部署方式是 Vercel + Supabase + CloudflareWorker，全免费部署。首先需要将 Umami 部署到 Vercel上，这里我参考的是一篇英文的保姆级教程：</p><a class="tag-link" href="https://route360.dev/en/post/umami-supabase/" rel="external nofollow noreferrer" target="_blank"><div class="tag-link-tips">引用站外链接</div><div class="tag-link-bottom"><div class="tag-link-left"><i class="solitude fas fa-link"></i></div><div class="tag-link-right"><div class="tag-link-title">How to run Umami Analytics + Supabase + Vercel for free - Route360</div><div class="tag-link-sitename">Mayumi Hara</div></div><i class="solitude fas fa-chevron-right"></i></div></a><p>然后需要利用 Cloudflare Worker 来将 Umami 的 API暴露出来，这里我参考的是<ahref="https://blog.bsgun.cn/">梦爱吃鱼</a>大佬的文章：</p><a class="tag-link" href="https://blog.bsgun.cn/posts/d0612c0e/" rel="external nofollow noreferrer" target="_blank"><div class="tag-link-tips">引用站外链接</div><div class="tag-link-bottom"><div class="tag-link-left"><i class="solitude fas fa-link"></i></div><div class="tag-link-right"><div class="tag-link-title">CF Worker部署Umami的API</div><div class="tag-link-sitename">梦爱吃鱼</div></div><i class="solitude fas fa-chevron-right"></i></div></a><p>最后是在 Solitude 主题中接入，翻看<ahref="%5Blayout/includes/widgets/page/about/other.pug%5D(https://github.com/everfu/hexo-theme-solitude/blob/6e05f09edd0bf7f9287d7624cd12b886aa88a4f4/layout/includes/widgets/page/about/other.pug#L39)">源码</a>可以发现关于页面的统计卡片事实上是实现了Umami 统计的接入的（但是主题文档压根没提），于是我们只需要修改一下about.yml 即可：</p><figure class="highlight yaml"><figcaption><span>_data/about.yml</span></figcaption><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre class="shiki shiki-themes one-light one-dark-pro"><span class="line"><span style="color:#E45649;--shiki-dark:#E06C75">tj</span><span style="color:#383A42;--shiki-dark:#ABB2BF">:</span></span><span class="line"><span style="color:#E45649;--shiki-dark:#E06C75">  provider</span><span style="color:#383A42;--shiki-dark:#ABB2BF">: </span><span style="color:#50A14F;--shiki-dark:#98C379">custom</span></span><span class="line"><span style="color:#E45649;--shiki-dark:#E06C75">  url</span><span style="color:#383A42;--shiki-dark:#ABB2BF">: </span><span style="color:#50A14F;--shiki-dark:#98C379">https://umami-api.hpcesia.com/</span><span style="color:#A0A1A7;font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic"> # 换成你自己部署的 API 入口</span></span><span class="line"><span style="color:#E45649;--shiki-dark:#E06C75">  img</span><span style="color:#383A42;--shiki-dark:#ABB2BF">: </span><span style="color:#50A14F;--shiki-dark:#98C379">https://7.isyangs.cn/1/65eb2e9109826-1.png</span></span></code></pre></td></tr></tbody></table></figure><h3 id="底栏图片">底栏图片</h3><p>我参考的是下面这篇文章的修改方法：</p><a class="tag-link" href="https://blog.qjqq.cn/posts/f69c.html" rel="external nofollow noreferrer" target="_blank"><div class="tag-link-tips">引用站外链接</div><div class="tag-link-bottom"><div class="tag-link-left"><i class="solitude fas fa-link"></i></div><div class="tag-link-right"><div class="tag-link-title">给你的博客底部添加一排宠物</div><div class="tag-link-sitename">青桔气球</div></div><i class="solitude fas fa-chevron-right"></i></div></a><p>因为我不准备放小动物（目前放的是<ahref="https://bu.dusays.com/2024/11/05/6729fd1e96b9d.webp"><code>七七探头.webp</code></a>），因此稍微修改了一下，你可以直接看<ahref="https://github.com/HPCesia/hexo-theme-solitude/commit/7ab6caeec4506de7257ac7ab5a4bae2a7464eb9b">commit</a>来查看我的修改方式。</p><h3 id="memos-说说接入">Memos 说说接入</h3><p>参考的是：</p><a class="tag-link" href="https://blog.meuicat.cn/posts/d525bbc8.html" rel="external nofollow noreferrer" target="_blank"><div class="tag-link-tips">引用站外链接</div><div class="tag-link-bottom"><div class="tag-link-left"><i class="solitude fas fa-link"></i></div><div class="tag-link-right"><div class="tag-link-title">Solitude魔改教程：动态即刻短文</div><div class="tag-link-sitename">亦小封</div></div><i class="solitude fas fa-chevron-right"></i></div></a><p>根据 0.22 版本 Memos 的 API 变化和 Solitude主题的更新，做了一些修改，篇幅较长，单独开了一篇文章：</p><a class="tag-link" href="https://blog.hpcesia.com/posts/a604572f" target="_blank"><div class="tag-link-tips">引用站外链接</div><div class="tag-link-bottom"><div class="tag-link-left"><i class="solitude fas fa-link"></i></div><div class="tag-link-right"><div class="tag-link-title">在 Hexo 博客中接入新版 Memos</div><div class="tag-link-sitename">璜珀的小屋</div></div><i class="solitude fas fa-chevron-right"></i></div></a>]]></content:encoded>
      
      
      <category domain="https://blog.hpcesia.com/categories/%E5%B0%8F%E5%B1%8B%E7%9B%B8%E5%85%B3/">小屋相关</category>
      
      
      <category domain="https://blog.hpcesia.com/tags/Hexo/">Hexo</category>
      
      <category domain="https://blog.hpcesia.com/tags/%E5%8D%9A%E5%AE%A2/">博客</category>
      
      <category domain="https://blog.hpcesia.com/tags/Solitude/">Solitude</category>
      
      
      <comments>https://blog.hpcesia.com/posts/4ca8244b/#disqus_thread</comments>
      
    </item>
    
    <item>
      <title>VSCode + MSYS2 + Clang + Clangd + Xmake 配置优雅的 Windows C++ 开发环境</title>
      <link>https://blog.hpcesia.com/posts/ba9eeffb/</link>
      <guid>https://blog.hpcesia.com/posts/ba9eeffb/</guid>
      <pubDate>Sun, 13 Oct 2024 07:21:27 GMT</pubDate>
      
      <description>使用 VSCode + MSYS2 + Clang + Clangd + Xmake 搭建优雅的 Windows C++ 开发环境。</description>
      
      
      
      <content:encoded><![CDATA[<details><summary>更新日志</summary><div class="timeline"><span class="timeline-title"><div class="timenode"><div class="meta"><p>2024-10-13</p></div><div class="body"><p>发布文章。</p></div></div></div></details><h2 id="准备工作">准备工作</h2><p>由于我们最终是要使用 VSCode 而非 Visual Studio 进行 C++开发，因此本节 Clang 的安装将使用 MSYS2 + mingw-w64 进行。</p><h3 id="安装-msys2">安装 MSYS2</h3><p>在 <a href="https://github.com/msys2/msys2-installer/releases" rel="external nofollow noreferrer">GitHubRelease</a> 上下载最新版的 MSYS2 安装包。如果访问 GitHub有困难，也可以使用<ahref="https://mirrors.tuna.tsinghua.edu.cn/msys2/distrib/">清华镜像源</a>进行下载。</p><p>下载后打开安装程序，选择一个合适的路径，然后一路点 next即可安装完成。</p><p>打开 Windows Terminal，在设置中选择打开 JSON文件，然后将下列配置添加到打开的 JSON 文件中，注意更换 MSYS2路径为自己的安装路径： <figure class="highlight json"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre class="shiki shiki-themes one-light one-dark-pro"><span class="line"><span style="color:#50A14F;--shiki-dark:#98C379">"profiles"</span><span style="color:#383A42;--shiki-dark:#ABB2BF">: &#123;</span></span><span class="line"><span style="color:#E45649;--shiki-dark:#E06C75">  "list"</span><span style="color:#383A42;--shiki-dark:#ABB2BF">:</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">  [</span></span><span class="line"><span style="color:#A0A1A7;font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">    // ...</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">    &#123;</span></span><span class="line"><span style="color:#E45649;--shiki-dark:#E06C75">      "guid"</span><span style="color:#383A42;--shiki-dark:#ABB2BF">: </span><span style="color:#50A14F;--shiki-dark:#98C379">"&#123;17da3cac-b318-431e-8a3e-7fcdefe6d114&#125;"</span><span style="color:#383A42;--shiki-dark:#ABB2BF">,</span></span><span class="line"><span style="color:#E45649;--shiki-dark:#E06C75">      "name"</span><span style="color:#383A42;--shiki-dark:#ABB2BF">: </span><span style="color:#50A14F;--shiki-dark:#98C379">"Clang64 / MSYS2"</span><span style="color:#383A42;--shiki-dark:#ABB2BF">,</span></span><span class="line"><span style="color:#E45649;--shiki-dark:#E06C75">      "commandline"</span><span style="color:#383A42;--shiki-dark:#ABB2BF">: </span><span style="color:#50A14F;--shiki-dark:#98C379">"C:/msys64/msys2_shell.cmd -defterm -here -no-start -clang64"</span><span style="color:#383A42;--shiki-dark:#ABB2BF">,</span></span><span class="line"><span style="color:#E45649;--shiki-dark:#E06C75">      "startingDirectory"</span><span style="color:#383A42;--shiki-dark:#ABB2BF">: </span><span style="color:#50A14F;--shiki-dark:#98C379">"C:/msys64/home/%USERNAME%"</span><span style="color:#383A42;--shiki-dark:#ABB2BF">,</span></span><span class="line"><span style="color:#E45649;--shiki-dark:#E06C75">      "icon"</span><span style="color:#383A42;--shiki-dark:#ABB2BF">: </span><span style="color:#50A14F;--shiki-dark:#98C379">"C:/msys64/Clang64.ico"</span><span style="color:#383A42;--shiki-dark:#ABB2BF">,</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">    &#125;,</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">    &#123;</span></span><span class="line"><span style="color:#E45649;--shiki-dark:#E06C75">      "guid"</span><span style="color:#383A42;--shiki-dark:#ABB2BF">: </span><span style="color:#50A14F;--shiki-dark:#98C379">"&#123;71160544-14d8-4194-af25-d05feeac7233&#125;"</span><span style="color:#383A42;--shiki-dark:#ABB2BF">,</span></span><span class="line"><span style="color:#E45649;--shiki-dark:#E06C75">      "name"</span><span style="color:#383A42;--shiki-dark:#ABB2BF">: </span><span style="color:#50A14F;--shiki-dark:#98C379">"MSYS / MSYS2"</span><span style="color:#383A42;--shiki-dark:#ABB2BF">,</span></span><span class="line"><span style="color:#E45649;--shiki-dark:#E06C75">      "commandline"</span><span style="color:#383A42;--shiki-dark:#ABB2BF">: </span><span style="color:#50A14F;--shiki-dark:#98C379">"C:/msys64/msys2_shell.cmd -defterm -here -no-start -msys"</span><span style="color:#383A42;--shiki-dark:#ABB2BF">,</span></span><span class="line"><span style="color:#E45649;--shiki-dark:#E06C75">      "startingDirectory"</span><span style="color:#383A42;--shiki-dark:#ABB2BF">: </span><span style="color:#50A14F;--shiki-dark:#98C379">"C:/msys64/home/%USERNAME%"</span><span style="color:#383A42;--shiki-dark:#ABB2BF">,</span></span><span class="line"><span style="color:#E45649;--shiki-dark:#E06C75">      "icon"</span><span style="color:#383A42;--shiki-dark:#ABB2BF">: </span><span style="color:#50A14F;--shiki-dark:#98C379">"C:/msys64/msys2.ico"</span><span style="color:#383A42;--shiki-dark:#ABB2BF">,</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">    &#125;,</span></span><span class="line"><span style="color:#A0A1A7;font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">    // ...</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">  ]</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">&#125;</span></span></code></pre></td></tr></tbody></table></figure> 接着在 Windows Terminal中打开刚刚设置的 Clang64 / MSYS2 界面，在终端中输入 <figure class="highlight shell"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre class="shiki shiki-themes one-light one-dark-pro"><span class="line"><span style="color:#4078F2;--shiki-dark:#61AFEF">sed</span><span style="color:#986801;--shiki-dark:#D19A66"> -i</span><span style="color:#50A14F;--shiki-dark:#98C379"> "s#https\?://mirror.msys2.org/#https://mirrors.tuna.tsinghua.edu.cn/msys2/#g"</span><span style="color:#50A14F;--shiki-dark:#98C379"> /etc/pacman.d/mirrorlist</span><span style="color:#E45649;--shiki-dark:#E5C07B">*</span></span></code></pre></td></tr></tbody></table></figure> 将MSYS2 的包仓库更换为清华镜像源，然后输入 <figure class="highlight shell"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre class="shiki shiki-themes one-light one-dark-pro"><span class="line"><span style="color:#4078F2;--shiki-dark:#61AFEF">pacman</span><span style="color:#986801;--shiki-dark:#D19A66"> -Syu</span></span></code></pre></td></tr></tbody></table></figure> 更新系统。</p><h3 id="安装-clang-工具链">安装 Clang 工具链</h3><div class="note warning modern"><i class="solitude fas fa-info-circle"></i><p>clang 应当安装在 clang64 环境下，否则会导致 clangd 识别头文件出错</p></div><p>在 Clang64 / MSYS2 命令行中输入 <figure class="highlight shell"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre class="shiki shiki-themes one-light one-dark-pro"><span class="line"><span style="color:#4078F2;--shiki-dark:#61AFEF">pacman</span><span style="color:#986801;--shiki-dark:#D19A66"> -S</span><span style="color:#50A14F;--shiki-dark:#98C379"> mingw-w64-clang-x86_64-toolchain</span></span></code></pre></td></tr></tbody></table></figure> 即可安装 clang工具链。</p><h3 id="安装-xmake">安装 Xmake</h3><div class="tabs" id="xmake安装,"><ul class="nav-tabs"><li class="tab active"><button type="button" data-href="#xmake安装,-0">Windows 安装包</button></li><li class="tab"><button type="button" data-href="#xmake安装,-1">winget</button></li><li class="tab"><button type="button" data-href="#xmake安装,-2">msys2</button></li></ul><div class="tab-contents"><div class="tab-item-content active" id="xmake安装,-0"><p>在 <a href="https://github.com/xmake-io/xmake/releases" rel="external nofollow noreferrer">Release</a>上下载最新版的 xmake-master.win64.exe，安装即可。</p><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="solitude fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="xmake安装,-1"><p>在终端输入 <figure class="highlight shell"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre class="shiki shiki-themes one-light one-dark-pro"><span class="line"><span style="color:#4078F2;--shiki-dark:#61AFEF">winget</span><span style="color:#50A14F;--shiki-dark:#98C379"> install</span><span style="color:#50A14F;--shiki-dark:#98C379"> xmake</span></span></code></pre></td></tr></tbody></table></figure> 即可安装 Xmake。</p><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="solitude fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="xmake安装,-2"><p>在 Clang64 / MSYS2 命令行中输入 <figure class="highlight shell"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre class="shiki shiki-themes one-light one-dark-pro"><span class="line"><span style="color:#4078F2;--shiki-dark:#61AFEF">pacman</span><span style="color:#986801;--shiki-dark:#D19A66"> -Sy</span><span style="color:#50A14F;--shiki-dark:#98C379"> mingw-w64-x86_64-xmake</span></span></code></pre></td></tr></tbody></table></figure> 即可安装 Xmake。</p><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="solitude fas fa-arrow-up"></i></button></div></div></div><h3 id="安装-vscode-插件">安装 VSCode 插件</h3><p>在 VSCode 的扩展选项卡搜索 Clangd、CodeLLDB、Xmake 并安装。</p><p>CodeLLDB的安装过程中会下载一个文件，国内网络大概率下载失败，可以点击弹出消息的手动下载按钮，然后再从VSIX 安装下载的包。</p><h2 id="配置">配置</h2><h3 id="vscode-配置">VSCode 配置</h3><p>在 VSCode 的 setting.json 中添加如下内容： <figure class="highlight json"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre class="shiki shiki-themes one-light one-dark-pro"><span class="line"><span style="color:#A0A1A7;font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">// Xmake</span></span><span class="line"><span style="color:#50A14F;--shiki-dark:#98C379">"xmake.debugConfigType"</span><span style="color:#383A42;--shiki-dark:#ABB2BF">: </span><span style="color:#50A14F;--shiki-dark:#98C379">"codelldb"</span><span style="color:#383A42;--shiki-dark:#ABB2BF">, </span><span style="color:#A0A1A7;font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">// 使用 codelldb 插件而非 cpptools 进行调试</span></span><span class="line"><span style="color:#50A14F;--shiki-dark:#98C379">"xmake.runMode"</span><span style="color:#383A42;--shiki-dark:#ABB2BF">: </span><span style="color:#50A14F;--shiki-dark:#98C379">"buildRun"</span><span style="color:#383A42;--shiki-dark:#ABB2BF">, </span><span style="color:#A0A1A7;font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">// 运行前自动 build</span></span><span class="line"><span style="color:#50A14F;--shiki-dark:#98C379">"xmake.buildLevel"</span><span style="color:#383A42;--shiki-dark:#ABB2BF">: </span><span style="color:#50A14F;--shiki-dark:#98C379">"verbose"</span><span style="color:#383A42;--shiki-dark:#ABB2BF">, </span><span style="color:#A0A1A7;font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">// 设置编译时输出信息级别,默认是warnings级别,仅输出编译警告信息以及正常信息,verbose级别输出完整的编译命令行参数,debug级别对应 xmake -vD 的诊断信息，会打印出错的栈信息</span></span><span class="line"><span style="color:#50A14F;--shiki-dark:#98C379">"xmake.customDebugConfig"</span><span style="color:#383A42;--shiki-dark:#ABB2BF">: &#123;</span></span><span class="line"><span style="color:#E45649;--shiki-dark:#E06C75">    "console"</span><span style="color:#383A42;--shiki-dark:#ABB2BF">: </span><span style="color:#50A14F;--shiki-dark:#98C379">"integratedTerminal"</span><span style="color:#A0A1A7;font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic"> // XMake调试时使用集成终端而非 debug console,也可以使用 externalTerminal</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">&#125;,</span></span><span class="line"><span style="color:#A0A1A7;font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">// Clangd</span></span><span class="line"><span style="color:#50A14F;--shiki-dark:#98C379">"clangd.path"</span><span style="color:#383A42;--shiki-dark:#ABB2BF">: </span><span style="color:#50A14F;--shiki-dark:#98C379">"C:/msys64/clang64/bin/clangd.exe"</span><span style="color:#383A42;--shiki-dark:#ABB2BF">, </span><span style="color:#A0A1A7;font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">// Clangd 文件位置</span></span><span class="line"><span style="color:#50A14F;--shiki-dark:#98C379">"clangd.arguments"</span><span style="color:#383A42;--shiki-dark:#ABB2BF">: [</span></span><span class="line"><span style="color:#50A14F;--shiki-dark:#98C379">  "--all-scopes-completion"</span><span style="color:#383A42;--shiki-dark:#ABB2BF">, </span><span style="color:#A0A1A7;font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">// 全局补全(补全建议会给出在当前作用域不可见的索引,插入后自动补充作用域标识符),例如在main()中直接写cout,即使没有`#include &#x3C;iostream>`,也会给出`std::cout`的建议,配合"--header-insertion=iwyu",还可自动插入缺失的头文件</span></span><span class="line"><span style="color:#50A14F;--shiki-dark:#98C379">  "--background-index"</span><span style="color:#383A42;--shiki-dark:#ABB2BF">, </span><span style="color:#A0A1A7;font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">// 后台分析并保存索引文件</span></span><span class="line"><span style="color:#50A14F;--shiki-dark:#98C379">  "--clang-tidy"</span><span style="color:#383A42;--shiki-dark:#ABB2BF">, </span><span style="color:#A0A1A7;font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">// 启用 Clang-Tidy 以提供「静态检查」</span></span><span class="line"><span style="color:#50A14F;--shiki-dark:#98C379">  "--clang-tidy-checks=performance-*, bugprone-*, misc-*, google-*, modernize-*, readability-*, portability-*"</span><span style="color:#383A42;--shiki-dark:#ABB2BF">,</span></span><span class="line"><span style="color:#50A14F;--shiki-dark:#98C379">  "--compile-commands-dir=$&#123;workspaceFolder&#125;/.vscode"</span><span style="color:#383A42;--shiki-dark:#ABB2BF">, </span><span style="color:#A0A1A7;font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">// 编译数据库(compile_commands.json 文件)的目录位置</span></span><span class="line"><span style="color:#50A14F;--shiki-dark:#98C379">  "--completion-parse=auto"</span><span style="color:#383A42;--shiki-dark:#ABB2BF">, </span><span style="color:#A0A1A7;font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">// 当 clangd 准备就绪时，用它来分析建议</span></span><span class="line"><span style="color:#50A14F;--shiki-dark:#98C379">  "--completion-style=detailed"</span><span style="color:#383A42;--shiki-dark:#ABB2BF">, </span><span style="color:#A0A1A7;font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">// 建议风格：打包(重载函数只会给出一个建议);还可以设置为 detailed</span></span><span class="line"><span style="color:#50A14F;--shiki-dark:#98C379">  "--enable-config"</span><span style="color:#383A42;--shiki-dark:#ABB2BF">, </span><span style="color:#A0A1A7;font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">// 启用配置文件(YAML格式)</span></span><span class="line"><span style="color:#50A14F;--shiki-dark:#98C379">  "--fallback-style=LLVM"</span><span style="color:#383A42;--shiki-dark:#ABB2BF">, </span><span style="color:#A0A1A7;font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">// 默认格式化风格: 在没找到 .clang-format 文件时采用,可用的有 LLVM, Google, Chromium, Mozilla, Webkit, Microsoft, GNU</span></span><span class="line"><span style="color:#50A14F;--shiki-dark:#98C379">  "--function-arg-placeholders=true"</span><span style="color:#383A42;--shiki-dark:#ABB2BF">, </span><span style="color:#A0A1A7;font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">// 补全函数时，将会给参数提供占位符，键入后按 Tab 可以切换到下一占位符，乃至函数末</span></span><span class="line"><span style="color:#50A14F;--shiki-dark:#98C379">  "--header-insertion-decorators"</span><span style="color:#383A42;--shiki-dark:#ABB2BF">, </span><span style="color:#A0A1A7;font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">// 输入建议中，已包含头文件的项与还未包含头文件的项会以圆点加以区分</span></span><span class="line"><span style="color:#50A14F;--shiki-dark:#98C379">  "--header-insertion=never"</span><span style="color:#383A42;--shiki-dark:#ABB2BF">, </span><span style="color:#A0A1A7;font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">// 插入建议时不自动引入头文件</span></span><span class="line"><span style="color:#50A14F;--shiki-dark:#98C379">  "--log=verbose"</span><span style="color:#383A42;--shiki-dark:#ABB2BF">, </span><span style="color:#A0A1A7;font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">// 让 Clangd 生成更详细的日志</span></span><span class="line"><span style="color:#50A14F;--shiki-dark:#98C379">  "--pch-storage=memory"</span><span style="color:#383A42;--shiki-dark:#ABB2BF">, </span><span style="color:#A0A1A7;font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">// pch 优化的位置(Memory 或 Disk,前者会增加内存开销，但会提升性能)</span></span><span class="line"><span style="color:#50A14F;--shiki-dark:#98C379">  "--pretty"</span><span style="color:#383A42;--shiki-dark:#ABB2BF">, </span><span style="color:#A0A1A7;font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">// 输出的 JSON 文件更美观</span></span><span class="line"><span style="color:#50A14F;--shiki-dark:#98C379">  "--ranking-model=decision_forest"</span><span style="color:#383A42;--shiki-dark:#ABB2BF">, </span><span style="color:#A0A1A7;font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">// 建议的排序方案：hueristics (启发式), decision_forest (决策树)</span></span><span class="line"><span style="color:#50A14F;--shiki-dark:#98C379">  "-j=12"</span><span style="color:#383A42;--shiki-dark:#ABB2BF">, </span><span style="color:#A0A1A7;font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">// 同时开启的任务数量</span></span><span class="line"><span style="color:#50A14F;--shiki-dark:#98C379">  "--query-driver=C:/msys64/clang64/bin/clang*"</span><span style="color:#A0A1A7;font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic"> // clang 编译器的路径（设置错误会导致 clangd 无法识别标准库）</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">],</span></span><span class="line"><span style="color:#50A14F;--shiki-dark:#98C379">"clangd.checkUpdates"</span><span style="color:#383A42;--shiki-dark:#ABB2BF">: </span><span style="color:#0184BC;--shiki-dark:#D19A66">true</span><span style="color:#383A42;--shiki-dark:#ABB2BF">, </span><span style="color:#A0A1A7;font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">// 自动检测 clangd 更新</span></span><span class="line"><span style="color:#50A14F;--shiki-dark:#98C379">"clangd.onConfigChanged"</span><span style="color:#383A42;--shiki-dark:#ABB2BF">: </span><span style="color:#50A14F;--shiki-dark:#98C379">"restart"</span><span style="color:#383A42;--shiki-dark:#ABB2BF">, </span><span style="color:#A0A1A7;font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">// 借助网上的信息排序建议</span></span><span class="line"><span style="color:#50A14F;--shiki-dark:#98C379">"clangd.detectExtensionConflicts"</span><span style="color:#383A42;--shiki-dark:#ABB2BF">: </span><span style="color:#0184BC;--shiki-dark:#D19A66">true</span><span style="color:#383A42;--shiki-dark:#ABB2BF">, </span><span style="color:#A0A1A7;font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">// 当其它拓展与 clangd 冲突时警告并建议禁用</span></span><span class="line"><span style="color:#50A14F;--shiki-dark:#98C379">"editor.suggest.snippetsPreventQuickSuggestions"</span><span style="color:#383A42;--shiki-dark:#ABB2BF">: </span><span style="color:#0184BC;--shiki-dark:#D19A66">false</span><span style="color:#383A42;--shiki-dark:#ABB2BF">, </span><span style="color:#A0A1A7;font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">// clangd的snippets有很多的跳转点，不用这个就必须手动触发Intellisense了</span></span><span class="line"><span style="color:#A0A1A7;font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">// LLDB</span></span><span class="line"><span style="color:#50A14F;--shiki-dark:#98C379">"lldb.commandCompletions"</span><span style="color:#383A42;--shiki-dark:#ABB2BF">: </span><span style="color:#0184BC;--shiki-dark:#D19A66">true</span><span style="color:#383A42;--shiki-dark:#ABB2BF">, </span><span style="color:#A0A1A7;font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">// LLDB 指令自动补全</span></span><span class="line"><span style="color:#50A14F;--shiki-dark:#98C379">"lldb.dereferencePointers"</span><span style="color:#383A42;--shiki-dark:#ABB2BF">: </span><span style="color:#0184BC;--shiki-dark:#D19A66">true</span><span style="color:#383A42;--shiki-dark:#ABB2BF">, </span><span style="color:#A0A1A7;font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">// LLDB 指针显示解引用内容</span></span><span class="line"><span style="color:#50A14F;--shiki-dark:#98C379">"lldb.evaluateForHovers"</span><span style="color:#383A42;--shiki-dark:#ABB2BF">: </span><span style="color:#0184BC;--shiki-dark:#D19A66">true</span><span style="color:#383A42;--shiki-dark:#ABB2BF">, </span><span style="color:#A0A1A7;font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">// LLDB 鼠标悬停在变量上时预览变量值</span></span><span class="line"><span style="color:#50A14F;--shiki-dark:#98C379">"lldb.launch.expressions"</span><span style="color:#383A42;--shiki-dark:#ABB2BF">: </span><span style="color:#50A14F;--shiki-dark:#98C379">"native"</span><span style="color:#383A42;--shiki-dark:#ABB2BF">, </span><span style="color:#A0A1A7;font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">// LLDB 监视表达式的默认类型</span></span><span class="line"><span style="color:#50A14F;--shiki-dark:#98C379">"lldb.showDisassembly"</span><span style="color:#383A42;--shiki-dark:#ABB2BF">: </span><span style="color:#50A14F;--shiki-dark:#98C379">"never"</span><span style="color:#383A42;--shiki-dark:#ABB2BF">, </span><span style="color:#A0A1A7;font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">// LLDB 不显示汇编代码</span></span><span class="line"><span style="color:#50A14F;--shiki-dark:#98C379">"lldb.verboseLogging"</span><span style="color:#383A42;--shiki-dark:#ABB2BF">: </span><span style="color:#0184BC;--shiki-dark:#D19A66">true</span><span style="color:#383A42;--shiki-dark:#ABB2BF">,</span></span></code></pre></td></tr></tbody></table></figure>接下来，就可以创建一个空文件夹，作为自己的一个 C++ 测试项目了。</p><h3 id="项目配置文件">项目配置文件</h3><p>在项目根目录下新建 <code>.clangd</code>、<code>.clang-tidy</code> 和<code>.clang-format</code> 三个文件，分别填入如下内容：</p><ul><li><p><code>.clangd</code> 文件： 文件中<code>readability-identifier-naming</code> 部分请参阅<ahref="https://clang.llvm.org/extra/clang-tidy/checks/readability/identifier-naming.html">官方文档</a>进行个性化修改。<figure class="highlight yaml"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br></pre></td><td class="code"><pre class="shiki shiki-themes one-light one-dark-pro"><span class="line"><span style="color:#E45649;--shiki-dark:#E06C75">Diagnostics</span><span style="color:#383A42;--shiki-dark:#ABB2BF">:</span></span><span class="line"><span style="color:#E45649;--shiki-dark:#E06C75">  ClangTidy</span><span style="color:#383A42;--shiki-dark:#ABB2BF">:</span></span><span class="line"><span style="color:#E45649;--shiki-dark:#E06C75">    Add</span><span style="color:#383A42;--shiki-dark:#ABB2BF">:</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">      [</span></span><span class="line"><span style="color:#50A14F;--shiki-dark:#98C379">        readability-identifier*</span><span style="color:#383A42;--shiki-dark:#ABB2BF">,</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">      ]</span></span><span class="line"><span style="color:#E45649;--shiki-dark:#E06C75">    CheckOptions</span><span style="color:#383A42;--shiki-dark:#ABB2BF">:</span></span><span class="line"><span style="color:#A0A1A7;font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">      # 变量命名规则</span></span><span class="line"><span style="color:#A0A1A7;font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">      # 详细请参考官方文档 https://clang.llvm.org/extra/clang-tidy/checks/readability/identifier-naming.html</span></span><span class="line"><span style="color:#E45649;--shiki-dark:#E06C75">      readability-identifier-naming.VariableCase</span><span style="color:#383A42;--shiki-dark:#ABB2BF">: </span><span style="color:#50A14F;--shiki-dark:#98C379">lower_case</span></span><span class="line"><span style="color:#E45649;--shiki-dark:#E06C75">      readability-identifier-naming.GlobalVariableCase</span><span style="color:#383A42;--shiki-dark:#ABB2BF">: </span><span style="color:#50A14F;--shiki-dark:#98C379">lower_case</span></span><span class="line"><span style="color:#E45649;--shiki-dark:#E06C75">      readability-identifier-naming.GlobalVariablePrefix</span><span style="color:#383A42;--shiki-dark:#ABB2BF">: </span><span style="color:#50A14F;--shiki-dark:#98C379">g_</span></span><span class="line"></span><span class="line"><span style="color:#E45649;--shiki-dark:#E06C75">      readability-identifier-naming.MemberPrefix</span><span style="color:#383A42;--shiki-dark:#ABB2BF">: </span><span style="color:#50A14F;--shiki-dark:#98C379">m_</span></span><span class="line"><span style="color:#E45649;--shiki-dark:#E06C75">      readability-identifier-naming.MemberCase</span><span style="color:#383A42;--shiki-dark:#ABB2BF">: </span><span style="color:#50A14F;--shiki-dark:#98C379">lower_case</span></span><span class="line"><span style="color:#E45649;--shiki-dark:#E06C75">      readability-identifier-naming.ClassMemberPrefix</span><span style="color:#383A42;--shiki-dark:#ABB2BF">: </span><span style="color:#50A14F;--shiki-dark:#98C379">m_</span></span><span class="line"><span style="color:#E45649;--shiki-dark:#E06C75">      readability-identifier-naming.ClassMemberCase</span><span style="color:#383A42;--shiki-dark:#ABB2BF">: </span><span style="color:#50A14F;--shiki-dark:#98C379">lower_case</span></span><span class="line"></span><span class="line"><span style="color:#E45649;--shiki-dark:#E06C75">      readability-identifier-naming.EnumCase</span><span style="color:#383A42;--shiki-dark:#ABB2BF">: </span><span style="color:#50A14F;--shiki-dark:#98C379">UPPER_CASE</span></span><span class="line"><span style="color:#E45649;--shiki-dark:#E06C75">      readability-identifier-naming.EnumConstantCase</span><span style="color:#383A42;--shiki-dark:#ABB2BF">: </span><span style="color:#50A14F;--shiki-dark:#98C379">UPPER_CASE</span></span><span class="line"><span style="color:#E45649;--shiki-dark:#E06C75">      readability-identifier-naming.MacroDefinitionCase</span><span style="color:#383A42;--shiki-dark:#ABB2BF">: </span><span style="color:#50A14F;--shiki-dark:#98C379">UPPER_CASE</span></span><span class="line"></span><span class="line"><span style="color:#E45649;--shiki-dark:#E06C75">      readability-identifier-naming.ClassCase</span><span style="color:#383A42;--shiki-dark:#ABB2BF">: </span><span style="color:#50A14F;--shiki-dark:#98C379">CamelCase</span></span><span class="line"><span style="color:#E45649;--shiki-dark:#E06C75">      readability-identifier-naming.StructCase</span><span style="color:#383A42;--shiki-dark:#ABB2BF">: </span><span style="color:#50A14F;--shiki-dark:#98C379">Camelcase</span></span><span class="line"></span><span class="line"><span style="color:#E45649;--shiki-dark:#E06C75">      readability-identifier-naming.FunctionCase</span><span style="color:#383A42;--shiki-dark:#ABB2BF">: </span><span style="color:#50A14F;--shiki-dark:#98C379">camelCase</span></span><span class="line"><span style="color:#E45649;--shiki-dark:#E06C75">      readability-identifier-naming.ClassMethodCase</span><span style="color:#383A42;--shiki-dark:#ABB2BF">: </span><span style="color:#50A14F;--shiki-dark:#98C379">camelCase</span></span><span class="line"><span style="color:#E45649;--shiki-dark:#E06C75">      readability-identifier-naming.MethodCase</span><span style="color:#383A42;--shiki-dark:#ABB2BF">: </span><span style="color:#50A14F;--shiki-dark:#98C379">camelCase</span></span><span class="line"></span><span class="line"><span style="color:#E45649;--shiki-dark:#E06C75">      readability-identifier-naming.ConstantCase</span><span style="color:#383A42;--shiki-dark:#ABB2BF">: </span><span style="color:#50A14F;--shiki-dark:#98C379">UPPER_CASE</span></span><span class="line"><span style="color:#E45649;--shiki-dark:#E06C75">      readability-identifier-naming.ConstantParameterCase</span><span style="color:#383A42;--shiki-dark:#ABB2BF">: </span><span style="color:#50A14F;--shiki-dark:#98C379">camel_Snake_Back</span></span><span class="line"></span><span class="line"><span style="color:#E45649;--shiki-dark:#E06C75">CompileFlags</span><span style="color:#383A42;--shiki-dark:#ABB2BF">:</span></span><span class="line"><span style="color:#E45649;--shiki-dark:#E06C75">  Add</span><span style="color:#383A42;--shiki-dark:#ABB2BF">:</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">    - </span><span style="color:#50A14F;--shiki-dark:#98C379">"-pedantic"</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">    - </span><span style="color:#50A14F;--shiki-dark:#98C379">"-Wall"</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">    - </span><span style="color:#50A14F;--shiki-dark:#98C379">"-Wextra"</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">    - </span><span style="color:#50A14F;--shiki-dark:#98C379">"-Wcast-align"</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">    - </span><span style="color:#50A14F;--shiki-dark:#98C379">"-Wdouble-promotion"</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">    - </span><span style="color:#50A14F;--shiki-dark:#98C379">"-Wformat=2"</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">    - </span><span style="color:#50A14F;--shiki-dark:#98C379">"-Wimplicit-fallthrough"</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">    - </span><span style="color:#50A14F;--shiki-dark:#98C379">"-Wmisleading-indentation"</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">    - </span><span style="color:#50A14F;--shiki-dark:#98C379">"-Wnon-virtual-dtor"</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">    - </span><span style="color:#50A14F;--shiki-dark:#98C379">"-Wnull-dereference"</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">    - </span><span style="color:#50A14F;--shiki-dark:#98C379">"-Wold-style-cast"</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">    - </span><span style="color:#50A14F;--shiki-dark:#98C379">"-Woverloaded-virtual"</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">    - </span><span style="color:#50A14F;--shiki-dark:#98C379">"-Wpedantic"</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">    - </span><span style="color:#50A14F;--shiki-dark:#98C379">"-Wshadow"</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">    - </span><span style="color:#50A14F;--shiki-dark:#98C379">"-Wunused"</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">    - </span><span style="color:#50A14F;--shiki-dark:#98C379">"-pthread"</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">    - </span><span style="color:#50A14F;--shiki-dark:#98C379">"-fuse-ld=lld"</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">    - </span><span style="color:#50A14F;--shiki-dark:#98C379">"-fsanitize=address"</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">    - </span><span style="color:#50A14F;--shiki-dark:#98C379">"-fsanitize=undefined"</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">    - </span><span style="color:#50A14F;--shiki-dark:#98C379">"-stdlib=libc++"</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">    - </span><span style="color:#50A14F;--shiki-dark:#98C379">"-std=c++20"</span><span style="color:#A0A1A7;font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic"> # 根据实际需要填写</span></span></code></pre></td></tr></tbody></table></figure></p></li><li><p><code>.clang-tidy</code> 文件： <figure class="highlight yaml"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre class="shiki shiki-themes one-light one-dark-pro"><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">---</span></span><span class="line"><span style="color:#E45649;--shiki-dark:#E06C75">Checks</span><span style="color:#383A42;--shiki-dark:#ABB2BF">: </span><span style="color:#50A14F;--shiki-dark:#98C379">"bugprone-*,</span><span style="color:#0184BC;--shiki-dark:#56B6C2">\</span></span><span class="line"><span style="color:#50A14F;--shiki-dark:#98C379">google-*,</span><span style="color:#0184BC;--shiki-dark:#56B6C2">\</span></span><span class="line"><span style="color:#50A14F;--shiki-dark:#98C379">misc-*,</span><span style="color:#0184BC;--shiki-dark:#56B6C2">\</span></span><span class="line"><span style="color:#50A14F;--shiki-dark:#98C379">modernize-*,</span><span style="color:#0184BC;--shiki-dark:#56B6C2">\</span></span><span class="line"><span style="color:#50A14F;--shiki-dark:#98C379">performance-*,</span><span style="color:#0184BC;--shiki-dark:#56B6C2">\</span></span><span class="line"><span style="color:#50A14F;--shiki-dark:#98C379">readability-*,</span><span style="color:#0184BC;--shiki-dark:#56B6C2">\</span></span><span class="line"><span style="color:#50A14F;--shiki-dark:#98C379">portability-*,</span><span style="color:#0184BC;--shiki-dark:#56B6C2">\</span></span><span class="line"><span style="color:#50A14F;--shiki-dark:#98C379">"</span></span><span class="line"><span style="color:#E45649;--shiki-dark:#E06C75">HeaderFilterRegex</span><span style="color:#383A42;--shiki-dark:#ABB2BF">: </span><span style="color:#50A14F;--shiki-dark:#98C379">'Source/cm[^/]*\.(h|hxx|cxx)$'</span></span><span class="line"><span style="color:#E45649;--shiki-dark:#E06C75">CheckOptions</span><span style="color:#383A42;--shiki-dark:#ABB2BF">:</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">  - </span><span style="color:#E45649;--shiki-dark:#E06C75">key</span><span style="color:#383A42;--shiki-dark:#ABB2BF">:   </span><span style="color:#50A14F;--shiki-dark:#98C379">modernize-use-default-member-init.UseAssignment</span></span><span class="line"><span style="color:#E45649;--shiki-dark:#E06C75">    value</span><span style="color:#383A42;--shiki-dark:#ABB2BF">: </span><span style="color:#50A14F;--shiki-dark:#98C379">'1'</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">  - </span><span style="color:#E45649;--shiki-dark:#E06C75">key</span><span style="color:#383A42;--shiki-dark:#ABB2BF">:   </span><span style="color:#50A14F;--shiki-dark:#98C379">modernize-use-equals-default.IgnoreMacros</span></span><span class="line"><span style="color:#E45649;--shiki-dark:#E06C75">    value</span><span style="color:#383A42;--shiki-dark:#ABB2BF">: </span><span style="color:#50A14F;--shiki-dark:#98C379">'0'</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">  - </span><span style="color:#E45649;--shiki-dark:#E06C75">key</span><span style="color:#383A42;--shiki-dark:#ABB2BF">:   </span><span style="color:#50A14F;--shiki-dark:#98C379">modernize-use-auto.MinTypeNameLength</span></span><span class="line"><span style="color:#E45649;--shiki-dark:#E06C75">    value</span><span style="color:#383A42;--shiki-dark:#ABB2BF">: </span><span style="color:#50A14F;--shiki-dark:#98C379">'80'</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">...</span></span></code></pre></td></tr></tbody></table></figure></p></li><li><p><code>.clang-format</code> 文件： 可以取消<code>BasedOnStyle</code> 项的注释，然后只保留少数自定义修改。<figure class="highlight yaml"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br><span class="line">222</span><br><span class="line">223</span><br><span class="line">224</span><br><span class="line">225</span><br><span class="line">226</span><br><span class="line">227</span><br><span class="line">228</span><br><span class="line">229</span><br><span class="line">230</span><br><span class="line">231</span><br><span class="line">232</span><br><span class="line">233</span><br><span class="line">234</span><br><span class="line">235</span><br><span class="line">236</span><br><span class="line">237</span><br><span class="line">238</span><br><span class="line">239</span><br><span class="line">240</span><br><span class="line">241</span><br><span class="line">242</span><br><span class="line">243</span><br><span class="line">244</span><br><span class="line">245</span><br><span class="line">246</span><br><span class="line">247</span><br><span class="line">248</span><br><span class="line">249</span><br><span class="line">250</span><br><span class="line">251</span><br><span class="line">252</span><br><span class="line">253</span><br><span class="line">254</span><br><span class="line">255</span><br><span class="line">256</span><br><span class="line">257</span><br><span class="line">258</span><br><span class="line">259</span><br><span class="line">260</span><br><span class="line">261</span><br><span class="line">262</span><br><span class="line">263</span><br><span class="line">264</span><br><span class="line">265</span><br><span class="line">266</span><br><span class="line">267</span><br><span class="line">268</span><br><span class="line">269</span><br><span class="line">270</span><br><span class="line">271</span><br><span class="line">272</span><br><span class="line">273</span><br><span class="line">274</span><br><span class="line">275</span><br><span class="line">276</span><br><span class="line">277</span><br><span class="line">278</span><br></pre></td><td class="code"><pre class="shiki shiki-themes one-light one-dark-pro"><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">---</span></span><span class="line"><span style="color:#A0A1A7;font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic"># 语言: None, Cpp, Java, JavaScript, ObjC, Proto, TableGen, TextProto</span></span><span class="line"><span style="color:#E45649;--shiki-dark:#E06C75">Language</span><span style="color:#383A42;--shiki-dark:#ABB2BF">:        </span><span style="color:#50A14F;--shiki-dark:#98C379">Cpp</span></span><span class="line"><span style="color:#A0A1A7;font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic"># 基础风格</span></span><span class="line"><span style="color:#A0A1A7;font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic"># BasedOnStyle:  LLVM</span></span><span class="line"><span style="color:#A0A1A7;font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic"># 访问说明符(public、private等)的偏移</span></span><span class="line"><span style="color:#E45649;--shiki-dark:#E06C75">AccessModifierOffset</span><span style="color:#383A42;--shiki-dark:#ABB2BF">: </span><span style="color:#986801;--shiki-dark:#D19A66">-4</span></span><span class="line"><span style="color:#A0A1A7;font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic"># 开括号(开圆括号、开尖括号、开方括号)后的对齐: Align, DontAlign, AlwaysBreak(总是在开括号后换行)</span></span><span class="line"><span style="color:#E45649;--shiki-dark:#E06C75">AlignAfterOpenBracket</span><span style="color:#383A42;--shiki-dark:#ABB2BF">: </span><span style="color:#50A14F;--shiki-dark:#98C379">Align</span></span><span class="line"><span style="color:#A0A1A7;font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic"># 对齐数组列</span></span><span class="line"><span style="color:#E45649;--shiki-dark:#E06C75">AlignArrayOfStructures</span><span style="color:#383A42;--shiki-dark:#ABB2BF">: </span><span style="color:#50A14F;--shiki-dark:#98C379">None</span></span><span class="line"><span style="color:#A0A1A7;font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic"># 对齐连续宏定义</span></span><span class="line"><span style="color:#E45649;--shiki-dark:#E06C75">AlignConsecutiveMacros</span><span style="color:#383A42;--shiki-dark:#ABB2BF">: </span><span style="color:#50A14F;--shiki-dark:#98C379">None</span></span><span class="line"><span style="color:#A0A1A7;font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic"># 连续赋值时，对齐所有等号</span></span><span class="line"><span style="color:#E45649;--shiki-dark:#E06C75">AlignConsecutiveAssignments</span><span style="color:#383A42;--shiki-dark:#ABB2BF">: </span><span style="color:#50A14F;--shiki-dark:#98C379">None</span></span><span class="line"><span style="color:#A0A1A7;font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic"># 对齐连续位字段</span></span><span class="line"><span style="color:#E45649;--shiki-dark:#E06C75">AlignConsecutiveBitFields</span><span style="color:#383A42;--shiki-dark:#ABB2BF">: </span><span style="color:#50A14F;--shiki-dark:#98C379">None</span></span><span class="line"><span style="color:#A0A1A7;font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic"># 连续声明时，对齐所有声明的变量名</span></span><span class="line"><span style="color:#E45649;--shiki-dark:#E06C75">AlignConsecutiveDeclarations</span><span style="color:#383A42;--shiki-dark:#ABB2BF">: </span><span style="color:#50A14F;--shiki-dark:#98C379">None</span></span><span class="line"><span style="color:#A0A1A7;font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic"># 左对齐逃脱换行(使用反斜杠换行)的反斜杠</span></span><span class="line"><span style="color:#E45649;--shiki-dark:#E06C75">AlignEscapedNewlines</span><span style="color:#383A42;--shiki-dark:#ABB2BF">: </span><span style="color:#50A14F;--shiki-dark:#98C379">Left</span></span><span class="line"><span style="color:#A0A1A7;font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic"># 水平对齐二元和三元表达式的操作数</span></span><span class="line"><span style="color:#E45649;--shiki-dark:#E06C75">AlignOperands</span><span style="color:#383A42;--shiki-dark:#ABB2BF">:   </span><span style="color:#50A14F;--shiki-dark:#98C379">Align</span></span><span class="line"><span style="color:#A0A1A7;font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic"># 对齐连续的尾随的注释</span></span><span class="line"><span style="color:#E45649;--shiki-dark:#E06C75">AlignTrailingComments</span><span style="color:#383A42;--shiki-dark:#ABB2BF">: </span><span style="color:#986801;--shiki-dark:#D19A66">true</span></span><span class="line"><span style="color:#A0A1A7;font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic"># 允许函数声明的所有参数在放在下一行</span></span><span class="line"><span style="color:#E45649;--shiki-dark:#E06C75">AllowAllParametersOfDeclarationOnNextLine</span><span style="color:#383A42;--shiki-dark:#ABB2BF">: </span><span style="color:#986801;--shiki-dark:#D19A66">true</span></span><span class="line"><span style="color:#A0A1A7;font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic"># 允许短的枚举放在同一行</span></span><span class="line"><span style="color:#E45649;--shiki-dark:#E06C75">AllowShortEnumsOnASingleLine</span><span style="color:#383A42;--shiki-dark:#ABB2BF">: </span><span style="color:#986801;--shiki-dark:#D19A66">true</span></span><span class="line"><span style="color:#A0A1A7;font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic"># 允许短的块放在同一行</span></span><span class="line"><span style="color:#E45649;--shiki-dark:#E06C75">AllowShortBlocksOnASingleLine</span><span style="color:#383A42;--shiki-dark:#ABB2BF">: </span><span style="color:#50A14F;--shiki-dark:#98C379">Never</span></span><span class="line"><span style="color:#A0A1A7;font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic"># 允许短的case标签放在同一行</span></span><span class="line"><span style="color:#E45649;--shiki-dark:#E06C75">AllowShortCaseLabelsOnASingleLine</span><span style="color:#383A42;--shiki-dark:#ABB2BF">: </span><span style="color:#986801;--shiki-dark:#D19A66">false</span></span><span class="line"><span style="color:#A0A1A7;font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic"># 允许短的函数放在同一行</span></span><span class="line"><span style="color:#E45649;--shiki-dark:#E06C75">AllowShortFunctionsOnASingleLine</span><span style="color:#383A42;--shiki-dark:#ABB2BF">: </span><span style="color:#50A14F;--shiki-dark:#98C379">All</span></span><span class="line"><span style="color:#A0A1A7;font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic"># 允许短的匿名函数放在同一行</span></span><span class="line"><span style="color:#E45649;--shiki-dark:#E06C75">AllowShortLambdasOnASingleLine</span><span style="color:#383A42;--shiki-dark:#ABB2BF">: </span><span style="color:#50A14F;--shiki-dark:#98C379">All</span></span><span class="line"><span style="color:#A0A1A7;font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic"># 允许短的if语句保持在同一行</span></span><span class="line"><span style="color:#E45649;--shiki-dark:#E06C75">AllowShortIfStatementsOnASingleLine</span><span style="color:#383A42;--shiki-dark:#ABB2BF">: </span><span style="color:#50A14F;--shiki-dark:#98C379">Never</span></span><span class="line"><span style="color:#A0A1A7;font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic"># 允许短的循环保持在同一行</span></span><span class="line"><span style="color:#E45649;--shiki-dark:#E06C75">AllowShortLoopsOnASingleLine</span><span style="color:#383A42;--shiki-dark:#ABB2BF">: </span><span style="color:#986801;--shiki-dark:#D19A66">false</span></span><span class="line"><span style="color:#A0A1A7;font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic"># 总是在返回类型后换行</span></span><span class="line"><span style="color:#E45649;--shiki-dark:#E06C75">AlwaysBreakAfterReturnType</span><span style="color:#383A42;--shiki-dark:#ABB2BF">: </span><span style="color:#50A14F;--shiki-dark:#98C379">None</span></span><span class="line"><span style="color:#A0A1A7;font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic"># 总是在多行string字面量前换行</span></span><span class="line"><span style="color:#E45649;--shiki-dark:#E06C75">AlwaysBreakBeforeMultilineStrings</span><span style="color:#383A42;--shiki-dark:#ABB2BF">: </span><span style="color:#986801;--shiki-dark:#D19A66">false</span></span><span class="line"><span style="color:#A0A1A7;font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic"># 总是在template声明后换行</span></span><span class="line"><span style="color:#E45649;--shiki-dark:#E06C75">AlwaysBreakTemplateDeclarations</span><span style="color:#383A42;--shiki-dark:#ABB2BF">: </span><span style="color:#50A14F;--shiki-dark:#98C379">MultiLine</span></span><span class="line"><span style="color:#E45649;--shiki-dark:#E06C75">AttributeMacros</span><span style="color:#383A42;--shiki-dark:#ABB2BF">:</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">  - </span><span style="color:#50A14F;--shiki-dark:#98C379">__capability</span></span><span class="line"><span style="color:#A0A1A7;font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic"># false表示函数实参要么都在同一行，要么都各自一行</span></span><span class="line"><span style="color:#E45649;--shiki-dark:#E06C75">BinPackArguments</span><span style="color:#383A42;--shiki-dark:#ABB2BF">: </span><span style="color:#986801;--shiki-dark:#D19A66">true</span></span><span class="line"><span style="color:#A0A1A7;font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic"># false表示所有形参要么都在同一行，要么都各自一行</span></span><span class="line"><span style="color:#E45649;--shiki-dark:#E06C75">BinPackParameters</span><span style="color:#383A42;--shiki-dark:#ABB2BF">: </span><span style="color:#986801;--shiki-dark:#D19A66">true</span></span><span class="line"><span style="color:#A0A1A7;font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic"># 大括号换行，只有当BreakBeforeBraces设置为Custom时才有效</span></span><span class="line"><span style="color:#E45649;--shiki-dark:#E06C75">BraceWrapping</span><span style="color:#383A42;--shiki-dark:#ABB2BF">:</span></span><span class="line"><span style="color:#E45649;--shiki-dark:#E06C75">  AfterCaseLabel</span><span style="color:#383A42;--shiki-dark:#ABB2BF">:  </span><span style="color:#986801;--shiki-dark:#D19A66">false</span></span><span class="line"><span style="color:#E45649;--shiki-dark:#E06C75">  AfterClass</span><span style="color:#383A42;--shiki-dark:#ABB2BF">:      </span><span style="color:#986801;--shiki-dark:#D19A66">false</span></span><span class="line"><span style="color:#E45649;--shiki-dark:#E06C75">  AfterControlStatement</span><span style="color:#383A42;--shiki-dark:#ABB2BF">: </span><span style="color:#50A14F;--shiki-dark:#98C379">Never</span></span><span class="line"><span style="color:#E45649;--shiki-dark:#E06C75">  AfterEnum</span><span style="color:#383A42;--shiki-dark:#ABB2BF">:       </span><span style="color:#986801;--shiki-dark:#D19A66">false</span></span><span class="line"><span style="color:#E45649;--shiki-dark:#E06C75">  AfterFunction</span><span style="color:#383A42;--shiki-dark:#ABB2BF">:   </span><span style="color:#986801;--shiki-dark:#D19A66">false</span></span><span class="line"><span style="color:#E45649;--shiki-dark:#E06C75">  AfterNamespace</span><span style="color:#383A42;--shiki-dark:#ABB2BF">:  </span><span style="color:#986801;--shiki-dark:#D19A66">false</span></span><span class="line"><span style="color:#E45649;--shiki-dark:#E06C75">  AfterObjCDeclaration</span><span style="color:#383A42;--shiki-dark:#ABB2BF">: </span><span style="color:#986801;--shiki-dark:#D19A66">false</span></span><span class="line"><span style="color:#E45649;--shiki-dark:#E06C75">  AfterStruct</span><span style="color:#383A42;--shiki-dark:#ABB2BF">:     </span><span style="color:#986801;--shiki-dark:#D19A66">false</span></span><span class="line"><span style="color:#E45649;--shiki-dark:#E06C75">  AfterUnion</span><span style="color:#383A42;--shiki-dark:#ABB2BF">:      </span><span style="color:#986801;--shiki-dark:#D19A66">false</span></span><span class="line"><span style="color:#E45649;--shiki-dark:#E06C75">  AfterExternBlock</span><span style="color:#383A42;--shiki-dark:#ABB2BF">: </span><span style="color:#986801;--shiki-dark:#D19A66">false</span></span><span class="line"><span style="color:#E45649;--shiki-dark:#E06C75">  BeforeCatch</span><span style="color:#383A42;--shiki-dark:#ABB2BF">:     </span><span style="color:#986801;--shiki-dark:#D19A66">false</span></span><span class="line"><span style="color:#E45649;--shiki-dark:#E06C75">  BeforeElse</span><span style="color:#383A42;--shiki-dark:#ABB2BF">:      </span><span style="color:#986801;--shiki-dark:#D19A66">false</span></span><span class="line"><span style="color:#E45649;--shiki-dark:#E06C75">  BeforeLambdaBody</span><span style="color:#383A42;--shiki-dark:#ABB2BF">: </span><span style="color:#986801;--shiki-dark:#D19A66">false</span></span><span class="line"><span style="color:#E45649;--shiki-dark:#E06C75">  BeforeWhile</span><span style="color:#383A42;--shiki-dark:#ABB2BF">:     </span><span style="color:#986801;--shiki-dark:#D19A66">false</span></span><span class="line"><span style="color:#E45649;--shiki-dark:#E06C75">  IndentBraces</span><span style="color:#383A42;--shiki-dark:#ABB2BF">:    </span><span style="color:#986801;--shiki-dark:#D19A66">false</span></span><span class="line"><span style="color:#E45649;--shiki-dark:#E06C75">  SplitEmptyFunction</span><span style="color:#383A42;--shiki-dark:#ABB2BF">: </span><span style="color:#986801;--shiki-dark:#D19A66">true</span></span><span class="line"><span style="color:#E45649;--shiki-dark:#E06C75">  SplitEmptyRecord</span><span style="color:#383A42;--shiki-dark:#ABB2BF">: </span><span style="color:#986801;--shiki-dark:#D19A66">true</span></span><span class="line"><span style="color:#E45649;--shiki-dark:#E06C75">  SplitEmptyNamespace</span><span style="color:#383A42;--shiki-dark:#ABB2BF">: </span><span style="color:#986801;--shiki-dark:#D19A66">true</span></span><span class="line"><span style="color:#A0A1A7;font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic"># 在二元运算符前换行</span></span><span class="line"><span style="color:#E45649;--shiki-dark:#E06C75">BreakBeforeBinaryOperators</span><span style="color:#383A42;--shiki-dark:#ABB2BF">: </span><span style="color:#50A14F;--shiki-dark:#98C379">None</span></span><span class="line"><span style="color:#A0A1A7;font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic"># 在concept前换行</span></span><span class="line"><span style="color:#E45649;--shiki-dark:#E06C75">BreakBeforeConceptDeclarations</span><span style="color:#383A42;--shiki-dark:#ABB2BF">: </span><span style="color:#986801;--shiki-dark:#D19A66">true</span></span><span class="line"><span style="color:#A0A1A7;font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic"># 在大括号前换行: Attach(始终将大括号附加到周围的上下文)</span></span><span class="line"><span style="color:#E45649;--shiki-dark:#E06C75">BreakBeforeBraces</span><span style="color:#383A42;--shiki-dark:#ABB2BF">: </span><span style="color:#50A14F;--shiki-dark:#98C379">Attach</span></span><span class="line"><span style="color:#A0A1A7;font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic"># 继承列表样式</span></span><span class="line"><span style="color:#E45649;--shiki-dark:#E06C75">BreakInheritanceList</span><span style="color:#383A42;--shiki-dark:#ABB2BF">: </span><span style="color:#50A14F;--shiki-dark:#98C379">AfterComma</span></span><span class="line"><span style="color:#A0A1A7;font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic"># 在三元运算符前换行</span></span><span class="line"><span style="color:#E45649;--shiki-dark:#E06C75">BreakBeforeTernaryOperators</span><span style="color:#383A42;--shiki-dark:#ABB2BF">: </span><span style="color:#986801;--shiki-dark:#D19A66">true</span></span><span class="line"><span style="color:#A0A1A7;font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic"># 构造函数初始值设定项换行样式</span></span><span class="line"><span style="color:#E45649;--shiki-dark:#E06C75">BreakConstructorInitializers</span><span style="color:#383A42;--shiki-dark:#ABB2BF">: </span><span style="color:#50A14F;--shiki-dark:#98C379">BeforeComma</span></span><span class="line"><span style="color:#A0A1A7;font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic"># 在java字段的注释后换行</span></span><span class="line"><span style="color:#E45649;--shiki-dark:#E06C75">BreakAfterJavaFieldAnnotations</span><span style="color:#383A42;--shiki-dark:#ABB2BF">: </span><span style="color:#986801;--shiki-dark:#D19A66">false</span></span><span class="line"><span style="color:#A0A1A7;font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic"># 每行字符的限制，0表示没有限制</span></span><span class="line"><span style="color:#E45649;--shiki-dark:#E06C75">ColumnLimit</span><span style="color:#383A42;--shiki-dark:#ABB2BF">:     </span><span style="color:#986801;--shiki-dark:#D19A66">96</span></span><span class="line"><span style="color:#A0A1A7;font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic"># 描述具有特殊意义的注释的正则表达式，它不应该被分割为多行或以其它方式改变</span></span><span class="line"><span style="color:#E45649;--shiki-dark:#E06C75">CommentPragmas</span><span style="color:#383A42;--shiki-dark:#ABB2BF">:  </span><span style="color:#50A14F;--shiki-dark:#98C379">'^ IWYU pragma:'</span></span><span class="line"><span style="color:#A0A1A7;font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic"># 在新行上声明每个命名空间</span></span><span class="line"><span style="color:#E45649;--shiki-dark:#E06C75">CompactNamespaces</span><span style="color:#383A42;--shiki-dark:#ABB2BF">: </span><span style="color:#986801;--shiki-dark:#D19A66">false</span></span><span class="line"><span style="color:#A0A1A7;font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic"># 构造函数的初始化列表的缩进宽度</span></span><span class="line"><span style="color:#E45649;--shiki-dark:#E06C75">ConstructorInitializerIndentWidth</span><span style="color:#383A42;--shiki-dark:#ABB2BF">: </span><span style="color:#986801;--shiki-dark:#D19A66">4</span></span><span class="line"><span style="color:#A0A1A7;font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic"># 延续的行的缩进宽度</span></span><span class="line"><span style="color:#E45649;--shiki-dark:#E06C75">ContinuationIndentWidth</span><span style="color:#383A42;--shiki-dark:#ABB2BF">: </span><span style="color:#986801;--shiki-dark:#D19A66">4</span></span><span class="line"><span style="color:#A0A1A7;font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic"># 去除C++11的列表初始化的大括号&#123;后和&#125;前的空格</span></span><span class="line"><span style="color:#E45649;--shiki-dark:#E06C75">Cpp11BracedListStyle</span><span style="color:#383A42;--shiki-dark:#ABB2BF">: </span><span style="color:#986801;--shiki-dark:#D19A66">true</span></span><span class="line"><span style="color:#A0A1A7;font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic"># 继承最常用的换行方式</span></span><span class="line"><span style="color:#E45649;--shiki-dark:#E06C75">DeriveLineEnding</span><span style="color:#383A42;--shiki-dark:#ABB2BF">: </span><span style="color:#986801;--shiki-dark:#D19A66">true</span></span><span class="line"><span style="color:#A0A1A7;font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic"># 继承最常用的指针和引用的对齐方式</span></span><span class="line"><span style="color:#E45649;--shiki-dark:#E06C75">DerivePointerAlignment</span><span style="color:#383A42;--shiki-dark:#ABB2BF">: </span><span style="color:#986801;--shiki-dark:#D19A66">false</span></span><span class="line"><span style="color:#A0A1A7;font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic"># 关闭格式化</span></span><span class="line"><span style="color:#E45649;--shiki-dark:#E06C75">DisableFormat</span><span style="color:#383A42;--shiki-dark:#ABB2BF">:   </span><span style="color:#986801;--shiki-dark:#D19A66">false</span></span><span class="line"><span style="color:#A0A1A7;font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic"># 删除访问修饰符后的所有空行</span></span><span class="line"><span style="color:#E45649;--shiki-dark:#E06C75">EmptyLineAfterAccessModifier</span><span style="color:#383A42;--shiki-dark:#ABB2BF">: </span><span style="color:#50A14F;--shiki-dark:#98C379">Never</span></span><span class="line"><span style="color:#A0A1A7;font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic"># 仅当访问修饰符开始一个新的逻辑块时才添加空行</span></span><span class="line"><span style="color:#E45649;--shiki-dark:#E06C75">EmptyLineBeforeAccessModifier</span><span style="color:#383A42;--shiki-dark:#ABB2BF">: </span><span style="color:#50A14F;--shiki-dark:#98C379">LogicalBlock</span></span><span class="line"><span style="color:#A0A1A7;font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic"># 自动检测函数的调用和定义是否被格式为每行一个参数(Experimental)</span></span><span class="line"><span style="color:#E45649;--shiki-dark:#E06C75">ExperimentalAutoDetectBinPacking</span><span style="color:#383A42;--shiki-dark:#ABB2BF">: </span><span style="color:#986801;--shiki-dark:#D19A66">false</span></span><span class="line"><span style="color:#A0A1A7;font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic"># 自动补充namespace注释</span></span><span class="line"><span style="color:#E45649;--shiki-dark:#E06C75">FixNamespaceComments</span><span style="color:#383A42;--shiki-dark:#ABB2BF">: </span><span style="color:#986801;--shiki-dark:#D19A66">true</span></span><span class="line"><span style="color:#A0A1A7;font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic"># 需要被解读为foreach循环而不是函数调用的宏</span></span><span class="line"><span style="color:#E45649;--shiki-dark:#E06C75">ForEachMacros</span><span style="color:#383A42;--shiki-dark:#ABB2BF">:</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">  - </span><span style="color:#50A14F;--shiki-dark:#98C379">foreach</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">  - </span><span style="color:#50A14F;--shiki-dark:#98C379">Q_FOREACH</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">  - </span><span style="color:#50A14F;--shiki-dark:#98C379">BOOST_FOREACH</span></span><span class="line"><span style="color:#E45649;--shiki-dark:#E06C75">IfMacros</span><span style="color:#383A42;--shiki-dark:#ABB2BF">:</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">  - </span><span style="color:#50A14F;--shiki-dark:#98C379">KJ_IF_MAYBE</span></span><span class="line"><span style="color:#A0A1A7;font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic"># 多个#include块合并在一起并排序为一个</span></span><span class="line"><span style="color:#E45649;--shiki-dark:#E06C75">IncludeBlocks</span><span style="color:#383A42;--shiki-dark:#ABB2BF">:   </span><span style="color:#50A14F;--shiki-dark:#98C379">Merge</span></span><span class="line"><span style="color:#A0A1A7;font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic"># 可以定义负数优先级从而保证某些#include永远在最前面</span></span><span class="line"><span style="color:#E45649;--shiki-dark:#E06C75">IncludeCategories</span><span style="color:#383A42;--shiki-dark:#ABB2BF">:</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">  - </span><span style="color:#E45649;--shiki-dark:#E06C75">Regex</span><span style="color:#383A42;--shiki-dark:#ABB2BF">:           </span><span style="color:#50A14F;--shiki-dark:#98C379">'^"(llvm|llvm-c|clang|clang-c)/'</span></span><span class="line"><span style="color:#E45649;--shiki-dark:#E06C75">    Priority</span><span style="color:#383A42;--shiki-dark:#ABB2BF">:        </span><span style="color:#986801;--shiki-dark:#D19A66">2</span></span><span class="line"><span style="color:#E45649;--shiki-dark:#E06C75">    SortPriority</span><span style="color:#383A42;--shiki-dark:#ABB2BF">:    </span><span style="color:#986801;--shiki-dark:#D19A66">0</span></span><span class="line"><span style="color:#E45649;--shiki-dark:#E06C75">    CaseSensitive</span><span style="color:#383A42;--shiki-dark:#ABB2BF">:   </span><span style="color:#986801;--shiki-dark:#D19A66">false</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">  - </span><span style="color:#E45649;--shiki-dark:#E06C75">Regex</span><span style="color:#383A42;--shiki-dark:#ABB2BF">:           </span><span style="color:#50A14F;--shiki-dark:#98C379">'^(&#x3C;|"(gtest|gmock|isl|json)/)'</span></span><span class="line"><span style="color:#E45649;--shiki-dark:#E06C75">    Priority</span><span style="color:#383A42;--shiki-dark:#ABB2BF">:        </span><span style="color:#986801;--shiki-dark:#D19A66">3</span></span><span class="line"><span style="color:#E45649;--shiki-dark:#E06C75">    SortPriority</span><span style="color:#383A42;--shiki-dark:#ABB2BF">:    </span><span style="color:#986801;--shiki-dark:#D19A66">0</span></span><span class="line"><span style="color:#E45649;--shiki-dark:#E06C75">    CaseSensitive</span><span style="color:#383A42;--shiki-dark:#ABB2BF">:   </span><span style="color:#986801;--shiki-dark:#D19A66">false</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">  - </span><span style="color:#E45649;--shiki-dark:#E06C75">Regex</span><span style="color:#383A42;--shiki-dark:#ABB2BF">:           </span><span style="color:#50A14F;--shiki-dark:#98C379">'.*'</span></span><span class="line"><span style="color:#E45649;--shiki-dark:#E06C75">    Priority</span><span style="color:#383A42;--shiki-dark:#ABB2BF">:        </span><span style="color:#986801;--shiki-dark:#D19A66">1</span></span><span class="line"><span style="color:#E45649;--shiki-dark:#E06C75">    SortPriority</span><span style="color:#383A42;--shiki-dark:#ABB2BF">:    </span><span style="color:#986801;--shiki-dark:#D19A66">0</span></span><span class="line"><span style="color:#E45649;--shiki-dark:#E06C75">    CaseSensitive</span><span style="color:#383A42;--shiki-dark:#ABB2BF">:   </span><span style="color:#986801;--shiki-dark:#D19A66">false</span></span><span class="line"><span style="color:#E45649;--shiki-dark:#E06C75">IncludeIsMainRegex</span><span style="color:#383A42;--shiki-dark:#ABB2BF">: </span><span style="color:#50A14F;--shiki-dark:#98C379">'(Test)?$'</span></span><span class="line"><span style="color:#E45649;--shiki-dark:#E06C75">IncludeIsMainSourceRegex</span><span style="color:#383A42;--shiki-dark:#ABB2BF">: </span><span style="color:#50A14F;--shiki-dark:#98C379">''</span></span><span class="line"><span style="color:#A0A1A7;font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic"># 缩进访问修饰符</span></span><span class="line"><span style="color:#E45649;--shiki-dark:#E06C75">IndentAccessModifiers</span><span style="color:#383A42;--shiki-dark:#ABB2BF">: </span><span style="color:#986801;--shiki-dark:#D19A66">false</span></span><span class="line"><span style="color:#A0A1A7;font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic"># 缩进case标签</span></span><span class="line"><span style="color:#E45649;--shiki-dark:#E06C75">IndentCaseLabels</span><span style="color:#383A42;--shiki-dark:#ABB2BF">: </span><span style="color:#986801;--shiki-dark:#D19A66">false</span></span><span class="line"><span style="color:#A0A1A7;font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic"># case 标签后面的块使用与 case 标签相同的缩进级别</span></span><span class="line"><span style="color:#E45649;--shiki-dark:#E06C75">IndentCaseBlocks</span><span style="color:#383A42;--shiki-dark:#ABB2BF">: </span><span style="color:#986801;--shiki-dark:#D19A66">false</span></span><span class="line"><span style="color:#A0A1A7;font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic"># 缩进goto标签。</span></span><span class="line"><span style="color:#E45649;--shiki-dark:#E06C75">IndentGotoLabels</span><span style="color:#383A42;--shiki-dark:#ABB2BF">: </span><span style="color:#986801;--shiki-dark:#D19A66">false</span></span><span class="line"><span style="color:#A0A1A7;font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic"># 缩进预处理器指令</span></span><span class="line"><span style="color:#E45649;--shiki-dark:#E06C75">IndentPPDirectives</span><span style="color:#383A42;--shiki-dark:#ABB2BF">: </span><span style="color:#50A14F;--shiki-dark:#98C379">None</span></span><span class="line"><span style="color:#A0A1A7;font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic"># 向后兼容缩进外部块</span></span><span class="line"><span style="color:#E45649;--shiki-dark:#E06C75">IndentExternBlock</span><span style="color:#383A42;--shiki-dark:#ABB2BF">: </span><span style="color:#50A14F;--shiki-dark:#98C379">AfterExternBlock</span></span><span class="line"><span style="color:#A0A1A7;font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic"># 缩进模板中的requires子句</span></span><span class="line"><span style="color:#E45649;--shiki-dark:#E06C75">IndentRequires</span><span style="color:#383A42;--shiki-dark:#ABB2BF">:  </span><span style="color:#986801;--shiki-dark:#D19A66">false</span></span><span class="line"><span style="color:#A0A1A7;font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic"># 缩进宽度</span></span><span class="line"><span style="color:#E45649;--shiki-dark:#E06C75">IndentWidth</span><span style="color:#383A42;--shiki-dark:#ABB2BF">:     </span><span style="color:#986801;--shiki-dark:#D19A66">4</span></span><span class="line"><span style="color:#A0A1A7;font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic"># 函数返回类型换行时，缩进函数声明或函数定义的函数名</span></span><span class="line"><span style="color:#E45649;--shiki-dark:#E06C75">IndentWrappedFunctionNames</span><span style="color:#383A42;--shiki-dark:#ABB2BF">: </span><span style="color:#986801;--shiki-dark:#D19A66">false</span></span><span class="line"><span style="color:#A0A1A7;font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic"># 插入尾随逗号</span></span><span class="line"><span style="color:#E45649;--shiki-dark:#E06C75">InsertTrailingCommas</span><span style="color:#383A42;--shiki-dark:#ABB2BF">: </span><span style="color:#50A14F;--shiki-dark:#98C379">None</span></span><span class="line"><span style="color:#A0A1A7;font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic"># 保留JavaScript字符串引号</span></span><span class="line"><span style="color:#E45649;--shiki-dark:#E06C75">JavaScriptQuotes</span><span style="color:#383A42;--shiki-dark:#ABB2BF">: </span><span style="color:#50A14F;--shiki-dark:#98C379">Leave</span></span><span class="line"><span style="color:#A0A1A7;font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic"># 包装 JavaScript 导入/导出语句</span></span><span class="line"><span style="color:#E45649;--shiki-dark:#E06C75">JavaScriptWrapImports</span><span style="color:#383A42;--shiki-dark:#ABB2BF">: </span><span style="color:#986801;--shiki-dark:#D19A66">true</span></span><span class="line"><span style="color:#A0A1A7;font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic"># 保留在块开始处的空行</span></span><span class="line"><span style="color:#E45649;--shiki-dark:#E06C75">KeepEmptyLinesAtTheStartOfBlocks</span><span style="color:#383A42;--shiki-dark:#ABB2BF">: </span><span style="color:#986801;--shiki-dark:#D19A66">true</span></span><span class="line"><span style="color:#A0A1A7;font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic"># 相对于 lambda 签名对齐 lambda 主体</span></span><span class="line"><span style="color:#E45649;--shiki-dark:#E06C75">LambdaBodyIndentation</span><span style="color:#383A42;--shiki-dark:#ABB2BF">: </span><span style="color:#50A14F;--shiki-dark:#98C379">Signature</span></span><span class="line"><span style="color:#A0A1A7;font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic"># 开始一个块的宏的正则表达式</span></span><span class="line"><span style="color:#E45649;--shiki-dark:#E06C75">MacroBlockBegin</span><span style="color:#383A42;--shiki-dark:#ABB2BF">: </span><span style="color:#50A14F;--shiki-dark:#98C379">''</span></span><span class="line"><span style="color:#A0A1A7;font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic"># 结束一个块的宏的正则表达式</span></span><span class="line"><span style="color:#E45649;--shiki-dark:#E06C75">MacroBlockEnd</span><span style="color:#383A42;--shiki-dark:#ABB2BF">:   </span><span style="color:#50A14F;--shiki-dark:#98C379">''</span></span><span class="line"><span style="color:#A0A1A7;font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic"># 连续空行的最大数量</span></span><span class="line"><span style="color:#E45649;--shiki-dark:#E06C75">MaxEmptyLinesToKeep</span><span style="color:#383A42;--shiki-dark:#ABB2BF">: </span><span style="color:#986801;--shiki-dark:#D19A66">1</span></span><span class="line"><span style="color:#A0A1A7;font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic"># 命名空间的缩进</span></span><span class="line"><span style="color:#E45649;--shiki-dark:#E06C75">NamespaceIndentation</span><span style="color:#383A42;--shiki-dark:#ABB2BF">: </span><span style="color:#50A14F;--shiki-dark:#98C379">Inner</span></span><span class="line"><span style="color:#E45649;--shiki-dark:#E06C75">ObjCBinPackProtocolList</span><span style="color:#383A42;--shiki-dark:#ABB2BF">: </span><span style="color:#50A14F;--shiki-dark:#98C379">Auto</span></span><span class="line"><span style="color:#A0A1A7;font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic"># 使用ObjC块时缩进宽度</span></span><span class="line"><span style="color:#E45649;--shiki-dark:#E06C75">ObjCBlockIndentWidth</span><span style="color:#383A42;--shiki-dark:#ABB2BF">: </span><span style="color:#986801;--shiki-dark:#D19A66">4</span></span><span class="line"><span style="color:#E45649;--shiki-dark:#E06C75">ObjCBreakBeforeNestedBlockParam</span><span style="color:#383A42;--shiki-dark:#ABB2BF">: </span><span style="color:#986801;--shiki-dark:#D19A66">true</span></span><span class="line"><span style="color:#A0A1A7;font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic"># 在ObjC的@property后添加一个空格</span></span><span class="line"><span style="color:#E45649;--shiki-dark:#E06C75">ObjCSpaceAfterProperty</span><span style="color:#383A42;--shiki-dark:#ABB2BF">: </span><span style="color:#986801;--shiki-dark:#D19A66">false</span></span><span class="line"><span style="color:#A0A1A7;font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic"># 在ObjC的protocol列表前添加一个空格</span></span><span class="line"><span style="color:#E45649;--shiki-dark:#E06C75">ObjCSpaceBeforeProtocolList</span><span style="color:#383A42;--shiki-dark:#ABB2BF">: </span><span style="color:#986801;--shiki-dark:#D19A66">true</span></span><span class="line"><span style="color:#E45649;--shiki-dark:#E06C75">PenaltyBreakAssignment</span><span style="color:#383A42;--shiki-dark:#ABB2BF">: </span><span style="color:#986801;--shiki-dark:#D19A66">2</span></span><span class="line"><span style="color:#E45649;--shiki-dark:#E06C75">PenaltyBreakBeforeFirstCallParameter</span><span style="color:#383A42;--shiki-dark:#ABB2BF">: </span><span style="color:#986801;--shiki-dark:#D19A66">19</span></span><span class="line"><span style="color:#E45649;--shiki-dark:#E06C75">PenaltyBreakComment</span><span style="color:#383A42;--shiki-dark:#ABB2BF">: </span><span style="color:#986801;--shiki-dark:#D19A66">300</span></span><span class="line"><span style="color:#E45649;--shiki-dark:#E06C75">PenaltyBreakFirstLessLess</span><span style="color:#383A42;--shiki-dark:#ABB2BF">: </span><span style="color:#986801;--shiki-dark:#D19A66">120</span></span><span class="line"><span style="color:#E45649;--shiki-dark:#E06C75">PenaltyBreakString</span><span style="color:#383A42;--shiki-dark:#ABB2BF">: </span><span style="color:#986801;--shiki-dark:#D19A66">1000</span></span><span class="line"><span style="color:#E45649;--shiki-dark:#E06C75">PenaltyBreakTemplateDeclaration</span><span style="color:#383A42;--shiki-dark:#ABB2BF">: </span><span style="color:#986801;--shiki-dark:#D19A66">10</span></span><span class="line"><span style="color:#E45649;--shiki-dark:#E06C75">PenaltyExcessCharacter</span><span style="color:#383A42;--shiki-dark:#ABB2BF">: </span><span style="color:#986801;--shiki-dark:#D19A66">1000000</span></span><span class="line"><span style="color:#E45649;--shiki-dark:#E06C75">PenaltyReturnTypeOnItsOwnLine</span><span style="color:#383A42;--shiki-dark:#ABB2BF">: </span><span style="color:#986801;--shiki-dark:#D19A66">60</span></span><span class="line"><span style="color:#E45649;--shiki-dark:#E06C75">PenaltyIndentedWhitespace</span><span style="color:#383A42;--shiki-dark:#ABB2BF">: </span><span style="color:#986801;--shiki-dark:#D19A66">0</span></span><span class="line"><span style="color:#A0A1A7;font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic"># 指针的对齐: Left, Right, Middle</span></span><span class="line"><span style="color:#E45649;--shiki-dark:#E06C75">PointerAlignment</span><span style="color:#383A42;--shiki-dark:#ABB2BF">: </span><span style="color:#50A14F;--shiki-dark:#98C379">Left</span></span><span class="line"><span style="color:#A0A1A7;font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic"># 缩进预处理器语句的列数</span></span><span class="line"><span style="color:#E45649;--shiki-dark:#E06C75">PPIndentWidth</span><span style="color:#383A42;--shiki-dark:#ABB2BF">:   </span><span style="color:#986801;--shiki-dark:#D19A66">-1</span></span><span class="line"><span style="color:#A0A1A7;font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic"># 引用的对齐</span></span><span class="line"><span style="color:#E45649;--shiki-dark:#E06C75">ReferenceAlignment</span><span style="color:#383A42;--shiki-dark:#ABB2BF">: </span><span style="color:#50A14F;--shiki-dark:#98C379">Pointer</span></span><span class="line"><span style="color:#A0A1A7;font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic"># 允许重新排版注释</span></span><span class="line"><span style="color:#E45649;--shiki-dark:#E06C75">ReflowComments</span><span style="color:#383A42;--shiki-dark:#ABB2BF">:  </span><span style="color:#986801;--shiki-dark:#D19A66">true</span></span><span class="line"><span style="color:#A0A1A7;font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic"># 短命名空间跨越的最大展开行数</span></span><span class="line"><span style="color:#E45649;--shiki-dark:#E06C75">ShortNamespaceLines</span><span style="color:#383A42;--shiki-dark:#ABB2BF">: </span><span style="color:#986801;--shiki-dark:#D19A66">1</span></span><span class="line"><span style="color:#A0A1A7;font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic"># 允许排序#include</span></span><span class="line"><span style="color:#E45649;--shiki-dark:#E06C75">SortIncludes</span><span style="color:#383A42;--shiki-dark:#ABB2BF">:    </span><span style="color:#986801;--shiki-dark:#D19A66">false</span></span><span class="line"><span style="color:#A0A1A7;font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic"># java静态导入放在非静态导入之前</span></span><span class="line"><span style="color:#E45649;--shiki-dark:#E06C75">SortJavaStaticImport</span><span style="color:#383A42;--shiki-dark:#ABB2BF">: </span><span style="color:#50A14F;--shiki-dark:#98C379">Before</span></span><span class="line"><span style="color:#A0A1A7;font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic"># 对using声明排序</span></span><span class="line"><span style="color:#E45649;--shiki-dark:#E06C75">SortUsingDeclarations</span><span style="color:#383A42;--shiki-dark:#ABB2BF">: </span><span style="color:#986801;--shiki-dark:#D19A66">true</span></span><span class="line"><span style="color:#A0A1A7;font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic"># 在C风格类型转换后添加空格</span></span><span class="line"><span style="color:#E45649;--shiki-dark:#E06C75">SpaceAfterCStyleCast</span><span style="color:#383A42;--shiki-dark:#ABB2BF">: </span><span style="color:#986801;--shiki-dark:#D19A66">false</span></span><span class="line"><span style="color:#A0A1A7;font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic"># 在!后添加空格</span></span><span class="line"><span style="color:#E45649;--shiki-dark:#E06C75">SpaceAfterLogicalNot</span><span style="color:#383A42;--shiki-dark:#ABB2BF">: </span><span style="color:#986801;--shiki-dark:#D19A66">false</span></span><span class="line"><span style="color:#A0A1A7;font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic"># 在Template关键字后添加空格</span></span><span class="line"><span style="color:#E45649;--shiki-dark:#E06C75">SpaceAfterTemplateKeyword</span><span style="color:#383A42;--shiki-dark:#ABB2BF">: </span><span style="color:#986801;--shiki-dark:#D19A66">true</span></span><span class="line"><span style="color:#A0A1A7;font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic"># 在赋值运算符之前添加空格</span></span><span class="line"><span style="color:#E45649;--shiki-dark:#E06C75">SpaceBeforeAssignmentOperators</span><span style="color:#383A42;--shiki-dark:#ABB2BF">: </span><span style="color:#986801;--shiki-dark:#D19A66">true</span></span><span class="line"><span style="color:#A0A1A7;font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic"># 不在case冒号之前添加空格</span></span><span class="line"><span style="color:#E45649;--shiki-dark:#E06C75">SpaceBeforeCaseColon</span><span style="color:#383A42;--shiki-dark:#ABB2BF">: </span><span style="color:#986801;--shiki-dark:#D19A66">false</span></span><span class="line"><span style="color:#A0A1A7;font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic"># 不在C++11大括号列表之前添加空格</span></span><span class="line"><span style="color:#E45649;--shiki-dark:#E06C75">SpaceBeforeCpp11BracedList</span><span style="color:#383A42;--shiki-dark:#ABB2BF">: </span><span style="color:#986801;--shiki-dark:#D19A66">false</span></span><span class="line"><span style="color:#A0A1A7;font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic"># 在构造函数初始化器冒号之前添加空格</span></span><span class="line"><span style="color:#E45649;--shiki-dark:#E06C75">SpaceBeforeCtorInitializerColon</span><span style="color:#383A42;--shiki-dark:#ABB2BF">: </span><span style="color:#986801;--shiki-dark:#D19A66">true</span></span><span class="line"><span style="color:#A0A1A7;font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic"># 在继承冒号前添加空格</span></span><span class="line"><span style="color:#E45649;--shiki-dark:#E06C75">SpaceBeforeInheritanceColon</span><span style="color:#383A42;--shiki-dark:#ABB2BF">: </span><span style="color:#986801;--shiki-dark:#D19A66">true</span></span><span class="line"><span style="color:#A0A1A7;font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic"># 开圆括号之前添加一个空格: Never, ControlStatements, Always</span></span><span class="line"><span style="color:#E45649;--shiki-dark:#E06C75">SpaceBeforeParens</span><span style="color:#383A42;--shiki-dark:#ABB2BF">: </span><span style="color:#50A14F;--shiki-dark:#98C379">ControlStatements</span></span><span class="line"><span style="color:#A0A1A7;font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic"># 不要确保指针限定符周围有空格，而是使用 PointerAlignment</span></span><span class="line"><span style="color:#E45649;--shiki-dark:#E06C75">SpaceAroundPointerQualifiers</span><span style="color:#383A42;--shiki-dark:#ABB2BF">: </span><span style="color:#50A14F;--shiki-dark:#98C379">Default</span></span><span class="line"><span style="color:#A0A1A7;font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic"># 在基于范围的for循环冒号之前添加空格</span></span><span class="line"><span style="color:#E45649;--shiki-dark:#E06C75">SpaceBeforeRangeBasedForLoopColon</span><span style="color:#383A42;--shiki-dark:#ABB2BF">: </span><span style="color:#986801;--shiki-dark:#D19A66">true</span></span><span class="line"><span style="color:#A0A1A7;font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic"># &#123;&#125;中间不添加空格</span></span><span class="line"><span style="color:#E45649;--shiki-dark:#E06C75">SpaceInEmptyBlock</span><span style="color:#383A42;--shiki-dark:#ABB2BF">: </span><span style="color:#986801;--shiki-dark:#D19A66">false</span></span><span class="line"><span style="color:#A0A1A7;font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic"># 在空的圆括号中添加空格</span></span><span class="line"><span style="color:#E45649;--shiki-dark:#E06C75">SpaceInEmptyParentheses</span><span style="color:#383A42;--shiki-dark:#ABB2BF">: </span><span style="color:#986801;--shiki-dark:#D19A66">false</span></span><span class="line"><span style="color:#A0A1A7;font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic"># 在尾随的评论前添加的空格数(只适用于//)</span></span><span class="line"><span style="color:#E45649;--shiki-dark:#E06C75">SpacesBeforeTrailingComments</span><span style="color:#383A42;--shiki-dark:#ABB2BF">: </span><span style="color:#986801;--shiki-dark:#D19A66">1</span></span><span class="line"><span style="color:#A0A1A7;font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic"># 在尖括号的&#x3C;后和>前添加空格</span></span><span class="line"><span style="color:#E45649;--shiki-dark:#E06C75">SpacesInAngles</span><span style="color:#383A42;--shiki-dark:#ABB2BF">:  </span><span style="color:#50A14F;--shiki-dark:#98C379">Never</span></span><span class="line"><span style="color:#A0A1A7;font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic"># 不在if/for/switch/while条件周围插入空格</span></span><span class="line"><span style="color:#E45649;--shiki-dark:#E06C75">SpacesInConditionalStatement</span><span style="color:#383A42;--shiki-dark:#ABB2BF">: </span><span style="color:#986801;--shiki-dark:#D19A66">false</span></span><span class="line"><span style="color:#A0A1A7;font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic"># 在容器(ObjC和JavaScript的数组和字典等)字面量中添加空格</span></span><span class="line"><span style="color:#E45649;--shiki-dark:#E06C75">SpacesInContainerLiterals</span><span style="color:#383A42;--shiki-dark:#ABB2BF">: </span><span style="color:#986801;--shiki-dark:#D19A66">true</span></span><span class="line"><span style="color:#A0A1A7;font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic"># 在C风格类型转换的括号中添加空格</span></span><span class="line"><span style="color:#E45649;--shiki-dark:#E06C75">SpacesInCStyleCastParentheses</span><span style="color:#383A42;--shiki-dark:#ABB2BF">: </span><span style="color:#986801;--shiki-dark:#D19A66">false</span></span><span class="line"><span style="color:#A0A1A7;font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic"># 行注释开头允许有多少个空格。要禁用最大值，请将其设置为-1，除此之外，最大值优先于最小值</span></span><span class="line"><span style="color:#E45649;--shiki-dark:#E06C75">SpacesInLineCommentPrefix</span><span style="color:#383A42;--shiki-dark:#ABB2BF">:</span></span><span class="line"><span style="color:#E45649;--shiki-dark:#E06C75">  Minimum</span><span style="color:#383A42;--shiki-dark:#ABB2BF">:         </span><span style="color:#986801;--shiki-dark:#D19A66">1</span></span><span class="line"><span style="color:#E45649;--shiki-dark:#E06C75">  Maximum</span><span style="color:#383A42;--shiki-dark:#ABB2BF">:         </span><span style="color:#986801;--shiki-dark:#D19A66">-1</span></span><span class="line"><span style="color:#A0A1A7;font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic"># 在圆括号的(后和)前添加空格</span></span><span class="line"><span style="color:#E45649;--shiki-dark:#E06C75">SpacesInParentheses</span><span style="color:#383A42;--shiki-dark:#ABB2BF">: </span><span style="color:#986801;--shiki-dark:#D19A66">false</span></span><span class="line"><span style="color:#A0A1A7;font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic"># 在方括号的[后和]前添加空格，lamda表达式和未指明大小的数组的声明不受影响</span></span><span class="line"><span style="color:#E45649;--shiki-dark:#E06C75">SpacesInSquareBrackets</span><span style="color:#383A42;--shiki-dark:#ABB2BF">: </span><span style="color:#986801;--shiki-dark:#D19A66">false</span></span><span class="line"><span style="color:#A0A1A7;font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic"># 不在[前添加空格</span></span><span class="line"><span style="color:#E45649;--shiki-dark:#E06C75">SpaceBeforeSquareBrackets</span><span style="color:#383A42;--shiki-dark:#ABB2BF">: </span><span style="color:#986801;--shiki-dark:#D19A66">false</span></span><span class="line"><span style="color:#A0A1A7;font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic"># 位域:每边都添加空格</span></span><span class="line"><span style="color:#E45649;--shiki-dark:#E06C75">BitFieldColonSpacing</span><span style="color:#383A42;--shiki-dark:#ABB2BF">: </span><span style="color:#50A14F;--shiki-dark:#98C379">Both</span></span><span class="line"><span style="color:#A0A1A7;font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic"># 标准</span></span><span class="line"><span style="color:#E45649;--shiki-dark:#E06C75">Standard</span><span style="color:#383A42;--shiki-dark:#ABB2BF">:        </span><span style="color:#50A14F;--shiki-dark:#98C379">Auto</span></span><span class="line"><span style="color:#A0A1A7;font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic"># 在语句前面被忽略的宏定义，就好像它们是一个属性一样</span></span><span class="line"><span style="color:#E45649;--shiki-dark:#E06C75">StatementAttributeLikeMacros</span><span style="color:#383A42;--shiki-dark:#ABB2BF">:</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">  - </span><span style="color:#50A14F;--shiki-dark:#98C379">Q_EMIT</span></span><span class="line"><span style="color:#A0A1A7;font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic"># 应该被解释为完整语句的宏定义</span></span><span class="line"><span style="color:#E45649;--shiki-dark:#E06C75">StatementMacros</span><span style="color:#383A42;--shiki-dark:#ABB2BF">:</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">  - </span><span style="color:#50A14F;--shiki-dark:#98C379">Q_UNUSED</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">  - </span><span style="color:#50A14F;--shiki-dark:#98C379">QT_REQUIRE_VERSION</span></span><span class="line"><span style="color:#A0A1A7;font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic"># tab宽度</span></span><span class="line"><span style="color:#E45649;--shiki-dark:#E06C75">TabWidth</span><span style="color:#383A42;--shiki-dark:#ABB2BF">:        </span><span style="color:#986801;--shiki-dark:#D19A66">4</span></span><span class="line"><span style="color:#A0A1A7;font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic"># 使用\n换行</span></span><span class="line"><span style="color:#E45649;--shiki-dark:#E06C75">UseCRLF</span><span style="color:#383A42;--shiki-dark:#ABB2BF">:         </span><span style="color:#986801;--shiki-dark:#D19A66">false</span></span><span class="line"><span style="color:#A0A1A7;font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic"># 使用tab字符：ForIndentation——仅将制表符用于缩进</span></span><span class="line"><span style="color:#E45649;--shiki-dark:#E06C75">UseTab</span><span style="color:#383A42;--shiki-dark:#ABB2BF">:          </span><span style="color:#50A14F;--shiki-dark:#98C379">Never</span></span><span class="line"><span style="color:#A0A1A7;font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic"># 对空格敏感的宏定义</span></span><span class="line"><span style="color:#E45649;--shiki-dark:#E06C75">WhitespaceSensitiveMacros</span><span style="color:#383A42;--shiki-dark:#ABB2BF">:</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">  - </span><span style="color:#50A14F;--shiki-dark:#98C379">STRINGIZE</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">  - </span><span style="color:#50A14F;--shiki-dark:#98C379">PP_STRINGIZE</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">  - </span><span style="color:#50A14F;--shiki-dark:#98C379">BOOST_PP_STRINGIZE</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">  - </span><span style="color:#50A14F;--shiki-dark:#98C379">NS_SWIFT_NAME</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">  - </span><span style="color:#50A14F;--shiki-dark:#98C379">CF_SWIFT_NAME</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">...</span></span></code></pre></td></tr></tbody></table></figure></p></li></ul><h3 id="xmake-配置">Xmake 配置</h3><p>首先新建一个 <code>hello_world.cpp</code>文件，然后在其中输入一个基础的 Hello world 程序： <figure class="highlight cpp"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre class="shiki shiki-themes one-light one-dark-pro"><span class="line"><span style="color:#A626A4;--shiki-dark:#C678DD">#include</span><span style="color:#50A14F;--shiki-dark:#98C379"> &#x3C;iostream></span></span><span class="line"></span><span class="line"><span style="color:#A626A4;--shiki-dark:#C678DD">int</span><span style="color:#4078F2;--shiki-dark:#61AFEF"> main</span><span style="color:#383A42;--shiki-dark:#ABB2BF">() &#123;</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">    std::cout </span><span style="color:#A626A4;--shiki-dark:#C678DD">&#x3C;&#x3C;</span><span style="color:#50A14F;--shiki-dark:#98C379"> "Hello, world!"</span><span style="color:#A626A4;--shiki-dark:#C678DD"> &#x3C;&#x3C;</span><span style="color:#383A42;--shiki-dark:#ABB2BF"> std::endl;</span></span><span class="line"><span style="color:#A626A4;--shiki-dark:#C678DD">    return</span><span style="color:#986801;--shiki-dark:#D19A66"> 0</span><span style="color:#383A42;--shiki-dark:#ABB2BF">;</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">&#125;</span></span></code></pre></td></tr></tbody></table></figure></p><p>然后在项目根目录下新建 <code>xmake.lua</code> 文件，这会激活 Xmake扩展。在文件中输入： <figure class="highlight lua"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre class="shiki shiki-themes one-light one-dark-pro"><span class="line"><span style="color:#4078F2;--shiki-dark:#61AFEF">add_defines</span><span style="color:#383A42;--shiki-dark:#ABB2BF">(</span><span style="color:#50A14F;--shiki-dark:#98C379">"ROOT"</span><span style="color:#383A42;--shiki-dark:#ABB2BF">)</span></span><span class="line"><span style="color:#4078F2;--shiki-dark:#61AFEF">add_rules</span><span style="color:#383A42;--shiki-dark:#ABB2BF">(</span><span style="color:#50A14F;--shiki-dark:#98C379">"mode.debug"</span><span style="color:#383A42;--shiki-dark:#ABB2BF">, </span><span style="color:#50A14F;--shiki-dark:#98C379">"mode.release"</span><span style="color:#383A42;--shiki-dark:#ABB2BF">)</span></span><span class="line"><span style="color:#4078F2;--shiki-dark:#61AFEF">set_toolchains</span><span style="color:#383A42;--shiki-dark:#ABB2BF">(</span><span style="color:#50A14F;--shiki-dark:#98C379">"clang"</span><span style="color:#383A42;--shiki-dark:#ABB2BF">)</span></span><span class="line"><span style="color:#4078F2;--shiki-dark:#61AFEF">set_languages</span><span style="color:#383A42;--shiki-dark:#ABB2BF">(</span><span style="color:#50A14F;--shiki-dark:#98C379">"cxx17"</span><span style="color:#383A42;--shiki-dark:#ABB2BF">,</span><span style="color:#50A14F;--shiki-dark:#98C379">"c11"</span><span style="color:#383A42;--shiki-dark:#ABB2BF">)</span></span><span class="line"><span style="color:#4078F2;--shiki-dark:#61AFEF">set_optimize</span><span style="color:#383A42;--shiki-dark:#ABB2BF">(</span><span style="color:#50A14F;--shiki-dark:#98C379">"fastest"</span><span style="color:#383A42;--shiki-dark:#ABB2BF">)</span></span><span class="line"><span style="color:#4078F2;--shiki-dark:#61AFEF">set_warnings</span><span style="color:#383A42;--shiki-dark:#ABB2BF">(</span><span style="color:#50A14F;--shiki-dark:#98C379">"all"</span><span style="color:#383A42;--shiki-dark:#ABB2BF">)</span></span><span class="line"></span><span class="line"><span style="color:#A0A1A7;font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">-- 添加工程</span></span><span class="line"><span style="color:#4078F2;--shiki-dark:#61AFEF">target</span><span style="color:#383A42;--shiki-dark:#ABB2BF">(</span><span style="color:#50A14F;--shiki-dark:#98C379">"Hello world!"</span><span style="color:#383A42;--shiki-dark:#ABB2BF">)</span></span><span class="line"><span style="color:#4078F2;--shiki-dark:#61AFEF">    set_kind</span><span style="color:#383A42;--shiki-dark:#ABB2BF">(</span><span style="color:#50A14F;--shiki-dark:#98C379">"binary"</span><span style="color:#383A42;--shiki-dark:#ABB2BF">)</span></span><span class="line"><span style="color:#4078F2;--shiki-dark:#61AFEF">    add_files</span><span style="color:#383A42;--shiki-dark:#ABB2BF">(</span><span style="color:#50A14F;--shiki-dark:#98C379">"hello_world.cpp"</span><span style="color:#383A42;--shiki-dark:#ABB2BF">)</span></span><span class="line"><span style="color:#4078F2;--shiki-dark:#61AFEF">target_end</span><span style="color:#383A42;--shiki-dark:#ABB2BF">()</span></span></code></pre></td></tr></tbody></table></figure> 此时 VSCode 的底栏会出现 Xmake的一系列选项，直接点击下方的 ▶️ 按钮，Xmake 就会调用 Clang编译刚刚新建的 hello world 程序了。</p><p>至此，一个优雅好用的 C++ 开发环境就算搭建完成了。更多相关配置请参考<a href="https://xmake.io/#/zh-cn/about/introduction" rel="external nofollow noreferrer">Xmake文档</a>。</p><h2 id="参考资料">参考资料</h2><p>本文的编写参考了下列文章：</p><ul><li><a href="https://zhuanlan.zhihu.com/p/398790625" rel="external nofollow noreferrer">[万字长文]VisualStudio Code 配置 C/C++ 开发环境的最佳实践(VSCode + Clangd + XMake) -知乎</a></li><li><ahref="https://zhuanlan.zhihu.com/p/566365173">几乎无痛的VSCode+clangd+lldb+cmake配置C/C++开发环境指南- 知乎</a></li><li><ahref="https://quadnucyard.github.io/posts/cpp/clang-std-modules.html">使用VSCode + XMake + LLVM 开发现代 C++！（llvm-mingw + clangd +modules）</a></li><li><a href="https://lazy-phosphorus.com/post/msys2-cmake-guide/" rel="external nofollow noreferrer">MSYS2与 CMake 编程综合指引 | 惰性磷的博客</a></li></ul>]]></content:encoded>
      
      
      <category domain="https://blog.hpcesia.com/categories/%E7%BB%8F%E9%AA%8C%E8%AE%B0%E5%BD%95/">经验记录</category>
      
      
      <category domain="https://blog.hpcesia.com/tags/VSCode/">VSCode</category>
      
      <category domain="https://blog.hpcesia.com/tags/C/">C++</category>
      
      <category domain="https://blog.hpcesia.com/tags/Xmake/">Xmake</category>
      
      <category domain="https://blog.hpcesia.com/tags/Windows/">Windows</category>
      
      
      <comments>https://blog.hpcesia.com/posts/ba9eeffb/#disqus_thread</comments>
      
    </item>
    
    <item>
      <title>Twikoo 评论区利用 Python 脚本自动化导入米游社表情包</title>
      <link>https://blog.hpcesia.com/posts/8c78f339/</link>
      <guid>https://blog.hpcesia.com/posts/8c78f339/</guid>
      <pubDate>Mon, 30 Sep 2024 07:54:16 GMT</pubDate>
      
      <description>利用 Pythopn 脚本实现自动化获取米游社表情包并添加到本地 Twikoo 表情包 json 中。</description>
      
      
      
      <content:encoded><![CDATA[<details><summary>更新日志</summary><div class="timeline"><span class="timeline-title">更新日志</span><div class="timenode"><div class="meta"><p>2024-10-28</p></div><div class="body"><p>修复了脚本 bug</p></div></div><div class="timenode"><div class="meta"><p>2024-09-30</p></div><div class="body"><p>发布文章</p></div></div></div></details><h2 id="twikoo-评论系统表情包设置">Twikoo 评论系统表情包设置</h2><p>打开 Twikoo 设置面板，打开「配置管理」 - 「插件」 -「EMOTION_CDN」，输入你自己的 emotion.json 路径即可。</p><h2 id="python-脚本">Python 脚本</h2><p>找个地方创建一个 <code>.py</code>文件，填入以下内容（为了开箱即用，使用的是 <code>urllib</code>库，可自行换成 <code>request</code> 库或 <code>httpx</code> 库）：<figure class="highlight python"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br></pre></td><td class="code"><pre class="shiki shiki-themes one-light one-dark-pro"><span class="line"><span style="color:#A626A4;--shiki-dark:#C678DD">import</span><span style="color:#383A42;--shiki-dark:#ABB2BF"> json</span></span><span class="line"><span style="color:#A626A4;--shiki-dark:#C678DD">import</span><span style="color:#383A42;--shiki-dark:#ABB2BF"> urllib.request</span></span><span class="line"><span style="color:#A626A4;--shiki-dark:#C678DD">from</span><span style="color:#383A42;--shiki-dark:#ABB2BF"> pathlib </span><span style="color:#A626A4;--shiki-dark:#C678DD">import</span><span style="color:#383A42;--shiki-dark:#ABB2BF"> Path</span></span><span class="line"><span style="color:#A626A4;--shiki-dark:#C678DD">import</span><span style="color:#383A42;--shiki-dark:#ABB2BF"> re</span></span><span class="line"></span><span class="line"></span><span class="line"><span style="color:#A626A4;--shiki-dark:#C678DD">def</span><span style="color:#4078F2;--shiki-dark:#61AFEF"> miyousheEmoticonsJsonToTwikooJson</span><span style="color:#383A42;--shiki-dark:#ABB2BF">(</span></span><span class="line"><span style="color:#986801;font-style:inherit;--shiki-dark:#D19A66;--shiki-dark-font-style:italic">    api_url</span><span style="color:#383A42;--shiki-dark:#ABB2BF">:</span><span style="color:#0184BC;--shiki-dark:#56B6C2"> str</span><span style="color:#383A42;--shiki-dark:#ABB2BF">,</span></span><span class="line"><span style="color:#986801;font-style:inherit;--shiki-dark:#D19A66;--shiki-dark-font-style:italic">    output_path</span><span style="color:#383A42;--shiki-dark:#ABB2BF">:</span><span style="color:#0184BC;--shiki-dark:#56B6C2"> str</span><span style="color:#383A42;--shiki-dark:#ABB2BF">,</span></span><span class="line"><span style="color:#986801;font-style:inherit;--shiki-dark:#D19A66;--shiki-dark-font-style:italic">    groups</span><span style="color:#383A42;--shiki-dark:#ABB2BF">:</span><span style="color:#986801;--shiki-dark:#ABB2BF"> list[</span><span style="color:#0184BC;--shiki-dark:#56B6C2">str</span><span style="color:#986801;--shiki-dark:#ABB2BF">] </span><span style="color:#383A42;--shiki-dark:#56B6C2">=</span><span style="color:#986801;--shiki-dark:#D19A66"> None</span><span style="color:#383A42;--shiki-dark:#ABB2BF">,</span></span><span class="line"><span style="color:#986801;font-style:inherit;--shiki-dark:#D19A66;--shiki-dark-font-style:italic">    use_index_img</span><span style="color:#383A42;--shiki-dark:#ABB2BF">:</span><span style="color:#0184BC;--shiki-dark:#56B6C2"> bool</span><span style="color:#383A42;--shiki-dark:#56B6C2"> =</span><span style="color:#986801;--shiki-dark:#D19A66"> False</span><span style="color:#383A42;--shiki-dark:#ABB2BF">,</span></span><span class="line"><span style="color:#986801;font-style:inherit;--shiki-dark:#D19A66;--shiki-dark-font-style:italic">    clean_output</span><span style="color:#383A42;--shiki-dark:#ABB2BF">:</span><span style="color:#0184BC;--shiki-dark:#56B6C2"> bool</span><span style="color:#383A42;--shiki-dark:#56B6C2"> =</span><span style="color:#986801;--shiki-dark:#D19A66"> False</span><span style="color:#383A42;--shiki-dark:#ABB2BF">,</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">):</span></span><span class="line"><span style="color:#50A14F;--shiki-dark:#98C379">    """</span></span><span class="line"><span style="color:#50A14F;--shiki-dark:#98C379">    将米游社表情包的JSON数据转换为Twikoo格式的JSON数据。</span></span><span class="line"></span><span class="line"><span style="color:#50A14F;--shiki-dark:#98C379">    该函数从指定的API URL获取米游社表情包数据，并将其转换为Twikoo格式的JSON文件。</span></span><span class="line"><span style="color:#50A14F;--shiki-dark:#98C379">    可以选择性地指定要处理的表情包分组，是否使用索引图片，以及是否清理输出文件。</span></span><span class="line"><span style="color:#50A14F;--shiki-dark:#98C379">    Args:</span></span><span class="line"><span style="color:#50A14F;--shiki-dark:#98C379">        api_url (str): 米游社表情包 API 的 URL。</span></span><span class="line"><span style="color:#50A14F;--shiki-dark:#98C379">        output_path (str): 输出 JSON 文件的路径。</span></span><span class="line"><span style="color:#50A14F;--shiki-dark:#98C379">        groups (list[str], optional): 要处理的表情包分组列表。如果为 `None`，则处理所有分组。默认为 `None`。</span></span><span class="line"><span style="color:#50A14F;--shiki-dark:#98C379">        use_index_img (bool, optional): 是否使用索引图片作为分组名称。默认为 `False`。</span></span><span class="line"><span style="color:#50A14F;--shiki-dark:#98C379">        clean_output (bool, optional): 是否清理输出文件。如果为 `True`，则覆盖输出文件。默认为 `False`。</span></span><span class="line"><span style="color:#50A14F;--shiki-dark:#98C379">    """</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">    data </span><span style="color:#383A42;--shiki-dark:#56B6C2">=</span><span style="color:#383A42;--shiki-dark:#ABB2BF"> urllib.request.</span><span style="color:#383A42;--shiki-dark:#61AFEF">urlopen</span><span style="color:#383A42;--shiki-dark:#ABB2BF">(api_url).</span><span style="color:#383A42;--shiki-dark:#61AFEF">read</span><span style="color:#383A42;--shiki-dark:#ABB2BF">().</span><span style="color:#383A42;--shiki-dark:#61AFEF">decode</span><span style="color:#383A42;--shiki-dark:#ABB2BF">(</span><span style="color:#50A14F;--shiki-dark:#98C379">"utf-8"</span><span style="color:#383A42;--shiki-dark:#ABB2BF">)</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">    data </span><span style="color:#383A42;--shiki-dark:#56B6C2">=</span><span style="color:#383A42;--shiki-dark:#ABB2BF"> json.</span><span style="color:#383A42;--shiki-dark:#61AFEF">loads</span><span style="color:#383A42;--shiki-dark:#ABB2BF">(data)</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">    output_dict </span><span style="color:#383A42;--shiki-dark:#56B6C2">=</span><span style="color:#383A42;--shiki-dark:#ABB2BF"> &#123;&#125;</span></span><span class="line"><span style="color:#A626A4;--shiki-dark:#C678DD">    if</span><span style="color:#383A42;--shiki-dark:#61AFEF"> Path</span><span style="color:#383A42;--shiki-dark:#ABB2BF">(output_path).</span><span style="color:#383A42;--shiki-dark:#61AFEF">exists</span><span style="color:#383A42;--shiki-dark:#ABB2BF">() </span><span style="color:#A626A4;--shiki-dark:#C678DD">and</span><span style="color:#A626A4;--shiki-dark:#C678DD"> not</span><span style="color:#383A42;--shiki-dark:#ABB2BF"> clean_output:</span></span><span class="line"><span style="color:#A626A4;--shiki-dark:#C678DD">        with</span><span style="color:#0184BC;--shiki-dark:#56B6C2"> open</span><span style="color:#383A42;--shiki-dark:#ABB2BF">(</span><span style="color:#383A42;--shiki-dark:#61AFEF">Path</span><span style="color:#383A42;--shiki-dark:#ABB2BF">(output_path), </span><span style="color:#50A14F;--shiki-dark:#98C379">"r"</span><span style="color:#383A42;--shiki-dark:#ABB2BF">, </span><span style="color:#986801;font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic">encoding</span><span style="color:#383A42;--shiki-dark:#56B6C2">=</span><span style="color:#50A14F;--shiki-dark:#98C379">"utf-8"</span><span style="color:#383A42;--shiki-dark:#ABB2BF">) </span><span style="color:#A626A4;--shiki-dark:#C678DD">as</span><span style="color:#383A42;--shiki-dark:#ABB2BF"> f:</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">            output_dict </span><span style="color:#383A42;--shiki-dark:#56B6C2">=</span><span style="color:#383A42;--shiki-dark:#ABB2BF"> json.</span><span style="color:#383A42;--shiki-dark:#61AFEF">load</span><span style="color:#383A42;--shiki-dark:#ABB2BF">(f)</span></span><span class="line"><span style="color:#A626A4;--shiki-dark:#C678DD">    if</span><span style="color:#383A42;--shiki-dark:#ABB2BF"> use_index_img:</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#D19A66">        STYLE</span><span style="color:#383A42;--shiki-dark:#56B6C2"> =</span><span style="color:#50A14F;--shiki-dark:#98C379"> "height: 20px;top: 4px;position: relative;"</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">        pattern </span><span style="color:#383A42;--shiki-dark:#56B6C2">=</span><span style="color:#A626A4;--shiki-dark:#C678DD"> r</span><span style="color:#0184BC;--shiki-dark:#E06C75">"&#x3C;img src='.</span><span style="color:#383A42;--shiki-dark:#D19A66">*?</span><span style="color:#0184BC;--shiki-dark:#E06C75">' style='.</span><span style="color:#383A42;--shiki-dark:#D19A66">*?</span><span style="color:#0184BC;--shiki-dark:#E06C75">' title='</span><span style="color:#0184BC;--shiki-dark:#D19A66">(</span><span style="color:#0184BC;--shiki-dark:#E06C75">.</span><span style="color:#383A42;--shiki-dark:#D19A66">*?</span><span style="color:#0184BC;--shiki-dark:#D19A66">)</span><span style="color:#0184BC;--shiki-dark:#E06C75">'>"</span></span><span class="line"></span><span class="line"><span style="color:#A626A4;--shiki-dark:#C678DD">        def</span><span style="color:#4078F2;--shiki-dark:#61AFEF"> sameTitle</span><span style="color:#383A42;--shiki-dark:#ABB2BF">(</span><span style="color:#986801;font-style:inherit;--shiki-dark:#D19A66;--shiki-dark-font-style:italic">key</span><span style="color:#383A42;--shiki-dark:#ABB2BF">,</span><span style="color:#986801;font-style:inherit;--shiki-dark:#D19A66;--shiki-dark-font-style:italic"> title</span><span style="color:#383A42;--shiki-dark:#ABB2BF">):</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">            match </span><span style="color:#383A42;--shiki-dark:#56B6C2">=</span><span style="color:#383A42;--shiki-dark:#ABB2BF"> re.</span><span style="color:#383A42;--shiki-dark:#61AFEF">match</span><span style="color:#383A42;--shiki-dark:#ABB2BF">(pattern, key)</span></span><span class="line"><span style="color:#A626A4;--shiki-dark:#C678DD">            return</span><span style="color:#A626A4;--shiki-dark:#C678DD"> not</span><span style="color:#0184BC;--shiki-dark:#56B6C2"> bool</span><span style="color:#383A42;--shiki-dark:#ABB2BF">(match </span><span style="color:#A626A4;--shiki-dark:#C678DD">and</span><span style="color:#383A42;--shiki-dark:#ABB2BF"> match.</span><span style="color:#383A42;--shiki-dark:#61AFEF">group</span><span style="color:#383A42;--shiki-dark:#ABB2BF">(</span><span style="color:#986801;--shiki-dark:#D19A66">1</span><span style="color:#383A42;--shiki-dark:#ABB2BF">) </span><span style="color:#383A42;--shiki-dark:#56B6C2">==</span><span style="color:#383A42;--shiki-dark:#ABB2BF"> title)</span></span><span class="line"></span><span class="line"><span style="color:#A626A4;--shiki-dark:#C678DD">    for</span><span style="color:#383A42;--shiki-dark:#ABB2BF"> emoticon_group </span><span style="color:#A626A4;--shiki-dark:#C678DD">in</span><span style="color:#383A42;--shiki-dark:#ABB2BF"> data[</span><span style="color:#50A14F;--shiki-dark:#98C379">"data"</span><span style="color:#383A42;--shiki-dark:#ABB2BF">][</span><span style="color:#50A14F;--shiki-dark:#98C379">"list"</span><span style="color:#383A42;--shiki-dark:#ABB2BF">]:</span></span><span class="line"><span style="color:#A626A4;--shiki-dark:#C678DD">        if</span><span style="color:#383A42;--shiki-dark:#ABB2BF"> emoticon_group[</span><span style="color:#50A14F;--shiki-dark:#98C379">"status"</span><span style="color:#383A42;--shiki-dark:#ABB2BF">] </span><span style="color:#383A42;--shiki-dark:#56B6C2">==</span><span style="color:#50A14F;--shiki-dark:#98C379"> "draft"</span><span style="color:#383A42;--shiki-dark:#ABB2BF">:</span></span><span class="line"><span style="color:#A626A4;--shiki-dark:#C678DD">            continue</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">        group_name: </span><span style="color:#0184BC;--shiki-dark:#56B6C2">str</span><span style="color:#383A42;--shiki-dark:#56B6C2"> =</span><span style="color:#383A42;--shiki-dark:#ABB2BF"> emoticon_group[</span><span style="color:#50A14F;--shiki-dark:#98C379">"name"</span><span style="color:#383A42;--shiki-dark:#ABB2BF">]</span></span><span class="line"><span style="color:#A626A4;--shiki-dark:#C678DD">        if</span><span style="color:#383A42;--shiki-dark:#ABB2BF"> groups </span><span style="color:#A626A4;--shiki-dark:#C678DD">is</span><span style="color:#A626A4;--shiki-dark:#C678DD"> not</span><span style="color:#986801;--shiki-dark:#D19A66"> None</span><span style="color:#A626A4;--shiki-dark:#C678DD"> and</span><span style="color:#383A42;--shiki-dark:#ABB2BF"> group_name </span><span style="color:#A626A4;--shiki-dark:#C678DD">not</span><span style="color:#A626A4;--shiki-dark:#C678DD"> in</span><span style="color:#383A42;--shiki-dark:#ABB2BF"> groups:</span></span><span class="line"><span style="color:#A626A4;--shiki-dark:#C678DD">            continue</span></span><span class="line"><span style="color:#A626A4;--shiki-dark:#C678DD">        if</span><span style="color:#383A42;--shiki-dark:#ABB2BF"> use_index_img:</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">            index_url </span><span style="color:#383A42;--shiki-dark:#56B6C2">=</span><span style="color:#383A42;--shiki-dark:#ABB2BF"> emoticon_group[</span><span style="color:#50A14F;--shiki-dark:#98C379">"icon"</span><span style="color:#383A42;--shiki-dark:#ABB2BF">]</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">            origin_group_name </span><span style="color:#383A42;--shiki-dark:#56B6C2">=</span><span style="color:#383A42;--shiki-dark:#ABB2BF"> group_name</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">            group_name </span><span style="color:#383A42;--shiki-dark:#56B6C2">=</span><span style="color:#A626A4;--shiki-dark:#C678DD"> f</span><span style="color:#50A14F;--shiki-dark:#98C379">"&#x3C;img src='</span><span style="color:#986801;--shiki-dark:#D19A66">&#123;</span><span style="color:#383A42;--shiki-dark:#ABB2BF">index_url</span><span style="color:#986801;--shiki-dark:#D19A66">&#125;</span><span style="color:#50A14F;--shiki-dark:#98C379">' style='</span><span style="color:#986801;--shiki-dark:#D19A66">&#123;</span><span style="color:#383A42;--shiki-dark:#D19A66">STYLE</span><span style="color:#986801;--shiki-dark:#D19A66">&#125;</span><span style="color:#50A14F;--shiki-dark:#98C379">' title='</span><span style="color:#986801;--shiki-dark:#D19A66">&#123;</span><span style="color:#383A42;--shiki-dark:#ABB2BF">group_name</span><span style="color:#986801;--shiki-dark:#D19A66">&#125;</span><span style="color:#50A14F;--shiki-dark:#98C379">'>"</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">            output_dict </span><span style="color:#383A42;--shiki-dark:#56B6C2">=</span><span style="color:#383A42;--shiki-dark:#ABB2BF"> &#123;k: v </span><span style="color:#A626A4;--shiki-dark:#C678DD">for</span><span style="color:#383A42;--shiki-dark:#ABB2BF"> k, v </span><span style="color:#A626A4;--shiki-dark:#C678DD">in</span><span style="color:#383A42;--shiki-dark:#ABB2BF"> output_dict.</span><span style="color:#383A42;--shiki-dark:#61AFEF">items</span><span style="color:#383A42;--shiki-dark:#ABB2BF">() </span><span style="color:#A626A4;--shiki-dark:#C678DD">if</span><span style="color:#383A42;--shiki-dark:#61AFEF"> sameTitle</span><span style="color:#383A42;--shiki-dark:#ABB2BF">(k, origin_group_name)&#125;</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">        output_dict[group_name] </span><span style="color:#383A42;--shiki-dark:#56B6C2">=</span><span style="color:#383A42;--shiki-dark:#ABB2BF"> &#123;</span><span style="color:#50A14F;--shiki-dark:#98C379">"type"</span><span style="color:#383A42;--shiki-dark:#ABB2BF">: </span><span style="color:#50A14F;--shiki-dark:#98C379">"image"</span><span style="color:#383A42;--shiki-dark:#ABB2BF">&#125;</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">        container </span><span style="color:#383A42;--shiki-dark:#56B6C2">=</span><span style="color:#383A42;--shiki-dark:#ABB2BF"> []</span></span><span class="line"><span style="color:#A626A4;--shiki-dark:#C678DD">        for</span><span style="color:#383A42;--shiki-dark:#ABB2BF"> emoticon </span><span style="color:#A626A4;--shiki-dark:#C678DD">in</span><span style="color:#383A42;--shiki-dark:#ABB2BF"> emoticon_group[</span><span style="color:#50A14F;--shiki-dark:#98C379">"list"</span><span style="color:#383A42;--shiki-dark:#ABB2BF">]:</span></span><span class="line"><span style="color:#A626A4;--shiki-dark:#C678DD">            if</span><span style="color:#383A42;--shiki-dark:#ABB2BF"> emoticon[</span><span style="color:#50A14F;--shiki-dark:#98C379">"status"</span><span style="color:#383A42;--shiki-dark:#ABB2BF">] </span><span style="color:#383A42;--shiki-dark:#56B6C2">==</span><span style="color:#50A14F;--shiki-dark:#98C379"> "draft"</span><span style="color:#383A42;--shiki-dark:#ABB2BF">:</span></span><span class="line"><span style="color:#A626A4;--shiki-dark:#C678DD">                continue</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">            url </span><span style="color:#383A42;--shiki-dark:#56B6C2">=</span><span style="color:#383A42;--shiki-dark:#ABB2BF"> emoticon[</span><span style="color:#50A14F;--shiki-dark:#98C379">"icon"</span><span style="color:#383A42;--shiki-dark:#ABB2BF">]</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">            name </span><span style="color:#383A42;--shiki-dark:#56B6C2">=</span><span style="color:#383A42;--shiki-dark:#ABB2BF"> emoticon[</span><span style="color:#50A14F;--shiki-dark:#98C379">"name"</span><span style="color:#383A42;--shiki-dark:#ABB2BF">].</span><span style="color:#383A42;--shiki-dark:#61AFEF">replace</span><span style="color:#383A42;--shiki-dark:#ABB2BF">(</span><span style="color:#50A14F;--shiki-dark:#98C379">" "</span><span style="color:#383A42;--shiki-dark:#ABB2BF">, </span><span style="color:#50A14F;--shiki-dark:#98C379">"-"</span><span style="color:#383A42;--shiki-dark:#ABB2BF">)</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">            name </span><span style="color:#383A42;--shiki-dark:#56B6C2">=</span><span style="color:#383A42;--shiki-dark:#ABB2BF"> (</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">                origin_group_name.</span><span style="color:#383A42;--shiki-dark:#61AFEF">replace</span><span style="color:#383A42;--shiki-dark:#ABB2BF">(</span><span style="color:#50A14F;--shiki-dark:#98C379">" "</span><span style="color:#383A42;--shiki-dark:#ABB2BF">, </span><span style="color:#50A14F;--shiki-dark:#98C379">"-"</span><span style="color:#383A42;--shiki-dark:#ABB2BF">) </span><span style="color:#383A42;--shiki-dark:#56B6C2">+</span><span style="color:#50A14F;--shiki-dark:#98C379"> "-"</span><span style="color:#383A42;--shiki-dark:#56B6C2"> +</span><span style="color:#383A42;--shiki-dark:#ABB2BF"> name</span></span><span class="line"><span style="color:#A626A4;--shiki-dark:#C678DD">                if</span><span style="color:#50A14F;--shiki-dark:#98C379"> "origin_group_name"</span><span style="color:#A626A4;--shiki-dark:#C678DD"> in</span><span style="color:#0184BC;--shiki-dark:#56B6C2"> locals</span><span style="color:#383A42;--shiki-dark:#ABB2BF">()</span></span><span class="line"><span style="color:#A626A4;--shiki-dark:#C678DD">                else</span><span style="color:#383A42;--shiki-dark:#ABB2BF"> group_name.</span><span style="color:#383A42;--shiki-dark:#61AFEF">replace</span><span style="color:#383A42;--shiki-dark:#ABB2BF">(</span><span style="color:#50A14F;--shiki-dark:#98C379">" "</span><span style="color:#383A42;--shiki-dark:#ABB2BF">, </span><span style="color:#50A14F;--shiki-dark:#98C379">"-"</span><span style="color:#383A42;--shiki-dark:#ABB2BF">) </span><span style="color:#383A42;--shiki-dark:#56B6C2">+</span><span style="color:#50A14F;--shiki-dark:#98C379"> "-"</span><span style="color:#383A42;--shiki-dark:#56B6C2"> +</span><span style="color:#383A42;--shiki-dark:#ABB2BF"> name</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">            )</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">            container.</span><span style="color:#383A42;--shiki-dark:#61AFEF">append</span><span style="color:#383A42;--shiki-dark:#ABB2BF">(&#123;</span><span style="color:#50A14F;--shiki-dark:#98C379">"text"</span><span style="color:#383A42;--shiki-dark:#ABB2BF">: name, </span><span style="color:#50A14F;--shiki-dark:#98C379">"icon"</span><span style="color:#383A42;--shiki-dark:#ABB2BF">: </span><span style="color:#A626A4;--shiki-dark:#C678DD">f</span><span style="color:#50A14F;--shiki-dark:#98C379">"&#x3C;img src='</span><span style="color:#986801;--shiki-dark:#D19A66">&#123;</span><span style="color:#383A42;--shiki-dark:#ABB2BF">url</span><span style="color:#986801;--shiki-dark:#D19A66">&#125;</span><span style="color:#50A14F;--shiki-dark:#98C379">'>"</span><span style="color:#383A42;--shiki-dark:#ABB2BF">&#125;)</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">        output_dict[group_name][</span><span style="color:#50A14F;--shiki-dark:#98C379">"container"</span><span style="color:#383A42;--shiki-dark:#ABB2BF">] </span><span style="color:#383A42;--shiki-dark:#56B6C2">=</span><span style="color:#383A42;--shiki-dark:#ABB2BF"> container</span></span><span class="line"><span style="color:#A626A4;--shiki-dark:#C678DD">    with</span><span style="color:#0184BC;--shiki-dark:#56B6C2"> open</span><span style="color:#383A42;--shiki-dark:#ABB2BF">(</span><span style="color:#383A42;--shiki-dark:#61AFEF">Path</span><span style="color:#383A42;--shiki-dark:#ABB2BF">(output_path), </span><span style="color:#50A14F;--shiki-dark:#98C379">"w"</span><span style="color:#383A42;--shiki-dark:#ABB2BF">, </span><span style="color:#986801;font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic">encoding</span><span style="color:#383A42;--shiki-dark:#56B6C2">=</span><span style="color:#50A14F;--shiki-dark:#98C379">"utf-8"</span><span style="color:#383A42;--shiki-dark:#ABB2BF">) </span><span style="color:#A626A4;--shiki-dark:#C678DD">as</span><span style="color:#383A42;--shiki-dark:#ABB2BF"> f:</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">        json.</span><span style="color:#383A42;--shiki-dark:#61AFEF">dump</span><span style="color:#383A42;--shiki-dark:#ABB2BF">(output_dict, f, </span><span style="color:#986801;font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic">ensure_ascii</span><span style="color:#383A42;--shiki-dark:#56B6C2">=</span><span style="color:#986801;--shiki-dark:#D19A66">False</span><span style="color:#383A42;--shiki-dark:#ABB2BF">, </span><span style="color:#986801;font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic">indent</span><span style="color:#383A42;--shiki-dark:#56B6C2">=</span><span style="color:#986801;--shiki-dark:#D19A66">2</span><span style="color:#383A42;--shiki-dark:#ABB2BF">)</span></span><span class="line"></span><span class="line"></span><span class="line"><span style="color:#A0A1A7;font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic"># 使用示例</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">api_url </span><span style="color:#383A42;--shiki-dark:#56B6C2">=</span><span style="color:#50A14F;--shiki-dark:#98C379"> "https://bbs-api.mihoyo.com/misc/api/emoticon_set"</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">output </span><span style="color:#383A42;--shiki-dark:#56B6C2">=</span><span style="color:#50A14F;--shiki-dark:#98C379"> "path/to/your/output.json"</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">emoticons_list </span><span style="color:#383A42;--shiki-dark:#56B6C2">=</span><span style="color:#383A42;--shiki-dark:#ABB2BF"> [</span><span style="color:#50A14F;--shiki-dark:#98C379">"原神 V官方"</span><span style="color:#383A42;--shiki-dark:#ABB2BF">, </span><span style="color:#50A14F;--shiki-dark:#98C379">"崩坏RPG"</span><span style="color:#383A42;--shiki-dark:#ABB2BF">, </span><span style="color:#50A14F;--shiki-dark:#98C379">"崩坏 星穹铁道"</span><span style="color:#383A42;--shiki-dark:#ABB2BF">] </span><span style="color:#A0A1A7;font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic"># 你想要的表情包列表</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#61AFEF">miyousheEmoticonsJsonToTwikooJson</span><span style="color:#383A42;--shiki-dark:#ABB2BF">(</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">    api_url, output, </span><span style="color:#986801;font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic">use_index_img</span><span style="color:#383A42;--shiki-dark:#56B6C2">=</span><span style="color:#986801;--shiki-dark:#D19A66">True</span><span style="color:#383A42;--shiki-dark:#ABB2BF">, </span><span style="color:#986801;font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic">groups</span><span style="color:#383A42;--shiki-dark:#56B6C2">=</span><span style="color:#383A42;--shiki-dark:#ABB2BF">emoticons_list</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">)</span></span></code></pre></td></tr></tbody></table></figure> 只需要修改 <code>output</code> 为自己的表情包路径，使用<figure class="highlight shell"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre class="shiki shiki-themes one-light one-dark-pro"><span class="line"><span style="color:#4078F2;--shiki-dark:#61AFEF">python</span><span style="color:#50A14F;--shiki-dark:#98C379"> path/to/your/file.py</span></span></code></pre></td></tr></tbody></table></figure> 即可。</p><h2 id="自动部署">自动部署</h2><p>修改 <code>package.json</code> 的 <code>scripts</code> 项，将<code>build</code> 改为<code>python path/to/your/file.py &amp;&amp; hexo generate</code>，使用<code>npm run build</code> 即可。</p>]]></content:encoded>
      
      
      <category domain="https://blog.hpcesia.com/categories/%E5%B0%8F%E5%B1%8B%E7%9B%B8%E5%85%B3/">小屋相关</category>
      
      
      <category domain="https://blog.hpcesia.com/tags/Hexo/">Hexo</category>
      
      <category domain="https://blog.hpcesia.com/tags/Twikoo/">Twikoo</category>
      
      <category domain="https://blog.hpcesia.com/tags/%E7%B1%B3%E6%B8%B8%E7%A4%BE/">米游社</category>
      
      <category domain="https://blog.hpcesia.com/tags/Python/">Python</category>
      
      
      <comments>https://blog.hpcesia.com/posts/8c78f339/#disqus_thread</comments>
      
    </item>
    
    <item>
      <title>Typst 使用经验记录</title>
      <link>https://blog.hpcesia.com/posts/5252cfe9/</link>
      <guid>https://blog.hpcesia.com/posts/5252cfe9/</guid>
      <pubDate>Fri, 27 Sep 2024 15:14:17 GMT</pubDate>
      
      <description>关于 Typst 排版的使用经验，以及使用 Pandoc 转换为 Markdown 格式的经验</description>
      
      
      
      <content:encoded><![CDATA[<details><summary>更新日志</summary><div class="timeline"><span class="timeline-title"><div class="timenode"><div class="meta"><p>2024-10-20</p></div><div class="body"><p>更新文章中部分链接</p></div></div><div class="timenode"><div class="meta"><p>2024-10-08</p></div><div class="body"><p>更新「在文本中使用美观的大括号分类」</p></div></div><div class="timenode"><div class="meta"><p>2024-10-02</p></div><div class="body"><p>更新「结合 showybox 与 ctheorems 包制作美观定理环境」</p></div></div><div class="timenode"><div class="meta"><p>2024-10-01</p></div><div class="body"><p>更新「目录不同层级标题使用不同样式」</p></div></div><div class="timenode"><div class="meta"><p>2024-09-27</p></div><div class="body"><p>发布文章。</p></div></div></div></details><div class="note primary modern"><i class="solitude fas fa-info-circle"></i><p>文章中 Typst 代码高亮设置方法：<ahref="https://yihui-liu.github.io/posts/202402-typst-block.html">Hexo配置 Typst 代码高亮 | Fox Home</a></p><p>或改为使用 <a href="https://shiki.tmrs.site" rel="external nofollow noreferrer">Shiki</a>进行代码高亮渲染。</p></div><h2 id="怎么找解决方案">怎么找解决方案</h2><p>多翻翻别人趟过的坑：</p><ul><li>翻文档<ul><li><a href="https://typst-doc-cn.github.io/docs/" rel="external nofollow noreferrer">Typst中文文档</a></li><li><a href="https://typst.app/docs" rel="external nofollow noreferrer">Typst Documentation</a></li></ul></li><li>翻示例<ul><li><a href="https://typst-doc-cn.github.io/guide/FAQ.html" rel="external nofollow noreferrer">常见问题 |Typst 中文社区导航</a></li><li><ahref="https://typst-doc-cn.github.io/tutorial/introduction.html">TheRaindrop-Blue Book (Typst中文教程)</a></li><li><a href="https://sitandr.github.io/typst-examples-book/book/" rel="external nofollow noreferrer">TypstExamples Book</a></li></ul></li></ul><h2 id="排版经验">排版经验</h2><h3 id="不同层级标题使用不同序号格式">不同层级标题使用不同序号格式</h3><p>其实是<ahref="https://typst-doc-cn.github.io/guide/FAQ/heading-formats.html">如何为每一级标题指定不同的编号格式？- 常见问题 | Typst中文社区导航</a>的重复造轮子，但是造轮子的时候没看到这个东西，造都造了就发出来算了。（用Typst 群群友的说法，在 numbly 包出来之前，人人都有自己的 numbly轮子（笑））</p><figure class="highlight typst"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre class="shiki shiki-themes one-light one-dark-pro"><span class="line"><span style="color:#A626A4;--shiki-dark:#C678DD">#let</span><span style="color:#4078F2;--shiki-dark:#61AFEF"> diff_numbering</span><span style="color:#383A42;--shiki-dark:#ABB2BF">(..</span><span style="color:#E45649;--shiki-dark:#E06C75">schemes</span><span style="color:#383A42;--shiki-dark:#ABB2BF">) </span><span style="color:#383A42;--shiki-dark:#56B6C2">=</span><span style="color:#383A42;--shiki-dark:#ABB2BF"> &#123;</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">  (..</span><span style="color:#E45649;--shiki-dark:#E06C75">nums</span><span style="color:#383A42;--shiki-dark:#ABB2BF">) => &#123;</span></span><span class="line"><span style="color:#A626A4;--shiki-dark:#C678DD">    let</span><span style="color:#E45649;--shiki-dark:#E06C75"> nums_arr</span><span style="color:#383A42;--shiki-dark:#56B6C2"> =</span><span style="color:#E45649;--shiki-dark:#E06C75"> nums</span><span style="color:#383A42;--shiki-dark:#ABB2BF">.</span><span style="color:#4078F2;--shiki-dark:#61AFEF">pos</span><span style="color:#383A42;--shiki-dark:#ABB2BF">()</span></span><span class="line"><span style="color:#A626A4;--shiki-dark:#C678DD">    let</span><span style="color:#E45649;--shiki-dark:#E06C75"> schemes_arr</span><span style="color:#383A42;--shiki-dark:#56B6C2"> =</span><span style="color:#E45649;--shiki-dark:#E06C75"> schemes</span><span style="color:#383A42;--shiki-dark:#ABB2BF">.</span><span style="color:#4078F2;--shiki-dark:#61AFEF">pos</span><span style="color:#383A42;--shiki-dark:#ABB2BF">()</span></span><span class="line"><span style="color:#A626A4;--shiki-dark:#C678DD">    if</span><span style="color:#E45649;--shiki-dark:#E06C75"> nums_arr</span><span style="color:#383A42;--shiki-dark:#ABB2BF">.</span><span style="color:#4078F2;--shiki-dark:#61AFEF">len</span><span style="color:#383A42;--shiki-dark:#ABB2BF">() </span><span style="color:#383A42;--shiki-dark:#56B6C2">>=</span><span style="color:#E45649;--shiki-dark:#E06C75"> schemes_arr</span><span style="color:#383A42;--shiki-dark:#ABB2BF">.</span><span style="color:#4078F2;--shiki-dark:#61AFEF">len</span><span style="color:#383A42;--shiki-dark:#ABB2BF">() &#123;</span></span><span class="line"><span style="color:#4078F2;--shiki-dark:#61AFEF">      numbering</span><span style="color:#383A42;--shiki-dark:#ABB2BF">(</span><span style="color:#E45649;--shiki-dark:#E06C75">schemes_arr</span><span style="color:#383A42;--shiki-dark:#ABB2BF">.</span><span style="color:#4078F2;--shiki-dark:#61AFEF">at</span><span style="color:#383A42;--shiki-dark:#ABB2BF">(</span><span style="color:#383A42;--shiki-dark:#56B6C2">-</span><span style="color:#986801;--shiki-dark:#D19A66">1</span><span style="color:#383A42;--shiki-dark:#ABB2BF">), ..</span><span style="color:#E45649;--shiki-dark:#E06C75">nums</span><span style="color:#383A42;--shiki-dark:#ABB2BF">)</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">    &#125; </span><span style="color:#A626A4;--shiki-dark:#C678DD">else</span><span style="color:#383A42;--shiki-dark:#ABB2BF"> &#123;</span></span><span class="line"><span style="color:#4078F2;--shiki-dark:#61AFEF">      numbering</span><span style="color:#383A42;--shiki-dark:#ABB2BF">(</span><span style="color:#E45649;--shiki-dark:#E06C75">schemes_arr</span><span style="color:#383A42;--shiki-dark:#ABB2BF">.</span><span style="color:#4078F2;--shiki-dark:#61AFEF">at</span><span style="color:#383A42;--shiki-dark:#ABB2BF">(</span><span style="color:#E45649;--shiki-dark:#E06C75">nums_arr</span><span style="color:#383A42;--shiki-dark:#ABB2BF">.</span><span style="color:#4078F2;--shiki-dark:#61AFEF">len</span><span style="color:#383A42;--shiki-dark:#ABB2BF">() </span><span style="color:#383A42;--shiki-dark:#56B6C2">-</span><span style="color:#986801;--shiki-dark:#D19A66"> 1</span><span style="color:#383A42;--shiki-dark:#ABB2BF">), ..</span><span style="color:#E45649;--shiki-dark:#E06C75">nums</span><span style="color:#383A42;--shiki-dark:#ABB2BF">)</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">    &#125;</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">  &#125;</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">&#125;</span></span><span class="line"><span style="color:#A0A1A7;font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">// 使用</span></span><span class="line"><span style="color:#A626A4;--shiki-dark:#C678DD">#set</span><span style="color:#4078F2;--shiki-dark:#61AFEF"> heading</span><span style="color:#383A42;--shiki-dark:#ABB2BF">(</span><span style="color:#383A42;font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic">numbering</span><span style="color:#383A42;--shiki-dark:#ABB2BF">: </span><span style="color:#4078F2;--shiki-dark:#61AFEF">diff_numbering</span><span style="color:#383A42;--shiki-dark:#ABB2BF">(</span><span style="color:#50A14F;--shiki-dark:#98C379">"第一章"</span><span style="color:#383A42;--shiki-dark:#ABB2BF">, </span><span style="color:#50A14F;--shiki-dark:#98C379">"1.1"</span><span style="color:#383A42;--shiki-dark:#ABB2BF">, </span><span style="color:#50A14F;--shiki-dark:#98C379">"1-1-1"</span><span style="color:#383A42;--shiki-dark:#ABB2BF">))</span></span><span class="line"><span style="color:#4078F2;--shiki-dark:#61AFEF">= 一个章节</span></span><span class="line"><span style="color:#4078F2;--shiki-dark:#61AFEF">== 一个小节</span></span><span class="line"><span style="color:#4078F2;--shiki-dark:#61AFEF">=== 一个小节的小节</span></span><span class="line"><span style="color:#4078F2;--shiki-dark:#61AFEF">= 第二个章节</span></span><span class="line"><span style="color:#4078F2;--shiki-dark:#61AFEF">== 第二个章节的小节</span></span><span class="line"><span style="color:#4078F2;--shiki-dark:#61AFEF">=== 第二个章节的小节的小节</span></span></code></pre></td></tr></tbody></table></figure><p>效果： <img src= "" data-lazy-src="https://bu.dusays.com/2024/10/28/671f2b97f17a1.webp"alt="效果" /></p><p>使用 numbly 包可以达到更好的效果： <figure class="highlight typst"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre class="shiki shiki-themes one-light one-dark-pro"><span class="line"><span style="color:#A626A4;--shiki-dark:#C678DD">#import</span><span style="color:#50A14F;--shiki-dark:#98C379"> "@preview/numbly:0.1.0"</span><span style="color:#383A42;--shiki-dark:#ABB2BF">: </span><span style="color:#E45649;--shiki-dark:#E06C75">numbly</span></span><span class="line"><span style="color:#A626A4;--shiki-dark:#C678DD">#set</span><span style="color:#4078F2;--shiki-dark:#61AFEF"> heading</span><span style="color:#383A42;--shiki-dark:#ABB2BF">(</span><span style="color:#383A42;font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic">numbering</span><span style="color:#383A42;--shiki-dark:#ABB2BF">: </span><span style="color:#4078F2;--shiki-dark:#61AFEF">numbly</span><span style="color:#383A42;--shiki-dark:#ABB2BF">(</span><span style="color:#50A14F;--shiki-dark:#98C379">"一|&#123;1:一&#125;章"</span><span style="color:#383A42;--shiki-dark:#ABB2BF">, </span><span style="color:#50A14F;--shiki-dark:#98C379">"a&#123;1:1&#125;.&#123;2:1&#125;"</span><span style="color:#383A42;--shiki-dark:#ABB2BF">, </span><span style="color:#50A14F;--shiki-dark:#98C379">"1?&#123;1:1&#125;-&#123;2:1&#125;.&#123;3:1&#125;"</span><span style="color:#383A42;--shiki-dark:#ABB2BF">))</span></span><span class="line"><span style="color:#4078F2;--shiki-dark:#61AFEF">= #lorem(</span><span style="color:#986801;--shiki-dark:#D19A66">1</span><span style="color:#4078F2;--shiki-dark:#61AFEF">)</span></span><span class="line"><span style="color:#4078F2;--shiki-dark:#61AFEF">== #lorem(</span><span style="color:#986801;--shiki-dark:#D19A66">2</span><span style="color:#4078F2;--shiki-dark:#61AFEF">)</span></span><span class="line"><span style="color:#4078F2;--shiki-dark:#61AFEF">=== #lorem(</span><span style="color:#986801;--shiki-dark:#D19A66">3</span><span style="color:#4078F2;--shiki-dark:#61AFEF">)</span></span><span class="line"><span style="color:#4078F2;--shiki-dark:#61AFEF">== #lorem(</span><span style="color:#986801;--shiki-dark:#D19A66">2</span><span style="color:#4078F2;--shiki-dark:#61AFEF">)</span></span><span class="line"><span style="color:#4078F2;--shiki-dark:#61AFEF">=== #lorem(</span><span style="color:#986801;--shiki-dark:#D19A66">3</span><span style="color:#4078F2;--shiki-dark:#61AFEF">)</span></span><span class="line"><span style="color:#4078F2;--shiki-dark:#61AFEF">=== #lorem(</span><span style="color:#986801;--shiki-dark:#D19A66">3</span><span style="color:#4078F2;--shiki-dark:#61AFEF">)</span></span><span class="line"><span style="color:#4078F2;--shiki-dark:#61AFEF">= #lorem(</span><span style="color:#986801;--shiki-dark:#D19A66">1</span><span style="color:#4078F2;--shiki-dark:#61AFEF">)</span></span><span class="line"><span style="color:#4078F2;--shiki-dark:#61AFEF">== #lorem(</span><span style="color:#986801;--shiki-dark:#D19A66">2</span><span style="color:#4078F2;--shiki-dark:#61AFEF">)</span></span><span class="line"><span style="color:#4078F2;--shiki-dark:#61AFEF">=== #lorem(</span><span style="color:#986801;--shiki-dark:#D19A66">3</span><span style="color:#4078F2;--shiki-dark:#61AFEF">)</span></span></code></pre></td></tr></tbody></table></figure> 效果： <imgsrc="https://bu.dusays.com/2024/10/28/671f2b9e68433.webp"alt="效果" /></p><h3 id="填空栏">填空栏</h3><figure class="highlight typst"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre class="shiki shiki-themes one-light one-dark-pro"><span class="line"><span style="color:#A626A4;--shiki-dark:#C678DD">#let</span><span style="color:#4078F2;--shiki-dark:#61AFEF"> grid_blanks</span><span style="color:#383A42;--shiki-dark:#ABB2BF">(</span><span style="color:#383A42;font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic">cell</span><span style="color:#383A42;--shiki-dark:#ABB2BF">: </span><span style="color:#E45649;--shiki-dark:#E06C75">grid</span><span style="color:#383A42;--shiki-dark:#ABB2BF">.</span><span style="color:#E45649;--shiki-dark:#E06C75">cell</span><span style="color:#383A42;--shiki-dark:#ABB2BF">, </span><span style="color:#383A42;font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic">blank-width</span><span style="color:#383A42;--shiki-dark:#ABB2BF">: </span><span style="color:#986801;--shiki-dark:#D19A66">2em</span><span style="color:#383A42;--shiki-dark:#ABB2BF">, </span><span style="color:#383A42;font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic">line-width</span><span style="color:#383A42;--shiki-dark:#ABB2BF">: </span><span style="color:#986801;--shiki-dark:#D19A66">0.05em</span><span style="color:#383A42;--shiki-dark:#ABB2BF">, </span><span style="color:#383A42;font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic">colon</span><span style="color:#383A42;--shiki-dark:#ABB2BF">: [: ], ..</span><span style="color:#E45649;--shiki-dark:#E06C75">args</span><span style="color:#383A42;--shiki-dark:#ABB2BF">) </span><span style="color:#383A42;--shiki-dark:#56B6C2">=</span><span style="color:#4078F2;--shiki-dark:#61AFEF"> grid</span><span style="color:#383A42;--shiki-dark:#ABB2BF">(</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">  ..</span><span style="color:#E45649;--shiki-dark:#E06C75">args</span><span style="color:#383A42;--shiki-dark:#ABB2BF">.</span><span style="color:#4078F2;--shiki-dark:#61AFEF">named</span><span style="color:#383A42;--shiki-dark:#ABB2BF">(),</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">  ..</span><span style="color:#E45649;--shiki-dark:#E06C75">args</span><span style="color:#383A42;--shiki-dark:#ABB2BF">.</span><span style="color:#4078F2;--shiki-dark:#61AFEF">pos</span><span style="color:#383A42;--shiki-dark:#ABB2BF">().</span><span style="color:#4078F2;--shiki-dark:#61AFEF">map</span><span style="color:#383A42;--shiki-dark:#ABB2BF">(</span><span style="color:#E45649;--shiki-dark:#E06C75">label</span><span style="color:#383A42;--shiki-dark:#ABB2BF"> => (</span><span style="color:#4078F2;--shiki-dark:#61AFEF">cell</span><span style="color:#383A42;--shiki-dark:#ABB2BF">([#label#colon</span><span style="color:#4078F2;--shiki-dark:#61AFEF">#box</span><span style="color:#383A42;--shiki-dark:#ABB2BF">(</span><span style="color:#383A42;font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic">width</span><span style="color:#383A42;--shiki-dark:#ABB2BF">: </span><span style="color:#E45649;--shiki-dark:#E06C75">blank-width</span><span style="color:#383A42;--shiki-dark:#ABB2BF">, </span><span style="color:#383A42;font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic">stroke</span><span style="color:#383A42;--shiki-dark:#ABB2BF">: (</span><span style="color:#E45649;--shiki-dark:#E06C75">bottom</span><span style="color:#383A42;--shiki-dark:#ABB2BF">: </span><span style="color:#E45649;--shiki-dark:#E06C75">line-width</span><span style="color:#383A42;--shiki-dark:#ABB2BF">))])))</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">)</span></span><span class="line"></span><span class="line"><span style="color:#A0A1A7;font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">// 使用</span></span><span class="line"><span style="color:#4078F2;--shiki-dark:#61AFEF">#grid_blanks</span><span style="color:#383A42;--shiki-dark:#ABB2BF">(</span></span><span class="line"><span style="color:#383A42;font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic">  columns</span><span style="color:#383A42;--shiki-dark:#ABB2BF">: (</span><span style="color:#986801;--shiki-dark:#D19A66">auto</span><span style="color:#383A42;--shiki-dark:#ABB2BF">, </span><span style="color:#986801;--shiki-dark:#D19A66">auto</span><span style="color:#383A42;--shiki-dark:#ABB2BF">),</span></span><span class="line"><span style="color:#383A42;font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic">  align</span><span style="color:#383A42;--shiki-dark:#ABB2BF">: </span><span style="color:#E45649;--shiki-dark:#E06C75">right</span><span style="color:#383A42;--shiki-dark:#ABB2BF">,</span></span><span class="line"><span style="color:#383A42;font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic">  row-gutter</span><span style="color:#383A42;--shiki-dark:#ABB2BF">: </span><span style="color:#986801;--shiki-dark:#D19A66">1.5em</span><span style="color:#383A42;--shiki-dark:#ABB2BF">,</span></span><span class="line"><span style="color:#383A42;font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic">  column-gutter</span><span style="color:#383A42;--shiki-dark:#ABB2BF">: </span><span style="color:#986801;--shiki-dark:#D19A66">1em</span><span style="color:#383A42;--shiki-dark:#ABB2BF">,</span></span><span class="line"><span style="color:#383A42;font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic">  blank-width</span><span style="color:#383A42;--shiki-dark:#ABB2BF">: </span><span style="color:#986801;--shiki-dark:#D19A66">3cm</span><span style="color:#383A42;--shiki-dark:#ABB2BF">,</span></span><span class="line"><span style="color:#50A14F;--shiki-dark:#98C379">  "姓名"</span><span style="color:#383A42;--shiki-dark:#ABB2BF">,</span></span><span class="line"><span style="color:#50A14F;--shiki-dark:#98C379">  "班级"</span><span style="color:#383A42;--shiki-dark:#ABB2BF">,</span></span><span class="line"><span style="color:#50A14F;--shiki-dark:#98C379">  "学号"</span><span style="color:#383A42;--shiki-dark:#ABB2BF">,</span></span><span class="line"><span style="color:#50A14F;--shiki-dark:#98C379">  "学校"</span><span style="color:#383A42;--shiki-dark:#ABB2BF">,</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">)</span></span><span class="line"></span><span class="line"><span style="color:#4078F2;--shiki-dark:#61AFEF">#grid_blanks</span><span style="color:#383A42;--shiki-dark:#ABB2BF">(</span></span><span class="line"><span style="color:#383A42;font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic">  columns</span><span style="color:#383A42;--shiki-dark:#ABB2BF">: (</span><span style="color:#986801;--shiki-dark:#D19A66">auto</span><span style="color:#383A42;--shiki-dark:#ABB2BF">, </span><span style="color:#986801;--shiki-dark:#D19A66">auto</span><span style="color:#383A42;--shiki-dark:#ABB2BF">),</span></span><span class="line"><span style="color:#383A42;font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic">  align</span><span style="color:#383A42;--shiki-dark:#ABB2BF">: </span><span style="color:#E45649;--shiki-dark:#E06C75">right</span><span style="color:#383A42;--shiki-dark:#ABB2BF">,</span></span><span class="line"><span style="color:#383A42;font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic">  row-gutter</span><span style="color:#383A42;--shiki-dark:#ABB2BF">: </span><span style="color:#986801;--shiki-dark:#D19A66">1.5em</span><span style="color:#383A42;--shiki-dark:#ABB2BF">,</span></span><span class="line"><span style="color:#383A42;font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic">  column-gutter</span><span style="color:#383A42;--shiki-dark:#ABB2BF">: </span><span style="color:#986801;--shiki-dark:#D19A66">1em</span><span style="color:#383A42;--shiki-dark:#ABB2BF">,</span></span><span class="line"><span style="color:#383A42;font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic">  blank-width</span><span style="color:#383A42;--shiki-dark:#ABB2BF">: </span><span style="color:#986801;--shiki-dark:#D19A66">3cm</span><span style="color:#383A42;--shiki-dark:#ABB2BF">,</span></span><span class="line"><span style="color:#383A42;font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic">  colon</span><span style="color:#383A42;--shiki-dark:#ABB2BF">: [ </span><span style="color:#50A14F;--shiki-dark:#98C379">$==>  integral_0^1 pi - 1$</span><span style="color:#383A42;--shiki-dark:#ABB2BF"> ],</span></span><span class="line"><span style="color:#50A14F;--shiki-dark:#98C379">  "Name"</span><span style="color:#383A42;--shiki-dark:#ABB2BF">,</span></span><span class="line"><span style="color:#50A14F;--shiki-dark:#98C379">  "Class"</span><span style="color:#383A42;--shiki-dark:#ABB2BF">,</span></span><span class="line"><span style="color:#50A14F;--shiki-dark:#98C379">  "Id"</span><span style="color:#383A42;--shiki-dark:#ABB2BF">,</span></span><span class="line"><span style="color:#50A14F;--shiki-dark:#98C379">  "Grade"</span><span style="color:#383A42;--shiki-dark:#ABB2BF">,</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">)</span></span></code></pre></td></tr></tbody></table></figure><p>效果： <imgsrc="https://bu.dusays.com/2024/10/28/671f2b98b6c2e.webp" /> <imgsrc="https://bu.dusays.com/2024/10/28/671f2b9976496.webp" /></p><h3 id="页眉使用当前页面标题">页眉使用当前页面标题</h3><p>使用 <a href="https://github.com/tingerrr/hydra" rel="external nofollow noreferrer">hydra</a>包。需要其他设置可以参考 hydra 包的<ahref="https://github.com/tingerrr/hydra/blob/main/doc/manual.pdf">文档</a><figure class="highlight typst"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre class="shiki shiki-themes one-light one-dark-pro"><span class="line"><span style="color:#A626A4;--shiki-dark:#C678DD">#import</span><span style="color:#50A14F;--shiki-dark:#98C379"> "@preview/hydra:0.5.1"</span><span style="color:#383A42;--shiki-dark:#ABB2BF">: </span><span style="color:#E45649;--shiki-dark:#E06C75">hydra</span></span><span class="line"></span><span class="line"><span style="color:#A626A4;--shiki-dark:#C678DD">#set</span><span style="color:#4078F2;--shiki-dark:#61AFEF"> page</span><span style="color:#383A42;--shiki-dark:#ABB2BF">(</span></span><span class="line"><span style="color:#383A42;font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic">  header</span><span style="color:#383A42;--shiki-dark:#ABB2BF">: </span><span style="color:#E45649;--shiki-dark:#E06C75">context</span><span style="color:#4078F2;--shiki-dark:#61AFEF"> align</span><span style="color:#383A42;--shiki-dark:#ABB2BF">(</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">    &#123;</span></span><span class="line"><span style="color:#A626A4;--shiki-dark:#C678DD">      if</span><span style="color:#E45649;--shiki-dark:#E06C75"> calc</span><span style="color:#383A42;--shiki-dark:#ABB2BF">.</span><span style="color:#4078F2;--shiki-dark:#61AFEF">odd</span><span style="color:#383A42;--shiki-dark:#ABB2BF">(</span><span style="color:#4078F2;--shiki-dark:#61AFEF">here</span><span style="color:#383A42;--shiki-dark:#ABB2BF">().</span><span style="color:#4078F2;--shiki-dark:#61AFEF">page</span><span style="color:#383A42;--shiki-dark:#ABB2BF">()) &#123;</span></span><span class="line"><span style="color:#E45649;--shiki-dark:#E06C75">        right</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">      &#125; </span><span style="color:#A626A4;--shiki-dark:#C678DD">else</span><span style="color:#383A42;--shiki-dark:#ABB2BF"> &#123;</span></span><span class="line"><span style="color:#E45649;--shiki-dark:#E06C75">        left</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">      &#125;</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">    &#125;,</span></span><span class="line"><span style="color:#4078F2;--shiki-dark:#61AFEF">    emph</span><span style="color:#383A42;--shiki-dark:#ABB2BF">(</span><span style="color:#4078F2;--shiki-dark:#61AFEF">hydra</span><span style="color:#383A42;--shiki-dark:#ABB2BF">(</span><span style="color:#986801;--shiki-dark:#D19A66">1</span><span style="color:#383A42;--shiki-dark:#ABB2BF">, </span><span style="color:#383A42;font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic">skip-starting</span><span style="color:#383A42;--shiki-dark:#ABB2BF">: </span><span style="color:#986801;--shiki-dark:#D19A66">false</span><span style="color:#383A42;--shiki-dark:#ABB2BF">)),</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">  ),</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">)</span></span></code></pre></td></tr></tbody></table></figure> 效果： <imgsrc="https://bu.dusays.com/2024/10/28/671f2b9b2f2ec.webp" /><div class="note default modern"><i class="solitude fas fa-info-circle"></i><p>效果演示使用的是我的<a href="/posts/d6f83120/" title="多复变函数论笔记 - 第一章 全纯函数 - 第一节 复欧氏空间">多复变函数论笔记</a>的Typst 版本。</p></div></p><h3 id="目录不同层级标题使用不同样式">目录不同层级标题使用不同样式</h3><h4 id="简易版">简易版</h4><figure class="highlight typst"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre class="shiki shiki-themes one-light one-dark-pro"><span class="line"><span style="color:#A626A4;--shiki-dark:#C678DD">#show</span><span style="color:#4078F2;--shiki-dark:#61AFEF"> outline</span><span style="color:#383A42;--shiki-dark:#ABB2BF">.</span><span style="color:#E45649;--shiki-dark:#E06C75">entry</span><span style="color:#383A42;--shiki-dark:#ABB2BF">: </span><span style="color:#E45649;--shiki-dark:#E06C75">it</span><span style="color:#383A42;--shiki-dark:#ABB2BF"> => &#123;</span></span><span class="line"><span style="color:#A626A4;--shiki-dark:#C678DD">  if</span><span style="color:#E45649;--shiki-dark:#E06C75"> it</span><span style="color:#383A42;--shiki-dark:#ABB2BF">.</span><span style="color:#E45649;--shiki-dark:#E06C75">level</span><span style="color:#383A42;--shiki-dark:#56B6C2"> ==</span><span style="color:#986801;--shiki-dark:#D19A66"> 1</span><span style="color:#383A42;--shiki-dark:#ABB2BF"> &#123;</span></span><span class="line"><span style="color:#4078F2;--shiki-dark:#61AFEF">    strong</span><span style="color:#383A42;--shiki-dark:#ABB2BF">(</span><span style="color:#E45649;--shiki-dark:#E06C75">it</span><span style="color:#383A42;--shiki-dark:#ABB2BF">)</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">  &#125; </span><span style="color:#A626A4;--shiki-dark:#C678DD">else</span><span style="color:#A626A4;--shiki-dark:#C678DD"> if</span><span style="color:#E45649;--shiki-dark:#E06C75"> it</span><span style="color:#383A42;--shiki-dark:#ABB2BF">.</span><span style="color:#E45649;--shiki-dark:#E06C75">level</span><span style="color:#383A42;--shiki-dark:#56B6C2"> >=</span><span style="color:#986801;--shiki-dark:#D19A66"> 3</span><span style="color:#383A42;--shiki-dark:#ABB2BF"> &#123;</span></span><span class="line"><span style="color:#4078F2;--shiki-dark:#61AFEF">    emph</span><span style="color:#383A42;--shiki-dark:#ABB2BF">(</span><span style="color:#E45649;--shiki-dark:#E06C75">it</span><span style="color:#383A42;--shiki-dark:#ABB2BF">)</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">  &#125; </span><span style="color:#A626A4;--shiki-dark:#C678DD">else</span><span style="color:#383A42;--shiki-dark:#ABB2BF"> &#123;</span></span><span class="line"><span style="color:#E45649;--shiki-dark:#E06C75">    it</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">  &#125;</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">&#125;</span></span></code></pre></td></tr></tbody></table></figure><p>效果如下： <imgsrc="https://bu.dusays.com/2024/10/28/671f2b9cc5a92.webp" alt="效果" />可以发现，页码也变得歪七倒八的。如果不介意，那么用这个简易版即可；反之，可以看下面的复杂版</p><h4 id="复杂版">复杂版</h4><figure class="highlight typst"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre class="shiki shiki-themes one-light one-dark-pro"><span class="line"><span style="color:#A626A4;--shiki-dark:#C678DD">#show</span><span style="color:#4078F2;--shiki-dark:#61AFEF"> outline</span><span style="color:#383A42;--shiki-dark:#ABB2BF">.</span><span style="color:#E45649;--shiki-dark:#E06C75">entry</span><span style="color:#383A42;--shiki-dark:#ABB2BF">: </span><span style="color:#E45649;--shiki-dark:#E06C75">it</span><span style="color:#383A42;--shiki-dark:#ABB2BF"> => &#123;</span></span><span class="line"><span style="color:#A626A4;--shiki-dark:#C678DD">  let</span><span style="color:#E45649;--shiki-dark:#E06C75"> loc</span><span style="color:#383A42;--shiki-dark:#56B6C2"> =</span><span style="color:#E45649;--shiki-dark:#E06C75"> it</span><span style="color:#383A42;--shiki-dark:#ABB2BF">.</span><span style="color:#E45649;--shiki-dark:#E06C75">element</span><span style="color:#383A42;--shiki-dark:#ABB2BF">.</span><span style="color:#4078F2;--shiki-dark:#61AFEF">location</span><span style="color:#383A42;--shiki-dark:#ABB2BF">()</span></span><span class="line"><span style="color:#4078F2;--shiki-dark:#61AFEF">  link</span><span style="color:#383A42;--shiki-dark:#ABB2BF">(</span></span><span class="line"><span style="color:#E45649;--shiki-dark:#E06C75">    loc</span><span style="color:#383A42;--shiki-dark:#ABB2BF">,</span></span><span class="line"><span style="color:#A626A4;--shiki-dark:#C678DD">    if</span><span style="color:#E45649;--shiki-dark:#E06C75"> it</span><span style="color:#383A42;--shiki-dark:#ABB2BF">.</span><span style="color:#E45649;--shiki-dark:#E06C75">level</span><span style="color:#383A42;--shiki-dark:#56B6C2"> ==</span><span style="color:#986801;--shiki-dark:#D19A66"> 1</span><span style="color:#383A42;--shiki-dark:#ABB2BF"> &#123;</span></span><span class="line"><span style="color:#4078F2;--shiki-dark:#61AFEF">      strong</span><span style="color:#383A42;--shiki-dark:#ABB2BF">(</span><span style="color:#E45649;--shiki-dark:#E06C75">it</span><span style="color:#383A42;--shiki-dark:#ABB2BF">.</span><span style="color:#E45649;--shiki-dark:#E06C75">body</span><span style="color:#383A42;--shiki-dark:#ABB2BF">)</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">    &#125; </span><span style="color:#A626A4;--shiki-dark:#C678DD">else</span><span style="color:#A626A4;--shiki-dark:#C678DD"> if</span><span style="color:#E45649;--shiki-dark:#E06C75"> it</span><span style="color:#383A42;--shiki-dark:#ABB2BF">.</span><span style="color:#E45649;--shiki-dark:#E06C75">level</span><span style="color:#383A42;--shiki-dark:#56B6C2"> >=</span><span style="color:#986801;--shiki-dark:#D19A66"> 3</span><span style="color:#383A42;--shiki-dark:#ABB2BF"> &#123;</span></span><span class="line"><span style="color:#4078F2;--shiki-dark:#61AFEF">      emph</span><span style="color:#383A42;--shiki-dark:#ABB2BF">(</span><span style="color:#E45649;--shiki-dark:#E06C75">it</span><span style="color:#383A42;--shiki-dark:#ABB2BF">.</span><span style="color:#E45649;--shiki-dark:#E06C75">body</span><span style="color:#383A42;--shiki-dark:#ABB2BF">)</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">    &#125; </span><span style="color:#A626A4;--shiki-dark:#C678DD">else</span><span style="color:#383A42;--shiki-dark:#ABB2BF"> &#123;</span></span><span class="line"><span style="color:#E45649;--shiki-dark:#E06C75">      it</span><span style="color:#383A42;--shiki-dark:#ABB2BF">.</span><span style="color:#E45649;--shiki-dark:#E06C75">body</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">    &#125;,</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">  )</span></span><span class="line"><span style="color:#E45649;--shiki-dark:#E06C75">  sym</span><span style="color:#383A42;--shiki-dark:#ABB2BF">.</span><span style="color:#E45649;--shiki-dark:#E06C75">space</span></span><span class="line"><span style="color:#4078F2;--shiki-dark:#61AFEF">  box</span><span style="color:#383A42;--shiki-dark:#ABB2BF">(</span><span style="color:#383A42;font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic">width</span><span style="color:#383A42;--shiki-dark:#ABB2BF">: </span><span style="color:#986801;--shiki-dark:#D19A66">1fr</span><span style="color:#383A42;--shiki-dark:#ABB2BF">, </span><span style="color:#E45649;--shiki-dark:#E06C75">it</span><span style="color:#383A42;--shiki-dark:#ABB2BF">.</span><span style="color:#E45649;--shiki-dark:#E06C75">fill</span><span style="color:#383A42;--shiki-dark:#ABB2BF">)</span></span><span class="line"><span style="color:#E45649;--shiki-dark:#E06C75">  sym</span><span style="color:#383A42;--shiki-dark:#ABB2BF">.</span><span style="color:#E45649;--shiki-dark:#E06C75">space</span></span><span class="line"><span style="color:#4078F2;--shiki-dark:#61AFEF">  link</span><span style="color:#383A42;--shiki-dark:#ABB2BF">(</span><span style="color:#E45649;--shiki-dark:#E06C75">loc</span><span style="color:#383A42;--shiki-dark:#ABB2BF">, </span><span style="color:#E45649;--shiki-dark:#E06C75">it</span><span style="color:#383A42;--shiki-dark:#ABB2BF">.</span><span style="color:#E45649;--shiki-dark:#E06C75">page</span><span style="color:#383A42;--shiki-dark:#ABB2BF">)</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">&#125;</span></span></code></pre></td></tr></tbody></table></figure><p>复杂版是直接照着 Typst 的 <code>outline</code> 函数<ahref="https://github.com/typst/typst/blob/main/crates/typst/src/model/outline.rs#L486">源码</a>来写的，只有标题的文字部分会修改样式，效果如下：<img src= "" data-lazy-src="https://bu.dusays.com/2024/10/28/671f2b9d989f5.webp"alt="效果" /></p><h3 id="结合-showybox-与-ctheorems-包制作美观定理环境">结合 showybox 与ctheorems 包制作美观定理环境</h3><p>本节内容参考了 <ahref="https://github.com/sahasatvik/typst-theorems/issues/15">showyboxand ctheorems? · Issue #15 · sahasatvik/typst-theorems</a>的内容并进行了部分修改。 <figure class="highlight typst"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br></pre></td><td class="code"><pre class="shiki shiki-themes one-light one-dark-pro"><span class="line"><span style="color:#A0A1A7;font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">// --------- 定义函数 ---------</span></span><span class="line"><span style="color:#A626A4;--shiki-dark:#C678DD">#import</span><span style="color:#50A14F;--shiki-dark:#98C379"> "@preview/ctheorems:1.1.2"</span><span style="color:#383A42;--shiki-dark:#ABB2BF">: </span><span style="color:#383A42;--shiki-dark:#56B6C2">*</span></span><span class="line"><span style="color:#A626A4;--shiki-dark:#C678DD">#import</span><span style="color:#50A14F;--shiki-dark:#98C379"> "@preview/showybox:2.0.1"</span><span style="color:#383A42;--shiki-dark:#ABB2BF">: </span><span style="color:#E45649;--shiki-dark:#E06C75">showybox</span></span><span class="line"></span><span class="line"><span style="color:#A626A4;--shiki-dark:#C678DD">#let</span><span style="color:#4078F2;--shiki-dark:#61AFEF"> showy-thm</span><span style="color:#383A42;--shiki-dark:#ABB2BF">(</span></span><span class="line"><span style="color:#E45649;--shiki-dark:#E06C75">  identifier</span><span style="color:#383A42;--shiki-dark:#ABB2BF">,</span></span><span class="line"><span style="color:#E45649;--shiki-dark:#E06C75">  head</span><span style="color:#383A42;--shiki-dark:#ABB2BF">,</span></span><span class="line"><span style="color:#383A42;font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic">  color</span><span style="color:#383A42;--shiki-dark:#ABB2BF">: </span><span style="color:#E45649;--shiki-dark:#E06C75">blue</span><span style="color:#383A42;--shiki-dark:#ABB2BF">,</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">  ..</span><span style="color:#E45649;--shiki-dark:#E06C75">showy-args</span><span style="color:#383A42;--shiki-dark:#ABB2BF">,</span></span><span class="line"><span style="color:#383A42;font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic">  supplement</span><span style="color:#383A42;--shiki-dark:#ABB2BF">: </span><span style="color:#986801;--shiki-dark:#D19A66">auto</span><span style="color:#383A42;--shiki-dark:#ABB2BF">,</span></span><span class="line"><span style="color:#383A42;font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic">  base</span><span style="color:#383A42;--shiki-dark:#ABB2BF">: </span><span style="color:#50A14F;--shiki-dark:#98C379">"heading"</span><span style="color:#383A42;--shiki-dark:#ABB2BF">,</span></span><span class="line"><span style="color:#383A42;font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic">  base_level</span><span style="color:#383A42;--shiki-dark:#ABB2BF">: </span><span style="color:#986801;--shiki-dark:#D19A66">none</span><span style="color:#383A42;--shiki-dark:#ABB2BF">,</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">) </span><span style="color:#383A42;--shiki-dark:#56B6C2">=</span><span style="color:#383A42;--shiki-dark:#ABB2BF"> &#123;</span></span><span class="line"><span style="color:#A626A4;--shiki-dark:#C678DD">  let</span><span style="color:#4078F2;--shiki-dark:#61AFEF"> showy-fmt</span><span style="color:#383A42;--shiki-dark:#ABB2BF">(</span><span style="color:#E45649;--shiki-dark:#E06C75">name</span><span style="color:#383A42;--shiki-dark:#ABB2BF">, </span><span style="color:#E45649;--shiki-dark:#E06C75">number</span><span style="color:#383A42;--shiki-dark:#ABB2BF">, </span><span style="color:#E45649;--shiki-dark:#E06C75">body</span><span style="color:#383A42;--shiki-dark:#ABB2BF">, ..</span><span style="color:#E45649;--shiki-dark:#E06C75">args</span><span style="color:#383A42;--shiki-dark:#ABB2BF">) </span><span style="color:#383A42;--shiki-dark:#56B6C2">=</span><span style="color:#383A42;--shiki-dark:#ABB2BF"> &#123;</span></span><span class="line"><span style="color:#4078F2;--shiki-dark:#61AFEF">    showybox</span><span style="color:#383A42;--shiki-dark:#ABB2BF">(</span></span><span class="line"><span style="color:#383A42;font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic">      title</span><span style="color:#383A42;--shiki-dark:#ABB2BF">: &#123;</span></span><span class="line"><span style="color:#E45649;--shiki-dark:#E06C75">        head</span></span><span class="line"><span style="color:#E45649;--shiki-dark:#E06C75">        number</span></span><span class="line"><span style="color:#A626A4;--shiki-dark:#C678DD">        if</span><span style="color:#E45649;--shiki-dark:#E06C75"> name</span><span style="color:#383A42;--shiki-dark:#56B6C2"> !=</span><span style="color:#986801;--shiki-dark:#D19A66"> none</span><span style="color:#383A42;--shiki-dark:#ABB2BF"> &#123;</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">          [（#name）]</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">        &#125;</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">      &#125;,</span></span><span class="line"><span style="color:#383A42;font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic">      frame</span><span style="color:#383A42;--shiki-dark:#ABB2BF">: (</span></span><span class="line"><span style="color:#E45649;--shiki-dark:#E06C75">        border-color</span><span style="color:#383A42;--shiki-dark:#ABB2BF">: </span><span style="color:#E45649;--shiki-dark:#E06C75">color</span><span style="color:#383A42;--shiki-dark:#ABB2BF">,</span></span><span class="line"><span style="color:#E45649;--shiki-dark:#E06C75">        title-color</span><span style="color:#383A42;--shiki-dark:#ABB2BF">: </span><span style="color:#E45649;--shiki-dark:#E06C75">color</span><span style="color:#383A42;--shiki-dark:#ABB2BF">.</span><span style="color:#4078F2;--shiki-dark:#61AFEF">lighten</span><span style="color:#383A42;--shiki-dark:#ABB2BF">(</span><span style="color:#986801;--shiki-dark:#D19A66">30%</span><span style="color:#383A42;--shiki-dark:#ABB2BF">),</span></span><span class="line"><span style="color:#E45649;--shiki-dark:#E06C75">        body-color</span><span style="color:#383A42;--shiki-dark:#ABB2BF">: </span><span style="color:#E45649;--shiki-dark:#E06C75">color</span><span style="color:#383A42;--shiki-dark:#ABB2BF">.</span><span style="color:#4078F2;--shiki-dark:#61AFEF">lighten</span><span style="color:#383A42;--shiki-dark:#ABB2BF">(</span><span style="color:#986801;--shiki-dark:#D19A66">95%</span><span style="color:#383A42;--shiki-dark:#ABB2BF">),</span></span><span class="line"><span style="color:#E45649;--shiki-dark:#E06C75">        footer-color</span><span style="color:#383A42;--shiki-dark:#ABB2BF">: </span><span style="color:#E45649;--shiki-dark:#E06C75">color</span><span style="color:#383A42;--shiki-dark:#ABB2BF">.</span><span style="color:#4078F2;--shiki-dark:#61AFEF">lighten</span><span style="color:#383A42;--shiki-dark:#ABB2BF">(</span><span style="color:#986801;--shiki-dark:#D19A66">80%</span><span style="color:#383A42;--shiki-dark:#ABB2BF">),</span></span><span class="line"><span style="color:#E45649;--shiki-dark:#E06C75">        radius</span><span style="color:#383A42;--shiki-dark:#ABB2BF">: (</span><span style="color:#E45649;--shiki-dark:#E06C75">top-left</span><span style="color:#383A42;--shiki-dark:#ABB2BF">: </span><span style="color:#986801;--shiki-dark:#D19A66">7pt</span><span style="color:#383A42;--shiki-dark:#ABB2BF">, </span><span style="color:#E45649;--shiki-dark:#E06C75">bottom-right</span><span style="color:#383A42;--shiki-dark:#ABB2BF">: </span><span style="color:#986801;--shiki-dark:#D19A66">7pt</span><span style="color:#383A42;--shiki-dark:#ABB2BF">, </span><span style="color:#E45649;--shiki-dark:#E06C75">rest</span><span style="color:#383A42;--shiki-dark:#ABB2BF">: </span><span style="color:#986801;--shiki-dark:#D19A66">2pt</span><span style="color:#383A42;--shiki-dark:#ABB2BF">),</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">      ),</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">      ..</span><span style="color:#E45649;--shiki-dark:#E06C75">args</span><span style="color:#383A42;--shiki-dark:#ABB2BF">.</span><span style="color:#4078F2;--shiki-dark:#61AFEF">named</span><span style="color:#383A42;--shiki-dark:#ABB2BF">(),</span></span><span class="line"><span style="color:#E45649;--shiki-dark:#E06C75">      body</span><span style="color:#383A42;--shiki-dark:#ABB2BF">,</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">    )</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">  &#125;</span></span><span class="line"><span style="color:#A626A4;--shiki-dark:#C678DD">  if</span><span style="color:#E45649;--shiki-dark:#E06C75"> supplement</span><span style="color:#383A42;--shiki-dark:#56B6C2"> ==</span><span style="color:#986801;--shiki-dark:#D19A66"> auto</span><span style="color:#383A42;--shiki-dark:#ABB2BF"> &#123;</span></span><span class="line"><span style="color:#E45649;--shiki-dark:#E06C75">    supplement</span><span style="color:#383A42;--shiki-dark:#56B6C2"> =</span><span style="color:#E45649;--shiki-dark:#E06C75"> head</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">  &#125;</span></span><span class="line"><span style="color:#4078F2;--shiki-dark:#61AFEF">  thmenv</span><span style="color:#383A42;--shiki-dark:#ABB2BF">(</span></span><span class="line"><span style="color:#E45649;--shiki-dark:#E06C75">    identifier</span><span style="color:#383A42;--shiki-dark:#ABB2BF">,</span></span><span class="line"><span style="color:#50A14F;--shiki-dark:#98C379">    "heading"</span><span style="color:#383A42;--shiki-dark:#ABB2BF">,</span></span><span class="line"><span style="color:#986801;--shiki-dark:#D19A66">    none</span><span style="color:#383A42;--shiki-dark:#ABB2BF">,</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">    (</span><span style="color:#E45649;--shiki-dark:#E06C75">name</span><span style="color:#383A42;--shiki-dark:#ABB2BF">, </span><span style="color:#E45649;--shiki-dark:#E06C75">number</span><span style="color:#383A42;--shiki-dark:#ABB2BF">, </span><span style="color:#E45649;--shiki-dark:#E06C75">body</span><span style="color:#383A42;--shiki-dark:#ABB2BF">) => </span><span style="color:#4078F2;--shiki-dark:#61AFEF">showy-fmt</span><span style="color:#383A42;--shiki-dark:#ABB2BF">(</span><span style="color:#E45649;--shiki-dark:#E06C75">name</span><span style="color:#383A42;--shiki-dark:#ABB2BF">, </span><span style="color:#E45649;--shiki-dark:#E06C75">number</span><span style="color:#383A42;--shiki-dark:#ABB2BF">, </span><span style="color:#E45649;--shiki-dark:#E06C75">body</span><span style="color:#383A42;--shiki-dark:#ABB2BF">, ..</span><span style="color:#E45649;--shiki-dark:#E06C75">showy-args</span><span style="color:#383A42;--shiki-dark:#ABB2BF">),</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">  ).</span><span style="color:#4078F2;--shiki-dark:#61AFEF">with</span><span style="color:#383A42;--shiki-dark:#ABB2BF">(</span><span style="color:#383A42;font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic">supplement</span><span style="color:#383A42;--shiki-dark:#ABB2BF">: </span><span style="color:#E45649;--shiki-dark:#E06C75">supplement</span><span style="color:#383A42;--shiki-dark:#ABB2BF">)</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">&#125;</span></span><span class="line"></span><span class="line"><span style="color:#A626A4;--shiki-dark:#C678DD">#let</span><span style="color:#E45649;--shiki-dark:#E06C75"> theorem</span><span style="color:#383A42;--shiki-dark:#56B6C2"> =</span><span style="color:#4078F2;--shiki-dark:#61AFEF"> showy-thm</span><span style="color:#383A42;--shiki-dark:#ABB2BF">(</span></span><span class="line"><span style="color:#50A14F;--shiki-dark:#98C379">  "theorem"</span><span style="color:#383A42;--shiki-dark:#ABB2BF">,</span></span><span class="line"><span style="color:#50A14F;--shiki-dark:#98C379">  "定理"</span><span style="color:#383A42;--shiki-dark:#ABB2BF">,</span></span><span class="line"><span style="color:#383A42;font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic">  title-style</span><span style="color:#383A42;--shiki-dark:#ABB2BF">: (</span></span><span class="line"><span style="color:#E45649;--shiki-dark:#E06C75">    weight</span><span style="color:#383A42;--shiki-dark:#ABB2BF">: </span><span style="color:#50A14F;--shiki-dark:#98C379">"bold"</span><span style="color:#383A42;--shiki-dark:#ABB2BF">,</span></span><span class="line"><span style="color:#E45649;--shiki-dark:#E06C75">    boxed-style</span><span style="color:#383A42;--shiki-dark:#ABB2BF">: (</span></span><span class="line"><span style="color:#E45649;--shiki-dark:#E06C75">      anchor</span><span style="color:#383A42;--shiki-dark:#ABB2BF">: (</span><span style="color:#E45649;--shiki-dark:#E06C75">x</span><span style="color:#383A42;--shiki-dark:#ABB2BF">: </span><span style="color:#E45649;--shiki-dark:#E06C75">left</span><span style="color:#383A42;--shiki-dark:#ABB2BF">, </span><span style="color:#E45649;--shiki-dark:#E06C75">y</span><span style="color:#383A42;--shiki-dark:#ABB2BF">: </span><span style="color:#E45649;--shiki-dark:#E06C75">horizon</span><span style="color:#383A42;--shiki-dark:#ABB2BF">),</span></span><span class="line"><span style="color:#E45649;--shiki-dark:#E06C75">      offset</span><span style="color:#383A42;--shiki-dark:#ABB2BF">: (</span><span style="color:#E45649;--shiki-dark:#E06C75">x</span><span style="color:#383A42;--shiki-dark:#ABB2BF">: </span><span style="color:#986801;--shiki-dark:#D19A66">0pt</span><span style="color:#383A42;--shiki-dark:#ABB2BF">, </span><span style="color:#E45649;--shiki-dark:#E06C75">t</span><span style="color:#383A42;--shiki-dark:#ABB2BF">: </span><span style="color:#986801;--shiki-dark:#D19A66">0pt</span><span style="color:#383A42;--shiki-dark:#ABB2BF">),</span></span><span class="line"><span style="color:#E45649;--shiki-dark:#E06C75">      radius</span><span style="color:#383A42;--shiki-dark:#ABB2BF">: (</span><span style="color:#E45649;--shiki-dark:#E06C75">top-left</span><span style="color:#383A42;--shiki-dark:#ABB2BF">: </span><span style="color:#986801;--shiki-dark:#D19A66">7pt</span><span style="color:#383A42;--shiki-dark:#ABB2BF">, </span><span style="color:#E45649;--shiki-dark:#E06C75">bottom-right</span><span style="color:#383A42;--shiki-dark:#ABB2BF">: </span><span style="color:#986801;--shiki-dark:#D19A66">7pt</span><span style="color:#383A42;--shiki-dark:#ABB2BF">, </span><span style="color:#E45649;--shiki-dark:#E06C75">rest</span><span style="color:#383A42;--shiki-dark:#ABB2BF">: </span><span style="color:#986801;--shiki-dark:#D19A66">2pt</span><span style="color:#383A42;--shiki-dark:#ABB2BF">),</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">    ),</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">  ),</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">).</span><span style="color:#4078F2;--shiki-dark:#61AFEF">with</span><span style="color:#383A42;--shiki-dark:#ABB2BF">(</span><span style="color:#383A42;font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic">numbering</span><span style="color:#383A42;--shiki-dark:#ABB2BF">: </span><span style="color:#50A14F;--shiki-dark:#98C379">"1.1"</span><span style="color:#383A42;--shiki-dark:#ABB2BF">)</span></span><span class="line"><span style="color:#A626A4;--shiki-dark:#C678DD">#let</span><span style="color:#E45649;--shiki-dark:#E06C75"> lemma</span><span style="color:#383A42;--shiki-dark:#56B6C2"> =</span><span style="color:#4078F2;--shiki-dark:#61AFEF"> showy-thm</span><span style="color:#383A42;--shiki-dark:#ABB2BF">(</span><span style="color:#50A14F;--shiki-dark:#98C379">"lemma"</span><span style="color:#383A42;--shiki-dark:#ABB2BF">, </span><span style="color:#50A14F;--shiki-dark:#98C379">"引理"</span><span style="color:#383A42;--shiki-dark:#ABB2BF">, </span><span style="color:#383A42;font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic">color</span><span style="color:#383A42;--shiki-dark:#ABB2BF">: </span><span style="color:#E45649;--shiki-dark:#E06C75">green</span><span style="color:#383A42;--shiki-dark:#ABB2BF">.</span><span style="color:#4078F2;--shiki-dark:#61AFEF">darken</span><span style="color:#383A42;--shiki-dark:#ABB2BF">(</span><span style="color:#986801;--shiki-dark:#D19A66">25%</span><span style="color:#383A42;--shiki-dark:#ABB2BF">)).</span><span style="color:#4078F2;--shiki-dark:#61AFEF">with</span><span style="color:#383A42;--shiki-dark:#ABB2BF">(</span><span style="color:#383A42;font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic">numbering</span><span style="color:#383A42;--shiki-dark:#ABB2BF">: </span><span style="color:#50A14F;--shiki-dark:#98C379">"1.1"</span><span style="color:#383A42;--shiki-dark:#ABB2BF">)</span></span><span class="line"><span style="color:#A626A4;--shiki-dark:#C678DD">#let</span><span style="color:#E45649;--shiki-dark:#E06C75"> proof</span><span style="color:#383A42;--shiki-dark:#56B6C2"> =</span><span style="color:#4078F2;--shiki-dark:#61AFEF"> thmproof</span><span style="color:#383A42;--shiki-dark:#ABB2BF">(</span><span style="color:#50A14F;--shiki-dark:#98C379">"proof"</span><span style="color:#383A42;--shiki-dark:#ABB2BF">, </span><span style="color:#50A14F;--shiki-dark:#98C379">"证明"</span><span style="color:#383A42;--shiki-dark:#ABB2BF">, </span><span style="color:#383A42;font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic">inset</span><span style="color:#383A42;--shiki-dark:#ABB2BF">: (</span><span style="color:#E45649;--shiki-dark:#E06C75">x</span><span style="color:#383A42;--shiki-dark:#ABB2BF">: </span><span style="color:#986801;--shiki-dark:#D19A66">0em</span><span style="color:#383A42;--shiki-dark:#ABB2BF">, </span><span style="color:#E45649;--shiki-dark:#E06C75">top</span><span style="color:#383A42;--shiki-dark:#ABB2BF">: </span><span style="color:#986801;--shiki-dark:#D19A66">0em</span><span style="color:#383A42;--shiki-dark:#ABB2BF">))</span></span><span class="line"><span style="color:#A0A1A7;font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">// --------- 定义函数 ---------</span></span><span class="line"></span><span class="line"><span style="color:#A0A1A7;font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">// --------- 使用演示 ---------</span></span><span class="line"><span style="color:#A626A4;--shiki-dark:#C678DD">#show</span><span style="color:#383A42;--shiki-dark:#ABB2BF">: </span><span style="color:#E45649;--shiki-dark:#E06C75">thmrules</span></span><span class="line"><span style="color:#4078F2;--shiki-dark:#61AFEF">#theorem</span><span style="color:#383A42;--shiki-dark:#ABB2BF">[</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">  对任何子集 </span><span style="color:#50A14F;--shiki-dark:#98C379">$Omega subset CC^n$</span><span style="color:#383A42;--shiki-dark:#ABB2BF">，</span><span style="color:#50A14F;--shiki-dark:#98C379">$cal(O)(Omega)$</span><span style="color:#383A42;--shiki-dark:#ABB2BF"> 在逐点加法和数乘意义下封闭。</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">  任一关于 </span><span style="color:#50A14F;--shiki-dark:#98C379">$z_1, dots.c, z_n$</span><span style="color:#383A42;--shiki-dark:#ABB2BF"> 的复系数多项式在 </span><span style="color:#50A14F;--shiki-dark:#98C379">$CC^n$</span><span style="color:#383A42;--shiki-dark:#ABB2BF"> 上是全纯的，从而在 </span><span style="color:#50A14F;--shiki-dark:#98C379">$cal(O)(Omega)$</span><span style="color:#383A42;--shiki-dark:#ABB2BF"> 里。</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">  若 </span><span style="color:#50A14F;--shiki-dark:#98C379">$f, g in cal(O)(Omega)$</span><span style="color:#383A42;--shiki-dark:#ABB2BF">，且 </span><span style="color:#50A14F;--shiki-dark:#98C379">$g(z) eq.not 0, forall z in Omega$</span><span style="color:#383A42;--shiki-dark:#ABB2BF">，则 </span><span style="color:#50A14F;--shiki-dark:#98C379">$f slash g in cal(O)(Omega)$</span><span style="color:#383A42;--shiki-dark:#ABB2BF">。</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">]</span></span><span class="line"><span style="color:#4078F2;--shiki-dark:#61AFEF">#theorem</span><span style="color:#383A42;--shiki-dark:#ABB2BF">(</span><span style="color:#50A14F;--shiki-dark:#98C379">"F. Hartogs, 1906"</span><span style="color:#383A42;--shiki-dark:#ABB2BF">, </span><span style="color:#383A42;font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic">numbering</span><span style="color:#383A42;--shiki-dark:#ABB2BF">: </span><span style="color:#986801;--shiki-dark:#D19A66">none</span><span style="color:#383A42;--shiki-dark:#ABB2BF">)[</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">  设 </span><span style="color:#50A14F;--shiki-dark:#98C379">$D subset CC^n$</span><span style="color:#383A42;--shiki-dark:#ABB2BF"> 为一区域，</span><span style="color:#50A14F;--shiki-dark:#98C379">$f: D -> CC$</span><span style="color:#383A42;--shiki-dark:#ABB2BF">。若 </span><span style="color:#50A14F;--shiki-dark:#98C379">$f$</span><span style="color:#383A42;--shiki-dark:#ABB2BF"> 分别关于每一单复变量 </span><span style="color:#50A14F;--shiki-dark:#98C379">$z_j (1 &#x3C;= j &#x3C;= n)$</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">  全纯，则 </span><span style="color:#50A14F;--shiki-dark:#98C379">$f in cal(O)(D)$</span><span style="color:#383A42;--shiki-dark:#ABB2BF">。</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">]</span></span><span class="line"><span style="color:#4078F2;--shiki-dark:#61AFEF">#lemma</span><span style="color:#383A42;--shiki-dark:#ABB2BF">(</span><span style="color:#50A14F;--shiki-dark:#98C379">"Osgood"</span><span style="color:#383A42;--shiki-dark:#ABB2BF">, </span><span style="color:#383A42;font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic">numbering</span><span style="color:#383A42;--shiki-dark:#ABB2BF">: </span><span style="color:#986801;--shiki-dark:#D19A66">none</span><span style="color:#383A42;--shiki-dark:#ABB2BF">)[</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">  设 </span><span style="color:#50A14F;--shiki-dark:#98C379">$D subset CC$</span><span style="color:#383A42;--shiki-dark:#ABB2BF"> 为一区域，</span><span style="color:#50A14F;--shiki-dark:#98C379">$f: D -> CC$</span><span style="color:#383A42;--shiki-dark:#ABB2BF">。若 </span><span style="color:#50A14F;--shiki-dark:#98C379">$f in C(D)$</span><span style="color:#383A42;--shiki-dark:#ABB2BF">，且 </span><span style="color:#50A14F;--shiki-dark:#98C379">$f$</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">  分别关于每一单复变量 </span><span style="color:#50A14F;--shiki-dark:#98C379">$z_j (1 &#x3C;= j &#x3C;= n)$</span><span style="color:#383A42;--shiki-dark:#ABB2BF"> 全纯，则 </span><span style="color:#50A14F;--shiki-dark:#98C379">$f in cal(O)(D)$</span><span style="color:#383A42;--shiki-dark:#ABB2BF">。</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">]</span></span><span class="line"><span style="color:#A0A1A7;font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">// --------- 使用演示 ---------</span></span></code></pre></td></tr></tbody></table></figure></p><p>效果： <imgsrc="https://bu.dusays.com/2024/10/28/671f2b9f49a8c.webp" /></p><h3 id="在文本中使用美观的大括号分类">在文本中使用美观的大括号分类</h3><figure class="highlight typst"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre class="shiki shiki-themes one-light one-dark-pro"><span class="line"><span style="color:#A626A4;--shiki-dark:#C678DD">#let</span><span style="color:#E45649;--shiki-dark:#E06C75"> my-cases</span><span style="color:#383A42;--shiki-dark:#56B6C2"> =</span><span style="color:#383A42;--shiki-dark:#ABB2BF"> (..</span><span style="color:#E45649;--shiki-dark:#E06C75">items</span><span style="color:#383A42;--shiki-dark:#ABB2BF">) => </span><span style="color:#4078F2;--shiki-dark:#61AFEF">box</span><span style="color:#383A42;--shiki-dark:#ABB2BF">(</span></span><span class="line"><span style="color:#383A42;font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic">  baseline</span><span style="color:#383A42;--shiki-dark:#ABB2BF">: </span><span style="color:#986801;--shiki-dark:#D19A66">50%</span><span style="color:#383A42;--shiki-dark:#56B6C2"> -</span><span style="color:#986801;--shiki-dark:#D19A66"> 0.5em</span><span style="color:#383A42;--shiki-dark:#ABB2BF">,</span></span><span class="line"><span style="color:#383A42;font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic">  width</span><span style="color:#383A42;--shiki-dark:#ABB2BF">: </span><span style="color:#986801;--shiki-dark:#D19A66">1fr</span><span style="color:#383A42;--shiki-dark:#ABB2BF">,</span></span><span class="line"><span style="color:#E45649;--shiki-dark:#E06C75">  math</span><span style="color:#383A42;--shiki-dark:#ABB2BF">.</span><span style="color:#4078F2;--shiki-dark:#61AFEF">cases</span><span style="color:#383A42;--shiki-dark:#ABB2BF">(</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">    ..</span><span style="color:#E45649;--shiki-dark:#E06C75">items</span><span style="color:#383A42;--shiki-dark:#ABB2BF">.</span><span style="color:#4078F2;--shiki-dark:#61AFEF">pos</span><span style="color:#383A42;--shiki-dark:#ABB2BF">().</span><span style="color:#4078F2;--shiki-dark:#61AFEF">map</span><span style="color:#383A42;--shiki-dark:#ABB2BF">(</span><span style="color:#E45649;--shiki-dark:#E06C75">item</span><span style="color:#383A42;--shiki-dark:#ABB2BF"> => </span><span style="color:#E45649;--shiki-dark:#E06C75">math</span><span style="color:#383A42;--shiki-dark:#ABB2BF">.</span><span style="color:#4078F2;--shiki-dark:#61AFEF">display</span><span style="color:#383A42;--shiki-dark:#ABB2BF">(</span><span style="color:#4078F2;--shiki-dark:#61AFEF">block</span><span style="color:#383A42;--shiki-dark:#ABB2BF">(</span><span style="color:#E45649;--shiki-dark:#E06C75">item</span><span style="color:#383A42;--shiki-dark:#ABB2BF">))),</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">  ),</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">)</span></span><span class="line"></span><span class="line"><span style="color:#C18401;font-weight:bold;--shiki-dark:#E5C07B;--shiki-dark-font-weight:inherit">*</span><span style="color:#986801;font-weight:bold;--shiki-dark:#D19A66;--shiki-dark-font-weight:inherit">TEST</span><span style="color:#C18401;font-weight:bold;--shiki-dark:#E5C07B;--shiki-dark-font-weight:inherit">*</span><span style="color:#383A42;--shiki-dark:#ABB2BF">: </span><span style="color:#4078F2;--shiki-dark:#61AFEF">#my-cases</span><span style="color:#383A42;--shiki-dark:#ABB2BF">(</span></span><span class="line"><span style="color:#4078F2;--shiki-dark:#61AFEF">  lorem</span><span style="color:#383A42;--shiki-dark:#ABB2BF">(</span><span style="color:#986801;--shiki-dark:#D19A66">20</span><span style="color:#383A42;--shiki-dark:#ABB2BF">),</span></span><span class="line"><span style="color:#4078F2;--shiki-dark:#61AFEF">  lorem</span><span style="color:#383A42;--shiki-dark:#ABB2BF">(</span><span style="color:#986801;--shiki-dark:#D19A66">20</span><span style="color:#383A42;--shiki-dark:#ABB2BF">),</span></span><span class="line"><span style="color:#4078F2;--shiki-dark:#61AFEF">  lorem</span><span style="color:#383A42;--shiki-dark:#ABB2BF">(</span><span style="color:#986801;--shiki-dark:#D19A66">20</span><span style="color:#383A42;--shiki-dark:#ABB2BF">),</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">)</span></span></code></pre></td></tr></tbody></table></figure><p>效果： <imgsrc="https://bu.dusays.com/2024/10/28/671f2ba7b79a1.webp" /></p><h3 id="其他">其他</h3><ul><li>对齐 <code>enum</code> / <code>list</code> 环境中的文本与标号：<ahref="https://github.com/typst/typst/issues/1204">List and enum markersare not aligned with the baseline of the item’s contents · Issue #1204 ·typst/typst</a></li></ul><h2 id="转换为-markdown">转换为 Markdown</h2><p>我使用 Pandoc 将 Typst 转换为 Markdown 文件，方便放在博客。<div class="note default modern"><i class="solitude fas fa-info-circle"></i><p>如果你愿意折腾，可以尝试使用 <ahref="https://github.com/Myriad-Dreamin/typst.ts/tree/main/projects/hexo-renderer-typst">hexo-renderer-typst</a>直接在 Hexo 上渲染 Typst 文档。</p></div></p><h3 id="基础操作">基础操作</h3><p>下载 <a href="https://github.com/jgm/pandoc/releases" rel="external nofollow noreferrer">Pandoc</a>的最新版本，配置相应环境变量（如果有需要的话），然后就可以开始了。</p><figure class="highlight shell"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre class="shiki shiki-themes one-light one-dark-pro"><span class="line"><span style="color:#4078F2;--shiki-dark:#61AFEF">pandoc</span><span style="color:#986801;--shiki-dark:#D19A66"> --from=typst</span><span style="color:#986801;--shiki-dark:#D19A66"> --to=markdown</span><span style="color:#986801;--shiki-dark:#D19A66"> --output=path/to/your/blog/source/_draft/post_name.md</span><span style="color:#986801;--shiki-dark:#D19A66"> --wrap=preserve</span><span style="color:#50A14F;--shiki-dark:#98C379"> "path/to/your/typst_file.typ"</span></span></code></pre></td></tr></tbody></table></figure><h3 id="不能转换的情形">不能转换的情形</h3><div class="note warning modern"><i class="solitude fas fa-info-circle"></i><p>以下内容基于 pandoc 3.4 说明</p></div><ul><li><code>import</code> 和 <code>include</code> pandoc会报错：<code>&lt;stderr&gt;: hPutChar: invalid argument</code>，因此本地包、本地文件和远程包都不能使用。</li><li><code>context</code> pandoc会报错：<code>&lt;stderr&gt;: hPutChar: invalid argument</code></li></ul><p>可能有更多转换失败的情形，欢迎在本文评论区留言告诉我。</p><h3 id="转换可能出现的错误">转换可能出现的错误</h3><ul><li>与标签相关的内容，转换可能出错</li><li>数学公式中未使用括号限制范围的嵌套上下标，转换可能出错，如<code>a_b^c_d</code>（<spanclass="math inline">\(a_b^{c_d}\)</span>）转换为 <spanclass="math inline">\({a_b^c}_d\)</span> 等</li></ul><p>可能有更多转换错误的情形，欢迎在本文评论区留言告诉我。</p><h2 id="实用工具">实用工具</h2><ul><li>在线 Typst 公式识别：<ahref="https://typress-web.vercel.app/">Typress</a></li></ul>]]></content:encoded>
      
      
      <category domain="https://blog.hpcesia.com/categories/%E7%BB%8F%E9%AA%8C%E8%AE%B0%E5%BD%95/">经验记录</category>
      
      
      <category domain="https://blog.hpcesia.com/tags/Typst/">Typst</category>
      
      <category domain="https://blog.hpcesia.com/tags/Pandoc/">Pandoc</category>
      
      <category domain="https://blog.hpcesia.com/tags/Markdown/">Markdown</category>
      
      
      <comments>https://blog.hpcesia.com/posts/5252cfe9/#disqus_thread</comments>
      
    </item>
    
    <item>
      <title>多复变函数论学习笔记 - 第一章 全纯函数 - 第二节 Cauchy-Riemann 方程组</title>
      <link>https://blog.hpcesia.com/posts/ef7d6a4/</link>
      <guid>https://blog.hpcesia.com/posts/ef7d6a4/</guid>
      <pubDate>Fri, 27 Sep 2024 15:04:16 GMT</pubDate>
      
      <description>多复变函数论学习笔记 - 复欧氏空间上的 Cauchy-Riemann 方程组</description>
      
      
      
      <content:encoded><![CDATA[<h2 id="多重指标记号">多重指标记号</h2><p>定义如下<strong>多重指标记号</strong>：</p><ul><li>设 <span class="math inline">\(\alpha = \left(\alpha_{1},\cdots,\alpha_{n} \right) \in{\mathbb{N}}^{n}\)</span>，<span class="math inline">\(x = \left(x_{1},\cdots,x_{n} \right) \in {\mathbb{R}}^{n}\)</span>，记</li></ul><p><span class="math display">\[|\alpha| = \sum_{j =1}^{n}\alpha_{j},\quad\alpha! = \prod_{j = 1}^{n}\alpha_{j}!,\quadx^{\alpha} = \prod_{j = 1}^{n}{x_{j}^{\alpha_{j}}}.\]</span></p><ul><li><p>记 <span class="math inline">\(\alpha \geq 0\)</span> 为 <spanclass="math inline">\(\forall 1 \leq j \leq n\)</span>，<spanclass="math inline">\(\alpha_{j} \geq 0\)</span>。</p></li><li><p>记</p></li></ul><p><span class="math display">\[D^{\alpha} ≔\frac{\partial^{|\alpha|}}{\partial x_{1}^{\alpha_{1}}\cdots\partialx_{n}^{\alpha_{n}}}.\]</span></p><h2 id="复值连续可微空间">复值连续可微空间</h2><p>对开集 <span class="math inline">\(D \subset{\mathbb{R}}^{n}\)</span> 与 <span class="math inline">\(k \in{\mathbb{N}} \cup \left\{ + \infty \right\}\)</span>，<spanclass="math inline">\(C^{k}(D)\)</span> 表示在 <spanclass="math inline">\(D\)</span> 内 <spanclass="math inline">\(k\)</span> 次连续可微的的复值函数全体，并记 <spanclass="math inline">\(C(D) = C^{0}(D)\)</span>。</p><p>设 <span class="math inline">\(f \in C^{k}(D)\)</span>，<spanclass="math inline">\(k &lt; + \infty\)</span>，定义 <spanclass="math inline">\(f\)</span> 在 <spanclass="math inline">\(D\)</span> 上的 <spanclass="math inline">\(C^{k}\)</span> 范数为 <spanclass="math display">\[\left\| f \right\|_{k,D} = \sum_{\begin{array}{r}\alpha \in {\mathbb{N}}^{n} \\|\alpha| \leq k\end{array}}\sup\limits_{x \in D}\left| {D^{\alpha}f(x)}\right|.\]</span> 记 <span class="math inline">\(\left\| f \right\|_{D}≔ \left\| f \right\|_{0,D}\)</span>，<span class="math inline">\(\left\|f \right\|_{k} ≔ \left\| f \right\|_{k,D}\)</span>，空间 <spanclass="math display">\[B^{k}(D) = \left\{ f \in C^{k}(D):\left\| f\right\|_{k} &lt; \infty \right\}\]</span> 关于 <spanclass="math inline">\(C^{k}\)</span> 范数 <spanclass="math inline">\(\left\| \cdot \right\|_{k}\)</span>是<strong>完备的</strong>，即 <spanclass="math inline">\(B^{k}(D)\)</span> 为 <strong>Banach空间</strong>。</p><p>类似地，空间 <span class="math display">\[C^{k}\left( \overline{D}\right) = \left\{ f \in C^{k}(D):D^{\alpha}f\text{ 可连续延拓到}\overline{D},\forall\alpha \in {\mathbb{N}}^{n},|\alpha| \leq k\right\}\]</span> 关于范数 <span class="math inline">\(\left\| \cdot\right\|_{k,D}\)</span> 也为 Banach 空间。</p><h2 id="偏微分算子">偏微分算子</h2><p>视 <span class="math inline">\({\mathbb{C}}^{n} ={\mathbb{R}}^{2n}\)</span>，由 <span class="math inline">\(z_{j} = x_{j}+ ix_{j + n}\)</span>，可引入偏微分算子 <spanclass="math display">\[\frac{\partial}{\partial z_{j}} =\frac{1}{2}\left( \frac{\partial}{\partial x_{j}} -i\frac{\partial}{\partial x_{j + n}}\right),\quad\frac{\partial}{\partial\overline{z_{j}}} =\frac{1}{2}\left( \frac{\partial}{\partial x_{j}} +i\frac{\partial}{\partial x_{j + n}} \right).\]</span> 容易验证 <spanclass="math display">\[\overline{\frac{\partial f}{\partial z_{j}}} =\frac{\partial\overline{f}}{\partial\overline{z_{j}}},\quad\overline{\frac{\partialf}{\partial\overline{z_{j}}}} = \frac{\partial\overline{f}}{\partialz_{j}}.\]</span></p><p>多重指标记号也可扩充到偏微分算子：<spanclass="math inline">\(\forall\alpha,\beta \in{\mathbb{N}}^{n}\)</span>， <spanclass="math display">\[D^{\alpha\overline{\beta}} ≔\frac{\partial^{|\alpha| + |\beta|}}{\partialz_{1}^{\alpha_{1}}\cdots\partialz_{n}^{\alpha_{n}}\partial\overline{z_{1}^{\beta_{1}}}\cdots\partial\overline{z_{n}^{\beta_{n}}}},\]</span><span class="math display">\[D^{\alpha} ≔\frac{\partial^{|\alpha|}}{\partial z_{1}^{\alpha_{1}}\cdots\partialz_{n}^{\alpha_{n}}},\quad D^{\overline{\beta}} ≔\frac{\partial^{|\beta|}}{\partial\overline{z_{1}^{\beta_{1}}}\cdots\partial\overline{z_{n}^{\beta_{n}}}}.\]</span></p><p>其具有性质：<span class="math inline">\(\forall\alpha,\beta \in{\mathbb{N}}^{n}\)</span>，<span class="math inline">\(|\alpha| +|\beta| \leq k\)</span>，有 <span class="math inline">\(f \in C^{k}(D)\Longleftrightarrow D^{\alpha\overline{\beta}} \in C(D)\)</span>。</p><h2 id="区域上的全纯函数">区域上的全纯函数</h2><p>设 <span class="math inline">\(D \subset {\mathbb{C}}^{n}\)</span>为一区域，<span class="math inline">\(f:D \rightarrow{\mathbb{C}}\)</span> 为一复值函数，若 <span class="math inline">\(f \inC^{1}(D)\)</span>，且 <span class="math inline">\(f\)</span>满足如下<strong>齐次 Cauchy-Riemann 方程组</strong>： <spanclass="math display">\[\frac{\partial f}{\partial\overline{z_{j}}} =0,\quad\forall 1 \leq j \leq n,\quad z \in D,\]</span> 则称 <spanclass="math inline">\(f\)</span> 在 <spanclass="math inline">\(D\)</span> 内<strong>全纯</strong>。</p><p>在单变量的情形下，若一个定义在区域 <span class="math inline">\(D\subset {\mathbb{C}}\)</span> 上的复值函数 <spanclass="math inline">\(f\)</span> 在 <spanclass="math inline">\(D\)</span> 上任一点的局部均可展开为幂级数，则称<span class="math inline">\(f\)</span> 在 <spanclass="math inline">\(D\)</span>上全纯。多变量情形下，也有类似的全纯函数幂级数定义：</p><p>设 <span class="math inline">\(D \subset {\mathbb{C}}^{n}\)</span>为一区域，<span class="math inline">\(f:D \rightarrow{\mathbb{C}}\)</span> 为一复值函数。若对任一点 <spanclass="math inline">\(z^{(0)} \in D\)</span>，均存在 <spanclass="math inline">\(z^{(0)}\)</span> 的一个开邻域 <spanclass="math inline">\(U \subset D\)</span>，使得 <spanclass="math inline">\(\forall z \in U\)</span>， <spanclass="math display">\[f(z) = \sum_{\alpha \in{\mathbb{N}}^{n}}\mathcal{a}_{\alpha}\left( z - z^{(0)} \right)^{\alpha}≔ \sum_{\alpha_{1},\cdots,\alpha_{n} = 0}^{+\infty}\mathcal{a}_{\alpha_{1},\cdots,\alpha_{n}}\prod_{j = 1}^{n}\left(z_{j} - z_{j}^{(0)} \right)^{\alpha_{j}},\]</span> 则称 <spanclass="math inline">\(f\)</span> 在 <spanclass="math inline">\(D\)</span>内<strong>全纯</strong>。上述两个全纯函数定义是<strong>等价</strong>的。</p><h2 id="hartogs-定理">Hartogs 定理</h2><p>记 <span class="math inline">\(\mathcal{O}(D)\)</span> 为 <spanclass="math inline">\(D\)</span> 上全体全纯函数的集合。若 <spanclass="math inline">\(\Omega\)</span> 是 <spanclass="math inline">\(C^{n}\)</span>中的任意子集（例如紧子集或更为一般的闭集），则 <spanclass="math inline">\(\mathcal{O}(\Omega)\)</span> 表示在包含 <spanclass="math inline">\(\Omega\)</span> 的某个邻域上的全纯函数的集合。</p><p>约定 <span class="math inline">\(f = g,\forall f,g \in\mathcal{O}(\Omega) \Longleftrightarrow\)</span> 存在 <spanclass="math inline">\(\Omega\)</span> 的某一邻域 <spanclass="math inline">\(D\)</span>，使得 <span class="math inline">\(f(z)= g(z),\forall z \in D\)</span>。</p><p>由全纯函数定义，立得：</p><p><strong>定理</strong>: 对任何子集 <span class="math inline">\(\Omega\subset {\mathbb{C}}^{n}\)</span>，<spanclass="math inline">\(\mathcal{O}(\Omega)\)</span>在逐点加法和数乘意义下封闭。任一关于 <spanclass="math inline">\(z_{1},\cdots,z_{n}\)</span> 的复系数多项式在 <spanclass="math inline">\({\mathbb{C}}^{n}\)</span> 上是全纯的，从而在 <spanclass="math inline">\(\mathcal{O}(\Omega)\)</span> 里。若 <spanclass="math inline">\(f,g \in \mathcal{O}(\Omega)\)</span>，且 <spanclass="math inline">\(g(z) \neq 0,\forall z \in \Omega\)</span>，则<span class="math inline">\(f/g \in \mathcal{O}(\Omega)\)</span>。</p><p>任意满足齐次 Cauchy-Riemann 方程组的函数 <spanclass="math inline">\(f\)</span> 也分别关于单复变量 <spanclass="math inline">\(z_{j}\)</span> 全纯。反过来，则有如下 Hartogs定理：</p><p><strong>定理</strong> (F. Hartogs, 1906): 设 <spanclass="math inline">\(D \subset {\mathbb{C}}^{n}\)</span>为一区域，<span class="math inline">\(f:D \rightarrow{\mathbb{C}}\)</span>。若 <span class="math inline">\(f\)</span>分别关于每一单复变量 <span class="math inline">\(z_{j}(1 \leq j \leqn)\)</span> 全纯，则 <span class="math inline">\(f \in\mathcal{O}(D)\)</span>。</p><p>上述定理说明全纯函数定义中的 <span class="math inline">\(f \inC^{1}(D)\)</span> 为多余条件。</p><p>Hartogs 定理在实变函数论中不成立：设 <spanclass="math inline">\(f:{\mathbb{R}}^{2} \rightarrow{\mathbb{R}}^{2}\)</span>， <span class="math display">\[f(x,y) =\begin{cases}\displaystyle{\frac{xy}{x^{4} + y^{4}}},\quad &amp; (x,y) \neq (0,0), \\0,\quad &amp; (x,y) = (0,0).\end{cases}\]</span> 显然 <span class="math inline">\(f\)</span> 关于<span class="math inline">\(x,y\)</span> 均是实解析的，但其在 <spanclass="math inline">\((0,0)\)</span> 处无界。</p><h2 id="osgood-定理">Osgood 定理</h2><p><strong>引理</strong> (Osgood): 设 <span class="math inline">\(D\subset {\mathbb{C}}\)</span> 为一区域，<span class="math inline">\(f:D\rightarrow {\mathbb{C}}\)</span>。若 <span class="math inline">\(f \inC(D)\)</span>，且 <span class="math inline">\(f\)</span>分别关于每一单复变量 <span class="math inline">\(z_{j}(1 \leq j \leqn)\)</span> 全纯，则 <span class="math inline">\(f \in\mathcal{O}(D)\)</span>。</p><p><em>证明</em>: 任选一点 <span class="math inline">\(z^{(0)} \inD\)</span> 以及 <span class="math inline">\(P\left( z^{(0)},r \right)\subset \subset D\)</span>，由于 <span class="math inline">\(f\)</span>在 <span class="math inline">\(\overline{P\left( z^{(0)},r\right)}\)</span>的邻域内关于每一单复变量全纯，可以重复使用单复变量全纯函数的 Cauchy积分公式，得 <span class="math display">\[f(z) = \left( \frac{1}{2\pi i}\right)^{n}\int_{\left| {\zeta_{1} - z_{1}^{(0)}} \right| =r_{1}}\frac{d\zeta_{1}}{\zeta_{1} - z_{1}}\cdots\int_{\left| {\zeta_{n}- z_{n}^{(0)}} \right| = r_{n}}\frac{f(\zeta)d\zeta_{n}}{\zeta_{n} -z_{n}}\]</span> 对任意 <span class="math inline">\(z \in P\left(z^{(0)},r \right)\)</span> 均成立。对任意固定点 <spanclass="math inline">\(z\)</span>，上式各积分的被积函数均在 <spanclass="math inline">\(D\)</span> 的紧子集 <spanclass="math display">\[\left\{ \zeta = \left( \zeta_{1},\cdots,\zeta_{n}\right) \in {\mathbb{C}}^{n}:\left| {\zeta_{1} - z_{1}^{(0)}} \right| =r_{1},\cdots,\left| {\zeta_{n} - z_{n}^{(0)}} \right| = r_{n}\right\}\]</span> 上连续，于是上式的累次积分可替换为重积分 <spanclass="math display">\[f(z) = \left( \frac{1}{2\pi i}\right)^{n}\int\mspace{-5mu}\cdots\mspace{-5mu}\int_{\mathfrak{b}P\left(z^{(0)},r \right)}\frac{f(\zeta)d\zeta_{1}\cdots d\zeta_{n}}{\prod_{j =1}^{n}\left( \zeta_{j} - z_{j} \right)}.\]</span> 注意到对固定的 <spanclass="math inline">\(z \in P\left( z^{(0)},r \right)\)</span>，级数<span class="math display">\[\prod_{j = 1}^{n}\left( \zeta_{j} - z_{j}\right)^{- 1} = \sum_{\alpha_{1},\cdots,\alpha_{n} = 0}^{+\infty}\prod_{j = 1}^{n}\frac{\left( z_{j} - z_{j}^{(0)}\right)^{\alpha_{j}}}{\left( \zeta_{j} - z_{j}^{(0)} \right)^{\alpha_{j}+ 1}}\]</span> 对所有 <span class="math inline">\(\zeta \in{\mathfrak{b}P\left( z^{(0)},r \right)}\)</span>绝对收敛、一致收敛。于是可将级数代入重积分中，并交换求和积分次序，得<span class="math display">\[f(z) = \sum_{\alpha_{1},\cdots,\alpha_{n} =0}^{+ \infty}\mathcal{a}_{\alpha_{1},\cdots,\alpha_{n}}\prod_{j =1}^{n}\left( z_{j} - z_{j}^{(0)} \right)^{\alpha_{j}},\]</span> 其中<span class="math display">\[\mathcal{a}_{\alpha_{1},\cdots,\alpha_{n}}≔ \left( \frac{1}{2\pi i}\right)^{n}\int\mspace{-5mu}\cdots\mspace{-5mu}\int_{\mathfrak{b}P\left(z^{(0)},r \right)}\frac{f(\zeta)d\zeta_{1}\cdots d\zeta_{n}}{\prod_{j =1}^{n}\left( \zeta_{j} - z_{j}^{(0)} \right)^{\alpha_{j} + 1}}.\]</span>由 <span class="math inline">\(z^{(0)}\)</span> 任意性可知 <spanclass="math inline">\(f(z)\)</span> 在 <spanclass="math inline">\(D\)</span> 上全纯。</p><p><strong>引理</strong> (Schwarz): 记 <spanclass="math inline">\(\mathbb{D}\)</span> 为复平面上的单位圆盘，<spanclass="math inline">\(f:{\mathbb{D}} \rightarrow {\mathbb{D}}\)</span>是 <span class="math inline">\(\mathbb{D}\)</span> 上全纯函数且 <spanclass="math inline">\(f(0) = 0\)</span>，则 <spanclass="math inline">\(\forall z \in {\mathbb{D}}\)</span>，<spanclass="math inline">\(\left| {f(z)} \right| \leq |z|\)</span> 且 <spanclass="math inline">\(\left| {f\prime(0)} \right| \leq1\)</span>。若存在 <span class="math inline">\(z\)</span> 使得 <spanclass="math inline">\(\left| {f(z)} \right| = |z|\)</span> 或者 <spanclass="math inline">\(\left| {f\prime(0)} \right| = 1\)</span>，则 <spanclass="math inline">\(f\)</span> 为一旋转 <spanclass="math inline">\(f(z) = \mathcal{a}z\)</span>，其中 <spanclass="math inline">\(\left| \mathcal{a} \right| = 1\)</span>。</p><p><strong>定理</strong> (Osgood): 设 <span class="math inline">\(\Omega\subset {\mathbb{C}}\)</span> 为一区域，<spanclass="math inline">\(f:\Omega \rightarrow {\mathbb{C}}\)</span>局部有界且分别关于每一单复变量 <span class="math inline">\(z_{j}(1 \leqj \leq n)\)</span> 全纯，则 <span class="math inline">\(f \in\mathcal{O}(\Omega)\)</span>。</p><p><em>证明</em>: 由 Osgood 引理，只需证 <span class="math inline">\(f\in C(\Omega)\)</span>。设 <span class="math inline">\(w \in\Omega\)</span>，任取 <span class="math inline">\(r &gt; 0\)</span> 使得<span class="math inline">\(P(2,2r) \subset \Omega\)</span>，记 <spanclass="math inline">\(g_{j}(z,w) = f\left( w_{1},\cdots,w_{j},z_{j +1},\cdots,z_{n} \right)\)</span>，对任意 <span class="math inline">\(z\in P(w,r)\)</span> 有 <span class="math display">\[\begin{aligned}f(z) - f(w) =  f(z) &amp; - g_{(1)(z,w)} + g_{1}(z,w) - g_{2}(z,w) +\cdots \\&amp; + g_{(n - 1)(z,w)} - f(w).\end{aligned}\]</span> <span class="math inline">\(f\)</span>局部有界，记 <span class="math display">\[M ≔ \sup\limits_{z \inP(w,2r)}\left| {f(z)} \right| &lt; + \infty,\]</span> <spanclass="math inline">\(\mathbb{D}\)</span> 为单位圆盘。定义 <spanclass="math inline">\(\bigtriangleup (a,r) = \left\{ t \in{\mathbb{C}}:\left| {t - a} \right| &lt; r\right\}\)</span>，取双全纯映射 <spanclass="math display">\[h_{j}:{\mathbb{D}} \rightarrow \bigtriangleup(w_{j + 1},r),\quad h_{j}(t) = w_{j + 1} + rt.\]</span> 令 <spanclass="math display">\[F_{j}(t) ≔ \frac{f\left(w_{1},\cdots,w_{j},h(t),z_{j + 2},\cdots,z_{n} \right) - f\left(w_{1},\cdots,w_{j},h(0),z_{j + 2},\cdots,z_{n} \right)}{2M},\]</span> 则<span class="math inline">\(F_{j}(t) \in\mathcal{O}({\mathbb{D}})\)</span>，<span class="math inline">\(F_{j}(0)= 0\)</span> 且 <span class="math inline">\(\left| {F_{j}(t)} \right|&lt; 1\)</span>，由 Schwarz 引理，<span class="math inline">\(\left|{F_{j}(t)} \right| \leq |t|\)</span>。 取 <span class="math inline">\(t= \left( z_{j + 1} - w_{j + 1} \right)/r\)</span>，则有 <spanclass="math display">\[2M\left| {F_{j}(t)} \right| = 2M\left|{g_{j}(z,w) - g_{j + 1}(z,w)} \right| \leq \frac{2M}{r}\left| {z - w}\right|,\]</span> 于是 <span class="math display">\[\left| {f(z) - f(w)}\right| \leq \frac{2M}{r}\sum_{j = 1}^{n}\left| {z_{j} - w_{j}}\right|,\]</span> 即 <span class="math inline">\(f\)</span> 局部Lipschitz 连续。</p>]]></content:encoded>
      
      
      <category domain="https://blog.hpcesia.com/categories/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/">学习笔记</category>
      
      
      <category domain="https://blog.hpcesia.com/tags/%E6%95%B0%E5%AD%A6/">数学</category>
      
      <category domain="https://blog.hpcesia.com/tags/%E5%A4%9A%E5%A4%8D%E5%8F%98%E5%87%BD%E6%95%B0/">多复变函数</category>
      
      
      <comments>https://blog.hpcesia.com/posts/ef7d6a4/#disqus_thread</comments>
      
    </item>
    
    <item>
      <title>多复变函数论笔记 - 第一章 全纯函数 - 第一节 复欧氏空间</title>
      <link>https://blog.hpcesia.com/posts/d6f83120/</link>
      <guid>https://blog.hpcesia.com/posts/d6f83120/</guid>
      <pubDate>Fri, 20 Sep 2024 12:48:48 GMT</pubDate>
      
      <description>多复变函数论学习笔记 - 复欧氏空间</description>
      
      
      
      <content:encoded><![CDATA[<h2 id="符号简述">符号简述</h2><p><span class="math inline">\(\mathbb{R}\)</span> 和 <spanclass="math inline">\(\mathbb{C}\)</span> 分别表示实数域和复数域，<spanclass="math inline">\(\mathbb{Z}\)</span> 和 <spanclass="math inline">\(\mathbb{N}\)</span> 分别表示整数和非负整数，<spanclass="math inline">\({\mathbb{N}}^{+}\)</span> 表示正整数。</p><h2 id="定义">定义</h2><p>对 <span class="math inline">\(n \in {\mathbb{N}}^{+}\)</span>，定义<span class="math inline">\(n\)</span> 个复平面的笛卡尔积为 <spanclass="math inline">\(n\)</span> 维复数空间 <spanclass="math display">\[{\mathbb{C}}^{n} = \left\{ z:z = \left(z_{1},z_{2},\cdots,z_{n} \right),z_{j} \in {\mathbb{C}},1 \leq j \leq n\right\},\]</span> 其具有自然的 <span class="math inline">\(n\)</span>维复向量空间结构。<span class="math inline">\({\mathbb{C}}^{n}\)</span>上的<strong>标准 Hermite 内积</strong>为 <spanclass="math display">\[\left\langle a,b \right\rangle = \sum_{j =1}^{n}a_{j}\overline{b_{j}},\quad a,b \in {\mathbb{C}}^{n},\]</span>该内积产生的<strong>范数</strong> <span class="math inline">\(\left\| a\right\| = \left\langle a,a \right\rangle\)</span> 诱导出了 <spanclass="math inline">\({\mathbb{C}}^{n}\)</span>中的<strong>欧氏距离</strong> <spanclass="math display">\[\operatorname{dist}(a,b) = \left\| {a - b}\right\|,\quad\forall a,b \in {\mathbb{C}}^{n}.\]</span>为与一维复空间的 <span class="math inline">\(|z| =z\overline{z}\)</span> 书写形式统一，对 <span class="math inline">\(z\in {\mathbb{C}}^{n}\)</span>，也记 <span class="math inline">\(|z| =\left\| z \right\|\)</span>。</p><h2 id="与-r²ⁿ-的联系">与 R²ⁿ 的联系</h2><p>定义以 <span class="math inline">\(a \in {\mathbb{C}}^{n}\)</span>为圆心，<span class="math inline">\(r &gt; 0\)</span>为半径的<strong>开球</strong>为 <span class="math display">\[B(a,r) =\left\{ z \in {\mathbb{C}}^{n}:\left| {z - a} \right| &lt; r\right\}.\]</span></p><p>设 <span class="math inline">\(z = \left( z_{1},z_{2},\cdots,z_{n}\right) \in {\mathbb{C}}^{n}\)</span>，记 <spanclass="math inline">\(z_{j} = x_{j} + ix_{j + n},x_{j},x_{j + n} \in{\mathbb{R}}\)</span>，则映射 <spanclass="math display">\[f:{\mathbb{C}}^{n} \rightarrow{\mathbb{R}}^{2n},\quad f(z) = \left( x_{1},\cdots,x_{2n}\right)\]</span> 是 <spanclass="math inline">\({\mathbb{C}}^{n}\)</span> 到 <spanclass="math inline">\({\mathbb{R}}^{2n}\)</span> 的一个实线性同构，且对<span class="math inline">\({\mathbb{R}}^{2n}\)</span> 上的 L-2 范数有<span class="math inline">\(\left| {f(z)} \right|_{2} =|z|\)</span>，所以 <span class="math inline">\(f\left( B(a,r)\right)\)</span> 为 <spanclass="math inline">\({\mathbb{R}}^{2n}\)</span> 上以 <spanclass="math inline">\(f(a) \in {\mathbb{R}}^{n}\)</span> 为圆心，<spanclass="math inline">\(r &gt; 0\)</span> 为半径的开球，即 <spanclass="math inline">\({\mathbb{C}}^{n}\)</span> 与 <spanclass="math inline">\({\mathbb{R}}^{2n}\)</span> 拓扑同胚。</p><p>由此可将 <span class="math inline">\({\mathbb{R}}^{2n}\)</span>中的拓扑、分析的通常概念替换到 <spanclass="math inline">\({\mathbb{C}}^{n}\)</span> 中。</p><h2 id="基础概念">基础概念</h2><ul><li><p><strong>开集</strong>：设 <span class="math inline">\(D \subset{\mathbb{C}}^{n}\)</span> 为一点集，若 <spanclass="math inline">\(\forall a \in D\)</span>，<spanclass="math inline">\(\exists r &gt; 0\)</span>，使得 <spanclass="math inline">\(B(a,r) \subset D\)</span>，则称 <spanclass="math inline">\(D\)</span> 为开集。</p></li><li><p><strong>连通集</strong>：设 <span class="math inline">\(D \subset{\mathbb{C}}^{n}\)</span> 为一点集，若 <spanclass="math inline">\(D\)</span> 不能表示为两个非空开集之并，则称 <spanclass="math inline">\(D\)</span> 是连通的。</p></li><li><p><strong>区域</strong>：连通的开集。</p></li><li><p><strong>相对紧子集</strong>：设 <spanclass="math inline">\(\Omega \subset D\)</span> 为一子集，若其闭包 <spanclass="math inline">\(\overline{\Omega} \subset D\)</span>，则称 <spanclass="math inline">\(\Omega\)</span> 为 <spanclass="math inline">\(D\)</span> 的一个相对紧子集，记为 <spanclass="math inline">\(\Omega \subset \subset D\)</span>。</p></li><li><p><strong>多圆柱</strong>：</p><p>定义以 <span class="math inline">\(a = \left( a_{1},\cdots,a_{n}\right) \in {\mathbb{C}}^{n}\)</span> 为圆心，<spanclass="math inline">\(r = \left( r_{1},\cdots,r_{n} \right)\left( r_{j}&gt; 0,1 \leq j \leq n \right)\)</span>为（多）半径的<strong>开多圆柱</strong>为 <spanclass="math display">\[P(a,r) = \left\{ z \in {\mathbb{C}}^{n}:\left|{z_{j} - a_{j}} \right| &lt; r_{j},1 \leq j \leq n \right\},\]</span>其为 <span class="math inline">\(\mathbb{C}\)</span> 中 <spanclass="math inline">\(n\)</span> 个开圆盘的笛卡尔积。</p></li><li><p><strong>多圆域</strong>：</p><p>更一般地，称 <span class="math inline">\(n\)</span> 个复平面区域<span class="math inline">\(D_{j} \in {\mathbb{C}}(1 \leq j \leqn)\)</span> 的笛卡尔积 <span class="math inline">\(D = D_{1} \times\cdots \times D_{n}\)</span> 为一个<strong>多圆域</strong>。</p></li></ul><p>点集 <span class="math inline">\(A \subset {\mathbb{C}}^{n}\)</span>的<strong>拓扑边界</strong>记为 <spanclass="math inline">\(\mathfrak{b}A\)</span></p><h2 id="绝对空间">绝对空间</h2><p>称映射 <span class="math inline">\(\tau:{\mathbb{C}}^{n} \rightarrow{\mathbb{R}}_{+}^{n},f(a) = f\left( \left( a_{1},\cdots,d_{n} \right)\right) = \left( \left| a_{1} \right|,\cdots,\left| a_{n} \right|\right)\)</span> 为<strong>绝对空间</strong>，<spanclass="math inline">\({\mathbb{C}}^{n}\)</span>中点集在绝对空间下的像可更为方便地用几何表示。</p><p>例如，容易画出 <span class="math inline">\(\tau(B(0,r))\)</span> 和<span class="math inline">\(\tau(P\left( 0,\left( r_{1},r_{2} \right)\right))\)</span> 在绝对空间的图形如下： <imgsrc="https://bu.dusays.com/2024/10/28/671f2b666adb9.webp" /></p><h2 id="hartogs-图形">Hartogs 图形</h2><p>当 <span class="math inline">\(n &gt; 2\)</span>时，为简化书写，通常记 <span class="math inline">\(z = \left(z&#39;,z_{n} \right)\)</span>，其中 <span class="math inline">\(z&#39; =\left( z_{1},\cdots,z_{n - 1} \right) \in {\mathbb{C}}^{n -1}\)</span>。</p><p>设 <span class="math inline">\(r = \left( r_{1},\cdots,r_{n}\right)\)</span> 满足 <span class="math inline">\(0 &lt; r_{j} &lt; 1,1\leq j \leq n\)</span>，定义区域 <spanclass="math display">\[\begin{aligned}H(r) = &amp; \left\{ z = \left( z&#39;,z_{n} \right) \in{\mathbb{C}}^{n}:z&#39; \in P&#39;(0,r&#39;),\left| z_{n} \right| &lt; 1\right\} \\&amp; \cup \left\{ z = \left( z&#39;,z_{n} \right) \in{\mathbb{C}}^{n}:z&#39; \in P&#39;(0,r&#39;),r_{n} &lt; \left| z_{n}\right| &lt; 1 \right\}\end{aligned}\]</span> 则 <span class="math inline">\(H(r)\)</span>的图形可表示如下：</p><p><img src= "" data-lazy-src="https://bu.dusays.com/2024/10/28/671f2b64b306f.webp" /></p><p>称 <span class="math inline">\(\left( H(r),P(0,1) \right)\)</span>这样的一个「对」为一个（欧式）Hartogs 图形。</p><h2 id="reinhardt-域">Reinhardt 域</h2><p>注意对 <span class="math inline">\(r = \left( r_{1},\cdots,r_{n}\right) \in {\mathbb{R}}_{+}^{n}\)</span> 而言， <spanclass="math display">\[\tau^{( - 1)(r)} = \left\{ \left(r_{1}e^{i\theta_{1}},\cdots,r_{n}e^{i\theta_{n}} \right):0 \leq\theta_{j} \leq 2\pi,1 \leq j \leq n \right\}\]</span> 是一个 <spanclass="math inline">\(n\)</span> 维的<span class="bubble-content">实环面</span><span class="bubble-notation"><span class="bubble-item bg-red">n 个圆环的笛卡尔积</span></span>。因此有如下定义：</p><p>设 <span class="math inline">\(\Omega \in {\mathbb{C}}^{n}\)</span>为一点集，若 <span class="math inline">\(\forall a \in\Omega\)</span>，环面 <span class="math display">\[\tau^{( - 1)\left(\tau(a) \right)} = \left\{ z \in {\mathbb{C}}^{n}:z = \left(a_{1}e^{i\theta_{1}},\cdots,a_{n}e^{i\theta_{n}} \right),0 \leq\theta_{j} \leq 2\pi,1 \leq j \leq n \right\}\]</span> 也落在 <spanclass="math inline">\(\Omega\)</span> 内，则称 <spanclass="math inline">\(\Omega\)</span> 是<strong>圆形的</strong>。在<span class="math inline">\({\mathbb{C}}^{n}\)</span>中，只有圆形点集的绝对空间表示才是有意义的。</p><p>设 <span class="math inline">\(\Omega \in {\mathbb{C}}^{n}\)</span>为以原点为中心的开圆形域，则称 <spanclass="math inline">\(\Omega\)</span> 为 <strong>Reinhardt域</strong>。若 <span class="math inline">\(\Omega\)</span> 还满足 <spanclass="math inline">\(\forall a \in \Omega\)</span>，均有 <spanclass="math inline">\(P\left( 0,\tau(a) \right) \subset\Omega\)</span>，则称 <span class="math inline">\(\Omega\)</span>是<strong>完备的</strong>。<span class="math inline">\(B(0,r)\)</span>和 <span class="math inline">\(P(0,r)\)</span> 是完备的 Reinhardt域，但是 <span class="math inline">\(H(r)\)</span> 是不完备的 Reinhardt域。</p><p>考虑全纯函数的洛朗级数展开时就会遇到 Reinhardt 域，<spanclass="math inline">\(\mathbb{C}\)</span> 中典型的完备 Reinhardt域是以原点为圆心的开圆盘，而典型的不完备 Reinhardt域是以原点为圆心的圆环区域。</p>]]></content:encoded>
      
      
      <category domain="https://blog.hpcesia.com/categories/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/">学习笔记</category>
      
      
      <category domain="https://blog.hpcesia.com/tags/%E6%95%B0%E5%AD%A6/">数学</category>
      
      <category domain="https://blog.hpcesia.com/tags/%E5%A4%9A%E5%A4%8D%E5%8F%98%E5%87%BD%E6%95%B0/">多复变函数</category>
      
      
      <comments>https://blog.hpcesia.com/posts/d6f83120/#disqus_thread</comments>
      
    </item>
    
    <item>
      <title>Solitude 主题内置与外挂标签插件使用说明</title>
      <link>https://blog.hpcesia.com/posts/e5415539/</link>
      <guid>https://blog.hpcesia.com/posts/e5415539/</guid>
      <pubDate>Sat, 07 Sep 2024 14:59:33 GMT</pubDate>
      
      <description>记录 Solitude 主题可用的标签语法</description>
      
      
      
      <content:encoded><![CDATA[<div class="note primary modern"><i class="solitude fas fa-info-circle"></i><p>由于 <a href="https://solitude.js.org/zh/" rel="external nofollow noreferrer">Solitude 主题</a>的<ahref="https://blog.everfu.cn/p/8f9926b7.html">标签插件文档</a>内容不够全面，我编写了这个文章，用于记录翻源码找到的可用的标签和使用方式。</p></div><div class="note warning modern"><i class="solitude fas fa-info-circle"></i><p>本文章主要作为自己的备忘录，因此使用的是<ahref="https://github.com/HPCesia/hexo-solitude-tag/tree/myself">我自己的hexo-solitude-tag 的分支</a>，该分支特有内容将会进行标注。</p></div><h2 id="内置标签">内置标签</h2><p>内置标签可直接使用。</p><h3 id="标签页-tabs">标签页 tabs</h3><div class="tabs" id="标签页,"><ul class="nav-tabs"><li class="tab"><button type="button" data-href="#标签页,-0">标签语法</button></li><li class="tab"><button type="button" data-href="#标签页,-1">参数说明</button></li><li class="tab active"><button type="button" data-href="#标签页,-2">样式预览</button></li><li class="tab"><button type="button" data-href="#标签页,-3">示例源码</button></li></ul><div class="tab-contents"><div class="tab-item-content" id="标签页,-0"><figure class="highlight markdown"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre class="shiki shiki-themes one-light one-dark-pro"><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">&#123;% tabs </span><span style="color:#986801;--shiki-dark:#ABB2BF">[</span><span style="color:#4078F2;--shiki-dark:#61AFEF">唯一名称</span><span style="color:#986801;--shiki-dark:#ABB2BF">]</span><span style="color:#986801;--shiki-dark:#ABB2BF"> [</span><span style="color:#4078F2;--shiki-dark:#61AFEF">索引</span><span style="color:#986801;--shiki-dark:#ABB2BF">]</span><span style="color:#383A42;--shiki-dark:#ABB2BF"> %&#125;</span></span><span class="line"><span style="color:#A0A1A7;font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">&#x3C;!-- tab [标签标题] [@图标] --></span></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">任意内容（支持内联标签）。</span></span><span class="line"><span style="color:#A0A1A7;font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">&#x3C;!-- endtab --></span></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">&#123;% endtabs %&#125;</span></span></code></pre></td></tr></tbody></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="solitude fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="标签页,-1"><ul><li>[唯一名称]：每个标签块的唯一名称，不包含逗号。<ul><li>它将用作每个标签的#id前缀及其索引号。</li><li>如果名称中包含空格，则在生成的#id中将所有空格替换为连字符。</li><li>文章/页面的当前URL必须是唯一的！</li></ul></li><li>[索引]：活动标签的索引号。<ul><li>如果未指定，将选择第一个标签（1）。</li><li>如果索引为-1，则不会选择任何标签。这将是一个剧透。</li><li>可选参数。</li></ul></li><li>[标签标题]：当前标签的标题。<ul><li>如果未指定，将使用唯一名称与标签索引后缀作为标签标题。</li><li>如果未指定标题但指定了图标，则标题将为空。</li><li>可选参数。</li></ul></li><li><span class="citation"data-cites="图标">[@图标]</span>：图标名称（完整名称，例如 “fasfa-github”）。<ul><li>可以指定带或不带空格的空格；例如，”标签标题 <span class="citation"data-cites="图标">@图标</span>” 类似于 “标签标题@图标”。</li><li>可选参数。</li></ul></li></ul><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="solitude fas fa-arrow-up"></i></button></div><div class="tab-item-content active" id="标签页,-2"><div class="note primary modern"><i class="solitude fas fa-info-circle"></i><p>演示 1 - 默认情况下，选择第一个标签</p></div><div id="演示1" class="tabs"><ul class="nav-tabs"><li class="tab active"><button type="button" data-href="#演示1-0">test1</button></li><li class="tab"><button type="button" data-href="#演示1-1">test2</button></li><li class="tab"><button type="button" data-href="#演示1-2">test3</button></li></ul><div class="tab-contents"><div id="演示1-0" class="tab-item-content active"><p><strong>这是标签 1。</strong></p><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="solitude fas fa-arrow-up"></i></button></div><div id="演示1-1" class="tab-item-content"><p><strong>这是标签 2。</strong></p><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="solitude fas fa-arrow-up"></i></button></div><div id="演示1-2" class="tab-item-content"><p><strong>这是标签 3。</strong></p><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="solitude fas fa-arrow-up"></i></button></div></div></div><div class="note primary modern"><i class="solitude fas fa-info-circle"></i><p>演示 2 - 预设选择标签</p></div><div id="演示2," class="tabs"><ul class="nav-tabs"><li class="tab"><button type="button" data-href="#演示2,-0">test1</button></li><li class="tab"><button type="button" data-href="#演示2,-1">test2</button></li><li class="tab active"><button type="button" data-href="#演示2,-2">test3</button></li></ul><div class="tab-contents"><div id="演示2,-0" class="tab-item-content"><p><strong>这是标签 1。</strong></p><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="solitude fas fa-arrow-up"></i></button></div><div id="演示2,-1" class="tab-item-content"><p><strong>这是标签 2。</strong></p><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="solitude fas fa-arrow-up"></i></button></div><div id="演示2,-2" class="tab-item-content active"><p><strong>这是标签 3。</strong></p><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="solitude fas fa-arrow-up"></i></button></div></div></div><div class="note primary modern"><i class="solitude fas fa-info-circle"></i><p>演示 3 - 没有预设标签</p></div><div id="演示3," class="tabs"><ul class="nav-tabs"><li class="tab"><button type="button" data-href="#演示3,-0">test1</button></li><li class="tab"><button type="button" data-href="#演示3,-1">test2</button></li><li class="tab"><button type="button" data-href="#演示3,-2">test3</button></li></ul><div class="tab-contents"><div id="演示3,-0" class="tab-item-content"><p><strong>这是标签 1。</strong></p><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="solitude fas fa-arrow-up"></i></button></div><div id="演示3,-1" class="tab-item-content"><p><strong>这是标签 2。</strong></p><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="solitude fas fa-arrow-up"></i></button></div><div id="演示3,-2" class="tab-item-content"><p><strong>这是标签 3。</strong></p><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="solitude fas fa-arrow-up"></i></button></div></div></div><div class="note primary modern"><i class="solitude fas fa-info-circle"></i><p>演示 4 - 自定义标签名称 + 图标 + 标签名称和图标</p></div><div id="演示4" class="tabs"><ul class="nav-tabs"><li class="tab active"><button type="button" data-href="#演示4-0">test1</button></li><li class="tab"><button type="button" data-href="#演示4-1"><i class="fas fa-music tab solitude"></i>演示4 1</button></li><li class="tab"><button type="button" data-href="#演示4-2"><i class="fas fa-music tab solitude"></i>音乐</button></li></ul><div class="tab-contents"><div id="演示4-0" class="tab-item-content active"><p><strong>这是标签 1。</strong></p><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="solitude fas fa-arrow-up"></i></button></div><div id="演示4-1" class="tab-item-content"><p><strong>这是标签 2。</strong></p><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="solitude fas fa-arrow-up"></i></button></div><div id="演示4-2" class="tab-item-content"><p><strong>这是标签 3。</strong></p><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="solitude fas fa-arrow-up"></i></button></div></div></div><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="solitude fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="标签页,-3"><div class="note primary modern"><i class="solitude fas fa-info-circle"></i><p>演示1 - 默认情况下，选择第一个标签</p></div><figure class="highlight markdown"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre class="shiki shiki-themes one-light one-dark-pro"><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">&#123;% subtabs 演示1 %&#125;</span></span><span class="line"><span style="color:#A0A1A7;font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">&#x3C;!-- tab test1 --></span></span><span class="line"><span style="color:#986801;font-weight:bold;--shiki-dark:#D19A66;--shiki-dark-font-weight:inherit">**这是标签 1。**</span></span><span class="line"><span style="color:#A0A1A7;font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">&#x3C;!-- endtab--></span></span><span class="line"><span style="color:#A0A1A7;font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">&#x3C;!-- tab test2 --></span></span><span class="line"><span style="color:#986801;font-weight:bold;--shiki-dark:#D19A66;--shiki-dark-font-weight:inherit">**这是标签 2。**</span></span><span class="line"><span style="color:#A0A1A7;font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">&#x3C;!-- endtab--></span></span><span class="line"><span style="color:#A0A1A7;font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">&#x3C;!-- tab test3 --></span></span><span class="line"><span style="color:#986801;font-weight:bold;--shiki-dark:#D19A66;--shiki-dark-font-weight:inherit">**这是标签 3。**</span></span><span class="line"><span style="color:#A0A1A7;font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">&#x3C;!-- endtab--></span></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">&#123;% endsubtabs %&#125;</span></span></code></pre></td></tr></tbody></table></figure><div class="note primary modern"><i class="solitude fas fa-info-circle"></i><p>演示 2 - 预设选择标签</p></div><figure class="highlight markdown"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre class="shiki shiki-themes one-light one-dark-pro"><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">&#123;% subtabs 演示2, 2 %&#125;</span></span><span class="line"><span style="color:#A0A1A7;font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">&#x3C;!-- tab test1 --></span></span><span class="line"><span style="color:#986801;font-weight:bold;--shiki-dark:#D19A66;--shiki-dark-font-weight:inherit">**这是标签 1。**</span></span><span class="line"><span style="color:#A0A1A7;font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">&#x3C;!-- endtab--></span></span><span class="line"><span style="color:#A0A1A7;font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">&#x3C;!-- tab test2 --></span></span><span class="line"><span style="color:#986801;font-weight:bold;--shiki-dark:#D19A66;--shiki-dark-font-weight:inherit">**这是标签 2。**</span></span><span class="line"><span style="color:#A0A1A7;font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">&#x3C;!-- endtab--></span></span><span class="line"><span style="color:#A0A1A7;font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">&#x3C;!-- tab test3 --></span></span><span class="line"><span style="color:#986801;font-weight:bold;--shiki-dark:#D19A66;--shiki-dark-font-weight:inherit">**这是标签 3。**</span></span><span class="line"><span style="color:#A0A1A7;font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">&#x3C;!-- endtab--></span></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">&#123;% endsubtabs %&#125;</span></span></code></pre></td></tr></tbody></table></figure><div class="note primary modern"><i class="solitude fas fa-info-circle"></i><p>演示 3 - 没有预设标签</p></div><figure class="highlight markdown"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre class="shiki shiki-themes one-light one-dark-pro"><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">&#123;% subtabs 演示3, -1 %&#125;</span></span><span class="line"><span style="color:#A0A1A7;font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">&#x3C;!-- tab test1 --></span></span><span class="line"><span style="color:#986801;font-weight:bold;--shiki-dark:#D19A66;--shiki-dark-font-weight:inherit">**这是标签 1。**</span></span><span class="line"><span style="color:#A0A1A7;font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">&#x3C;!-- endtab--></span></span><span class="line"><span style="color:#A0A1A7;font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">&#x3C;!-- tab test2 --></span></span><span class="line"><span style="color:#986801;font-weight:bold;--shiki-dark:#D19A66;--shiki-dark-font-weight:inherit">**这是标签 2。**</span></span><span class="line"><span style="color:#A0A1A7;font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">&#x3C;!-- endtab--></span></span><span class="line"><span style="color:#A0A1A7;font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">&#x3C;!-- tab test3 --></span></span><span class="line"><span style="color:#986801;font-weight:bold;--shiki-dark:#D19A66;--shiki-dark-font-weight:inherit">**这是标签 3。**</span></span><span class="line"><span style="color:#A0A1A7;font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">&#x3C;!-- endtab--></span></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">&#123;% endsubtabs %&#125;</span></span></code></pre></td></tr></tbody></table></figure><div class="note primary modern"><i class="solitude fas fa-info-circle"></i><p>演示 4 - 自定义标签名称 + 图标 + 标签名称和图标</p></div><figure class="highlight markdown"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre class="shiki shiki-themes one-light one-dark-pro"><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">&#123;% subtabs 演示4 %&#125;</span></span><span class="line"><span style="color:#A0A1A7;font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">&#x3C;!-- tab test1 --></span></span><span class="line"><span style="color:#986801;font-weight:bold;--shiki-dark:#D19A66;--shiki-dark-font-weight:inherit">**这是标签 1。**</span></span><span class="line"><span style="color:#A0A1A7;font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">&#x3C;!-- endtab--></span></span><span class="line"><span style="color:#A0A1A7;font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">&#x3C;!-- tab @fas fa-music --></span></span><span class="line"><span style="color:#986801;font-weight:bold;--shiki-dark:#D19A66;--shiki-dark-font-weight:inherit">**这是标签 2。**</span></span><span class="line"><span style="color:#A0A1A7;font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">&#x3C;!-- endtab--></span></span><span class="line"><span style="color:#A0A1A7;font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">&#x3C;!-- tab 音乐 @fas fa-music --></span></span><span class="line"><span style="color:#986801;font-weight:bold;--shiki-dark:#D19A66;--shiki-dark-font-weight:inherit">**这是标签 3。**</span></span><span class="line"><span style="color:#A0A1A7;font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">&#x3C;!-- endtab--></span></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">&#123;% endsubtabs %&#125;</span></span></code></pre></td></tr></tbody></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="solitude fas fa-arrow-up"></i></button></div></div></div><h3 id="图库-gallery">图库 gallery</h3><div class="tabs" id="图库,"><ul class="nav-tabs"><li class="tab"><button type="button" data-href="#图库,-0">标签语法</button></li><li class="tab active"><button type="button" data-href="#图库,-1">样式预览</button></li><li class="tab"><button type="button" data-href="#图库,-2">示例源码</button></li></ul><div class="tab-contents"><div class="tab-item-content" id="图库,-0"><figure class="highlight markdown"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre class="shiki shiki-themes one-light one-dark-pro"><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">&#123;% gallery %&#125;</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">![]([图片 url])</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">![]([图片 url])</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">![]([图片 url])</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">&#123;% endgallery %&#125;</span></span></code></pre></td></tr></tbody></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="solitude fas fa-arrow-up"></i></button></div><div class="tab-item-content active" id="图库,-1"><div class="gallery-container waterfall"><div class="gallery-item"><img class="nolazyload" src=https://bu.dusays.com/2024/10/28/671f2b05cd936.webp alt="" /></div><div class="gallery-item"><img class="nolazyload" src=https://bu.dusays.com/2024/10/28/671f2b255ebe9.webp alt="" /></div><div class="gallery-item"><img class="nolazyload" src=https://bu.dusays.com/2024/10/28/671f2b380a381.webp alt="" /></div><div class="gallery-item"><img class="nolazyload" src=https://bu.dusays.com/2024/10/28/671f2b10c5b81.webp alt="" /></div><div class="gallery-item"><img class="nolazyload" src=https://bu.dusays.com/2024/10/28/671f2b097274a.webp alt="" /></div></div><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="solitude fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="图库,-2"><figure class="highlight markdown"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre class="shiki shiki-themes one-light one-dark-pro"><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">&#123;% gallery %&#125;</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">![]</span><span style="color:#A626A4;--shiki-dark:#E06C75">(</span><span style="color:#A626A4;text-decoration:inherit;--shiki-dark:#C678DD;--shiki-dark-text-decoration:underline">https://bu.dusays.com/2024/10/28/671f2b05cd936.webp</span><span style="color:#A626A4;--shiki-dark:#E06C75">)</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">![]</span><span style="color:#A626A4;--shiki-dark:#E06C75">(</span><span style="color:#A626A4;text-decoration:inherit;--shiki-dark:#C678DD;--shiki-dark-text-decoration:underline">https://bu.dusays.com/2024/10/28/671f2b255ebe9.webp</span><span style="color:#A626A4;--shiki-dark:#E06C75">)</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">![]</span><span style="color:#A626A4;--shiki-dark:#E06C75">(</span><span style="color:#A626A4;text-decoration:inherit;--shiki-dark:#C678DD;--shiki-dark-text-decoration:underline">https://bu.dusays.com/2024/10/28/671f2b380a381.webp</span><span style="color:#A626A4;--shiki-dark:#E06C75">)</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">![]</span><span style="color:#A626A4;--shiki-dark:#E06C75">(</span><span style="color:#A626A4;text-decoration:inherit;--shiki-dark:#C678DD;--shiki-dark-text-decoration:underline">https://bu.dusays.com/2024/10/28/671f2b10c5b81.webp</span><span style="color:#A626A4;--shiki-dark:#E06C75">)</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">![]</span><span style="color:#A626A4;--shiki-dark:#E06C75">(</span><span style="color:#A626A4;text-decoration:inherit;--shiki-dark:#C678DD;--shiki-dark-text-decoration:underline">https://bu.dusays.com/2024/10/28/671f2b097274a.webp</span><span style="color:#A626A4;--shiki-dark:#E06C75">)</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">&#123;% endgallery %&#125;</span></span></code></pre></td></tr></tbody></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="solitude fas fa-arrow-up"></i></button></div></div></div><h3 id="文章-article">文章 article</h3><div class="note warning modern"><i class="solitude fas fa-info-circle"></i><p>注意：如果在使用 <code>hexo clean</code> 后使用<code>hexo generate</code>，可能会导致 <code>article</code>标签无法正常渲染。可以尝试修改文章并多次运行 <code>hexo generate</code>以解决问题。</p></div><div class="tabs" id="文章,"><ul class="nav-tabs"><li class="tab"><button type="button" data-href="#文章,-0">标签语法</button></li><li class="tab"><button type="button" data-href="#文章,-1">参数说明</button></li><li class="tab active"><button type="button" data-href="#文章,-2">样式预览</button></li><li class="tab"><button type="button" data-href="#文章,-3">示例源码</button></li></ul><div class="tab-contents"><div class="tab-item-content" id="文章,-0"><figure class="highlight markdown"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre class="shiki shiki-themes one-light one-dark-pro"><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">&#123;% article </span><span style="color:#986801;--shiki-dark:#ABB2BF">[</span><span style="color:#4078F2;--shiki-dark:#61AFEF">路径</span><span style="color:#986801;--shiki-dark:#ABB2BF">]</span><span style="color:#383A42;--shiki-dark:#ABB2BF"> %&#125;</span></span></code></pre></td></tr></tbody></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="solitude fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="文章,-1"><ul><li>[路径]：应与 <code>_config.yml</code> 的 <code>permalink</code>配置项一致</li></ul><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="solitude fas fa-arrow-up"></i></button></div><div class="tab-item-content active" id="文章,-2"><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="solitude fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="文章,-3"><figure class="highlight markdown"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre class="shiki shiki-themes one-light one-dark-pro"><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">&#123;% article 'posts/2024/e5415539/' %&#125;</span></span></code></pre></td></tr></tbody></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="solitude fas fa-arrow-up"></i></button></div></div></div><h2 id="外挂标签">外挂标签</h2><p>外挂标签需安装 <ahref="https://github.com/everfu/hexo-solitude-tag"><code>hexo-solitude-tag</code></a>插件。 <div class="note warning modern"><i class="solitude fas fa-info-circle"></i><p>外挂标签样式由于渲染顺序问题，css引入有可能失效。如果发现外挂标签的样式缺失，可以修改一下文章然后再生成一次试试。</p></div></p><h3 id="引用-note">引用 note</h3><div class="tabs" id="引用,"><ul class="nav-tabs"><li class="tab"><button type="button" data-href="#引用,-0">标签语法</button></li><li class="tab"><button type="button" data-href="#引用,-1">参数说明</button></li><li class="tab active"><button type="button" data-href="#引用,-2">样式预览</button></li><li class="tab"><button type="button" data-href="#引用,-3">示例源码</button></li></ul><div class="tab-contents"><div class="tab-item-content" id="引用,-0"><figure class="highlight markdown"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre class="shiki shiki-themes one-light one-dark-pro"><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">&#123;% note </span><span style="color:#986801;--shiki-dark:#ABB2BF">[</span><span style="color:#4078F2;--shiki-dark:#61AFEF">类型</span><span style="color:#986801;--shiki-dark:#ABB2BF">]</span><span style="color:#986801;--shiki-dark:#ABB2BF"> [</span><span style="color:#4078F2;--shiki-dark:#61AFEF">图标</span><span style="color:#986801;--shiki-dark:#ABB2BF">]</span><span style="color:#383A42;--shiki-dark:#ABB2BF"> %&#125;</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">Markdown 内容</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">&#123;% endnote %&#125;</span></span></code></pre></td></tr></tbody></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="solitude fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="引用,-1"><ul><li>[类型]：引用的色彩类型。<ul><li>可选项：<code>default | primary | success | info | warning | danger</code></li></ul></li><li>[图标]：引用前的图标<ul><li>可填写 Font Awesome 图标名称</li><li>不填时不附带图标</li></ul></li></ul><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="solitude fas fa-arrow-up"></i></button></div><div class="tab-item-content active" id="引用,-2"><div class="note default modern"><i class="solitude fas fa-bullhorn"></i><p>2025 年快到了….</p></div><div class="note primary modern"><i class="solitude fas fa-car-crash"></i><p>小心开车 安全至上</p></div><div class="note success modern"><i class="solitude fas fa-fan"></i><p>这是三片呢？还是四片？</p></div><div class="note info modern"><i class="solitude fas fa-battery-half"></i><p>你是刷 Visa 还是 UnionPay</p></div><div class="note warning modern"><i class="solitude far fa-hand-scissors"></i><p>剪刀石头布</p></div><div class="note danger modern"><i class="solitude fab fa-internet-explorer"></i><p>前端最讨厌的浏览器</p></div><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="solitude fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="引用,-3"><figure class="highlight markdown"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre class="shiki shiki-themes one-light one-dark-pro"><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">&#123;% note default 'fas fa-bullhorn' %&#125;2025 年快到了....&#123;% endnote %&#125;</span></span><span class="line"></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">&#123;% note primary 'fas fa-car-crash' %&#125;小心开车 安全至上&#123;% endnote %&#125;</span></span><span class="line"></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">&#123;% note success 'fas fa-fan'%&#125;这是三片呢？还是四片？&#123;% endnote %&#125;</span></span><span class="line"></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">&#123;% note info 'fas fa-battery-half' %&#125;你是刷 Visa 还是 UnionPay&#123;% endnote %&#125;</span></span><span class="line"></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">&#123;% note warning 'far fa-hand-scissors' %&#125;剪刀石头布&#123;% endnote %&#125;</span></span><span class="line"></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">&#123;% note danger 'fab fa-internet-explorer' %&#125;前端最讨厌的浏览器&#123;% endnote %&#125;</span></span></code></pre></td></tr></tbody></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="solitude fas fa-arrow-up"></i></button></div></div></div><h3 id="按钮-button">按钮 button</h3><div class="tabs" id="按钮,"><ul class="nav-tabs"><li class="tab"><button type="button" data-href="#按钮,-0">标签语法</button></li><li class="tab active"><button type="button" data-href="#按钮,-1">样式预览</button></li><li class="tab"><button type="button" data-href="#按钮,-2">示例源码</button></li></ul><div class="tab-contents"><div class="tab-item-content" id="按钮,-0"><div class="note warning modern"><i class="solitude fas fa-info-circle"></i><p>onclick 为<ahref="https://github.com/HPCesia/hexo-solitude-tag/tree/myself">我个人的分支</a>的特性</p></div><figure class="highlight markdown"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre class="shiki shiki-themes one-light one-dark-pro"><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">&#123;% button </span><span style="color:#986801;--shiki-dark:#ABB2BF">[</span><span style="color:#4078F2;--shiki-dark:#61AFEF">图标</span><span style="color:#986801;--shiki-dark:#ABB2BF">]</span><span style="color:#986801;--shiki-dark:#ABB2BF"> [</span><span style="color:#4078F2;--shiki-dark:#61AFEF">内容</span><span style="color:#986801;--shiki-dark:#ABB2BF">]</span><span style="color:#986801;--shiki-dark:#ABB2BF"> [</span><span style="color:#4078F2;--shiki-dark:#61AFEF">链接</span><span style="color:#986801;--shiki-dark:#ABB2BF">]</span><span style="color:#383A42;--shiki-dark:#ABB2BF"> %&#125;</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">&#123;% button </span><span style="color:#986801;--shiki-dark:#ABB2BF">[</span><span style="color:#4078F2;--shiki-dark:#61AFEF">图标</span><span style="color:#986801;--shiki-dark:#ABB2BF">]</span><span style="color:#986801;--shiki-dark:#ABB2BF"> [</span><span style="color:#4078F2;--shiki-dark:#61AFEF">内容</span><span style="color:#986801;--shiki-dark:#ABB2BF">]</span><span style="color:#383A42;--shiki-dark:#ABB2BF"> onclick:</span><span style="color:#986801;--shiki-dark:#ABB2BF">[</span><span style="color:#4078F2;--shiki-dark:#61AFEF">事件</span><span style="color:#986801;--shiki-dark:#ABB2BF">]</span><span style="color:#383A42;--shiki-dark:#ABB2BF"> %&#125;</span></span></code></pre></td></tr></tbody></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="solitude fas fa-arrow-up"></i></button></div><div class="tab-item-content active" id="按钮,-1"><button class="st-btn" onclick="pjax.loadUrl(&#39;/music/&#39;)"><i class="solitude fas fa-music"></i><span>音乐馆</span></button><button class="st-btn" onclick="utils.scrollToDest(0)"><i class="solitude fas fa-circle-up"></i><span>回到顶部</span></button><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="solitude fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="按钮,-2"><figure class="highlight markdown"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre class="shiki shiki-themes one-light one-dark-pro"><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">&#123;% button 'fas fa-music' '音乐馆' '/music/' %&#125;</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">&#123;% button 'fas fa-circle-up' '回到顶部' "onclick:utils.scrollToDest(0)" %&#125;</span></span></code></pre></td></tr></tbody></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="solitude fas fa-arrow-up"></i></button></div></div></div><h3 id="折叠-fold">折叠 fold</h3><div class="tabs" id="折叠,"><ul class="nav-tabs"><li class="tab"><button type="button" data-href="#折叠,-0">标签语法</button></li><li class="tab"><button type="button" data-href="#折叠,-1">参数说明</button></li><li class="tab active"><button type="button" data-href="#折叠,-2">样式预览</button></li><li class="tab"><button type="button" data-href="#折叠,-3">示例源码</button></li></ul><div class="tab-contents"><div class="tab-item-content" id="折叠,-0"><figure class="highlight markdown"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre class="shiki shiki-themes one-light one-dark-pro"><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">&#123;% fold </span><span style="color:#986801;--shiki-dark:#ABB2BF">[</span><span style="color:#4078F2;--shiki-dark:#61AFEF">标题</span><span style="color:#986801;--shiki-dark:#ABB2BF">]</span><span style="color:#986801;--shiki-dark:#ABB2BF"> [</span><span style="color:#4078F2;--shiki-dark:#61AFEF">默认开启</span><span style="color:#986801;--shiki-dark:#ABB2BF">]</span><span style="color:#383A42;--shiki-dark:#ABB2BF"> %&#125;</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">Markdown 内容</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">&#123;% endfold %&#125;</span></span></code></pre></td></tr></tbody></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="solitude fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="折叠,-1"><ul><li>[标题]：每个折叠块的标题，不包含逗号。</li><li>[默认开启]：活动标签的索引号。<ul><li>可填写任意内容，均视为默认开启</li><li>可选参数</li></ul></li></ul><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="solitude fas fa-arrow-up"></i></button></div><div class="tab-item-content active" id="折叠,-2"><details><summary>默认关闭</summary><p><strong>这是默认关闭的</strong></p></details><details open="1"><summary>默认开启</summary><p><strong>这是默认开启的</strong></p></details><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="solitude fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="折叠,-3"><figure class="highlight markdown"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre class="shiki shiki-themes one-light one-dark-pro"><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">&#123;% fold 默认关闭 %&#125;</span></span><span class="line"><span style="color:#986801;font-weight:bold;--shiki-dark:#D19A66;--shiki-dark-font-weight:inherit">**这是默认关闭的**</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">&#123;% endfold %&#125;</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">&#123;% fold 默认开启 1 %&#125;</span></span><span class="line"><span style="color:#986801;font-weight:bold;--shiki-dark:#D19A66;--shiki-dark-font-weight:inherit">**这是默认开启的**</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">&#123;% endfold %&#125;</span></span></code></pre></td></tr></tbody></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="solitude fas fa-arrow-up"></i></button></div></div></div><h3 id="时间轴-timeline">时间轴 timeline</h3><div class="tabs" id="时间轴,"><ul class="nav-tabs"><li class="tab"><button type="button" data-href="#时间轴,-0">标签语法</button></li><li class="tab active"><button type="button" data-href="#时间轴,-1">样式预览</button></li><li class="tab"><button type="button" data-href="#时间轴,-2">示例源码</button></li></ul><div class="tab-contents"><div class="tab-item-content" id="时间轴,-0"><figure class="highlight markdown"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre class="shiki shiki-themes one-light one-dark-pro"><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">&#123;% timeline </span><span style="color:#986801;--shiki-dark:#ABB2BF">[</span><span style="color:#4078F2;--shiki-dark:#61AFEF">时间轴标题</span><span style="color:#986801;--shiki-dark:#ABB2BF">]</span><span style="color:#383A42;--shiki-dark:#ABB2BF"> %&#125;</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">&#123;% timenode </span><span style="color:#986801;--shiki-dark:#ABB2BF">[</span><span style="color:#4078F2;--shiki-dark:#61AFEF">时间节点标题</span><span style="color:#986801;--shiki-dark:#ABB2BF">]</span><span style="color:#383A42;--shiki-dark:#ABB2BF"> %&#125;</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">内容</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">&#123;% endtimenode %&#125;</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">&#123;% timenode </span><span style="color:#986801;--shiki-dark:#ABB2BF">[</span><span style="color:#4078F2;--shiki-dark:#61AFEF">时间节点标题</span><span style="color:#986801;--shiki-dark:#ABB2BF">]</span><span style="color:#383A42;--shiki-dark:#ABB2BF"> %&#125;</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">内容</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">&#123;% endtimenode %&#125;</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">&#123;% endtimeline %&#125;</span></span></code></pre></td></tr></tbody></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="solitude fas fa-arrow-up"></i></button></div><div class="tab-item-content active" id="时间轴,-1"><div class="timeline"><span class="timeline-title">时间轴样式预览</span><div class="timenode"><div class="meta"><p>2024-09-01</p></div><div class="body"><p>更新 ijkl。</p></div></div><div class="timenode"><div class="meta"><p>2020-11-21</p></div><div class="body"><p>更新 efgh。</p></div></div><div class="timenode"><div class="meta"><p>2010-02-02</p></div><div class="body"><p>更新 abcd。</p></div></div><div class="timenode"><div class="meta"><p>2000-01-01</p></div><div class="body"><p>发布文章。</p></div></div></div><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="solitude fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="时间轴,-2"><figure class="highlight markdown"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre class="shiki shiki-themes one-light one-dark-pro"><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">&#123;% timeline 时间轴样式预览 %&#125;</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">&#123;% timenode 2024-09-01 %&#125;</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">更新 ijkl。</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">&#123;% endtimenode %&#125;</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">&#123;% timenode 2020-11-21 %&#125;</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">更新 efgh。</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">&#123;% endtimenode %&#125;</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">&#123;% timenode 2010-02-02 %&#125;</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">更新 abcd。</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">&#123;% endtimenode %&#125;</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">&#123;% timenode 2000-01-01 %&#125;</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">发布文章。</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">&#123;% endtimenode %&#125;</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">&#123;% endtimeline %&#125;</span></span></code></pre></td></tr></tbody></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="solitude fas fa-arrow-up"></i></button></div></div></div><h3 id="链接卡片-link">链接卡片 link</h3><div class="tabs" id="链接卡片,"><ul class="nav-tabs"><li class="tab"><button type="button" data-href="#链接卡片,-0">标签语法</button></li><li class="tab active"><button type="button" data-href="#链接卡片,-1">样式预览</button></li><li class="tab"><button type="button" data-href="#链接卡片,-2">示例源码</button></li></ul><div class="tab-contents"><div class="tab-item-content" id="链接卡片,-0"><figure class="highlight markdown"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre class="shiki shiki-themes one-light one-dark-pro"><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">&#123;% link </span><span style="color:#986801;--shiki-dark:#ABB2BF">[</span><span style="color:#4078F2;--shiki-dark:#61AFEF">标题</span><span style="color:#986801;--shiki-dark:#ABB2BF">]</span><span style="color:#986801;--shiki-dark:#ABB2BF"> [</span><span style="color:#4078F2;--shiki-dark:#61AFEF">描述</span><span style="color:#986801;--shiki-dark:#ABB2BF">]</span><span style="color:#986801;--shiki-dark:#ABB2BF"> [</span><span style="color:#4078F2;--shiki-dark:#61AFEF">链接</span><span style="color:#986801;--shiki-dark:#ABB2BF">]</span><span style="color:#383A42;--shiki-dark:#ABB2BF"> %&#125;</span></span></code></pre></td></tr></tbody></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="solitude fas fa-arrow-up"></i></button></div><div class="tab-item-content active" id="链接卡片,-1"><a class="tag-link" href="/equipment/" target="_self"><div class="tag-link-tips">站内链接</div><div class="tag-link-bottom"><div class="tag-link-left"><i class="solitude fas fa-link"></i></div><div class="tag-link-right"><div class="tag-link-title">我的装备</div><div class="tag-link-sitename">生活与出行的必备品</div></div><i class="solitude fas fa-chevron-right"></i></div><p></a></p><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="solitude fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="链接卡片,-2"><figure class="highlight markdown"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre class="shiki shiki-themes one-light one-dark-pro"><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">&#123;% link '我的装备' '生活与出行的必备品' '/equipment/' %&#125;</span></span></code></pre></td></tr></tbody></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="solitude fas fa-arrow-up"></i></button></div></div></div><h3 id="仓库-repo">仓库 repo</h3><div class="tabs" id="仓库,"><ul class="nav-tabs"><li class="tab"><button type="button" data-href="#仓库,-0">标签语法</button></li><li class="tab active"><button type="button" data-href="#仓库,-1">样式预览</button></li><li class="tab"><button type="button" data-href="#仓库,-2">示例源码</button></li></ul><div class="tab-contents"><div class="tab-item-content" id="仓库,-0"><figure class="highlight markdown"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre class="shiki shiki-themes one-light one-dark-pro"><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">&#123;% github </span><span style="color:#986801;--shiki-dark:#ABB2BF">[</span><span style="color:#4078F2;--shiki-dark:#61AFEF">repo</span><span style="color:#986801;--shiki-dark:#ABB2BF">]</span><span style="color:#383A42;--shiki-dark:#ABB2BF"> %&#125;</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">&#123;% gitlab </span><span style="color:#986801;--shiki-dark:#ABB2BF">[</span><span style="color:#4078F2;--shiki-dark:#61AFEF">repo</span><span style="color:#986801;--shiki-dark:#ABB2BF">]</span><span style="color:#383A42;--shiki-dark:#ABB2BF"> %&#125;</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">&#123;% gitee </span><span style="color:#986801;--shiki-dark:#ABB2BF">[</span><span style="color:#4078F2;--shiki-dark:#61AFEF">repo</span><span style="color:#986801;--shiki-dark:#ABB2BF">]</span><span style="color:#383A42;--shiki-dark:#ABB2BF"> %&#125;</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">&#123;% gitea </span><span style="color:#986801;--shiki-dark:#ABB2BF">[</span><span style="color:#4078F2;--shiki-dark:#61AFEF">repo</span><span style="color:#986801;--shiki-dark:#ABB2BF">]</span><span style="color:#383A42;--shiki-dark:#ABB2BF"> %&#125;</span></span></code></pre></td></tr></tbody></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="solitude fas fa-arrow-up"></i></button></div><div class="tab-item-content active" id="仓库,-1"><div class="repo-card"><a class='name-1vx1oj2e5 repo-title fancybox' href="https://github.com/HPCesia/HPCesia.github.io" rel="external nofollow noreferrer"></a><p class="desc-1vx1oj2e5 repo-desc"></p><div class="repo-gist"><i class="fas fa-star"></i><spanclass="star-1vx1oj2e5"></span><i class="fas fa-code-branch"></i><spanclass="fork-1vx1oj2e5"></span></div><img class='lang-1vx1oj2e5 repo-language no-lightbox' /><script>    fetch('https://api.github.com/repos/HPCesia/HPCesia.github.io')      .then(res => res.json())      .then(data => {        document.querySelector('.name-1vx1oj2e5').innerText = data.name;        document.querySelector('.desc-1vx1oj2e5').innerText = data.description;        document.querySelector('.star-1vx1oj2e5').innerText = data.stargazers_count;        document.querySelector('.fork-1vx1oj2e5').innerText = data.forks_count;        document.querySelector('.lang-1vx1oj2e5').src = 'https://skillicons.dev/icons?i=' + data.language.toLowerCase();    });  </script></div><div class="repo-card"><a class='name-okq75pt7o repo-title fancybox' href="https://github.com/everfu/hexo-theme-solitude" rel="external nofollow noreferrer"></a><p class="desc-okq75pt7o repo-desc"></p><div class="repo-gist"><i class="fas fa-star"></i><spanclass="star-okq75pt7o"></span><i class="fas fa-code-branch"></i><spanclass="fork-okq75pt7o"></span></div><img class='lang-okq75pt7o repo-language no-lightbox' /><script>    fetch('https://api.github.com/repos/everfu/hexo-theme-solitude')      .then(res => res.json())      .then(data => {        document.querySelector('.name-okq75pt7o').innerText = data.name;        document.querySelector('.desc-okq75pt7o').innerText = data.description;        document.querySelector('.star-okq75pt7o').innerText = data.stargazers_count;        document.querySelector('.fork-okq75pt7o').innerText = data.forks_count;        document.querySelector('.lang-okq75pt7o').src = 'https://skillicons.dev/icons?i=' + data.language.toLowerCase();    });  </script></div><div class="repo-card"><a class='name-0uka05ywq repo-title fancybox' href="https://gitee.com/everfu/hexo-theme-solitude" rel="external nofollow noreferrer"></a><p class="desc-0uka05ywq repo-desc"></p><div class="repo-gist"><i class="fas fa-star"></i><spanclass="star-0uka05ywq"></span><i class="fas fa-code-branch"></i><spanclass="fork-0uka05ywq"></span></div><img class='lang-0uka05ywq repo-language no-lightbox' /><script>    fetch('https://gitee.com/api/v5/repos/everfu/hexo-theme-solitude')      .then(res => res.json())      .then(data => {        document.querySelector('.name-0uka05ywq').innerText = data.name;        document.querySelector('.desc-0uka05ywq').innerText = data.description;        document.querySelector('.star-0uka05ywq').innerText = data.stargazers_count;        document.querySelector('.fork-0uka05ywq').innerText = data.forks_count;        document.querySelector('.lang-0uka05ywq').src = 'https://skillicons.dev/icons?i=' + data.language.toLowerCase();    });  </script></div><div class="repo-card"><a class='name-pisputauv repo-title fancybox' href="https://gitlab.com/efu/hexo-theme-solitude" rel="external nofollow noreferrer"></a><p class="desc-pisputauv repo-desc"></p><div class="repo-gist"><i class="fas fa-star"></i><spanclass="star-pisputauv"></span><i class="fas fa-code-branch"></i><spanclass="fork-pisputauv"></span></div><img class='lang-pisputauv repo-language no-lightbox' /><script>    fetch('https://gitlab.com/api/v4/projects/efu%2Fhexo-theme-solitude')      .then(res => res.json())      .then(data => {        document.querySelector('.name-pisputauv').innerText = data.name;        document.querySelector('.desc-pisputauv').innerText = data.description;        document.querySelector('.star-pisputauv').innerText = data.star_count;        document.querySelector('.fork-pisputauv').innerText = data.forks_count;        document.querySelector('.lang-pisputauv').src = 'https://skillicons.dev/icons?i=' + data.language.toLowerCase();    });  </script></div><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="solitude fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="仓库,-2"><figure class="highlight markdown"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre class="shiki shiki-themes one-light one-dark-pro"><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">&#123;% github HPCesia/HPCesia.github.io %&#125;</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">&#123;% github everfu/hexo-theme-solitude %&#125;</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">&#123;% gitee everfu/hexo-theme-solitude %&#125;</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">&#123;% gitlab efu/hexo-theme-solitude %&#125;</span></span></code></pre></td></tr></tbody></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="solitude fas fa-arrow-up"></i></button></div></div></div><h3 id="标签-label">标签 label</h3><div class="note warning modern"><i class="solitude fas fa-info-circle"></i><p>主分支已将该标签删除，<ahref="https://github.com/HPCesia/hexo-solitude-tag/tree/myself">我个人的分支</a>仍保留该标签</p></div><div class="tabs" id="标签,"><ul class="nav-tabs"><li class="tab"><button type="button" data-href="#标签,-0">标签语法</button></li><li class="tab"><button type="button" data-href="#标签,-1">参数说明</button></li><li class="tab active"><button type="button" data-href="#标签,-2">样式预览</button></li><li class="tab"><button type="button" data-href="#标签,-3">示例源码</button></li></ul><div class="tab-contents"><div class="tab-item-content" id="标签,-0"><figure class="highlight markdown"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre class="shiki shiki-themes one-light one-dark-pro"><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">&#123;% label </span><span style="color:#986801;--shiki-dark:#ABB2BF">[</span><span style="color:#4078F2;--shiki-dark:#61AFEF">内容</span><span style="color:#986801;--shiki-dark:#ABB2BF">]</span><span style="color:#986801;--shiki-dark:#ABB2BF"> [</span><span style="color:#4078F2;--shiki-dark:#61AFEF">颜色</span><span style="color:#986801;--shiki-dark:#ABB2BF">]</span><span style="color:#383A42;--shiki-dark:#ABB2BF"> %&#125;</span></span></code></pre></td></tr></tbody></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="solitude fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="标签,-1"><ul><li>[内容]：标签内的文字</li><li>[颜色]：标签的背景颜色<ul><li>可用颜色：<code>red | green | blue | yellow | pink | purple | orange</code></li></ul></li></ul><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="solitude fas fa-arrow-up"></i></button></div><div class="tab-item-content active" id="标签,-2"><p><span class="hl-label bg-red">这是红色</span> <spanclass="hl-label bg-green">这是绿色</span> <spanclass="hl-label bg-blue">这是蓝色</span> <spanclass="hl-label bg-yellow">这是黄色</span> <spanclass="hl-label bg-pink">这是粉色</span> <spanclass="hl-label bg-purple">这是紫色</span> <spanclass="hl-label bg-orange">这是橙色</span></p><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="solitude fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="标签,-3"><figure class="highlight markdown"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre class="shiki shiki-themes one-light one-dark-pro"><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">&#123;% label 这是红色 red %&#125;</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">&#123;% label 这是绿色 green %&#125;</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">&#123;% label 这是蓝色 blue %&#125;</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">&#123;% label 这是黄色 yellow %&#125;</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">&#123;% label 这是粉色 pink %&#125;</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">&#123;% label 这是紫色 purple %&#125;</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">&#123;% label 这是橙色 orange %&#125;</span></span></code></pre></td></tr></tbody></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="solitude fas fa-arrow-up"></i></button></div></div></div><h3 id="复选栏-checkbox">复选栏 checkbox</h3><div class="tabs" id="复选栏,"><ul class="nav-tabs"><li class="tab"><button type="button" data-href="#复选栏,-0">标签语法</button></li><li class="tab"><button type="button" data-href="#复选栏,-1">参数说明</button></li><li class="tab active"><button type="button" data-href="#复选栏,-2">样式预览</button></li><li class="tab"><button type="button" data-href="#复选栏,-3">示例源码</button></li></ul><div class="tab-contents"><div class="tab-item-content" id="复选栏,-0"><figure class="highlight markdown"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre class="shiki shiki-themes one-light one-dark-pro"><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">&#123;% checkbox </span><span style="color:#986801;--shiki-dark:#ABB2BF">[</span><span style="color:#4078F2;--shiki-dark:#61AFEF">颜色</span><span style="color:#986801;--shiki-dark:#ABB2BF">]</span><span style="color:#986801;--shiki-dark:#ABB2BF"> [</span><span style="color:#4078F2;--shiki-dark:#61AFEF">是否勾选</span><span style="color:#986801;--shiki-dark:#ABB2BF">]</span><span style="color:#986801;--shiki-dark:#ABB2BF"> [</span><span style="color:#4078F2;--shiki-dark:#61AFEF">内容</span><span style="color:#986801;--shiki-dark:#ABB2BF">]</span><span style="color:#383A42;--shiki-dark:#ABB2BF"> %&#125;</span></span></code></pre></td></tr></tbody></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="solitude fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="复选栏,-1"><ul><li>[颜色]：标签的背景颜色<ul><li>可用颜色：<code>red | green | blue | yellow | pink | purple | orange</code></li></ul></li><li>[是否勾选]：<code>checked | unchecked</code><ul><li>可选参数，默认为 <code>checked</code></li></ul></li><li>[内容]：标签内的文字</li></ul><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="solitude fas fa-arrow-up"></i></button></div><div class="tab-item-content active" id="复选栏,-2"><div class="checkbox red"><input type="checkbox" checked=checked/><p>这是红色</p></div><div class="checkbox green"><input type="checkbox" /><p>这是绿色</p></div><div class="checkbox blue"><input type="checkbox" checked=checked/><p>这是蓝色</p></div><div class="checkbox yellow"><input type="checkbox" checked=checked/><p>这是黄色</p></div><div class="checkbox pink"><input type="checkbox" checked=checked/><p>这是粉色</p></div><div class="checkbox purple"><input type="checkbox" checked=checked/><p>这是紫色</p></div><div class="checkbox orange"><input type="checkbox" checked=checked/><p>这是橙色</p></div><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="solitude fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="复选栏,-3"><figure class="highlight markdown"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre class="shiki shiki-themes one-light one-dark-pro"><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">&#123;% checkbox red checked 这是红色 %&#125;</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">&#123;% checkbox green unchecked 这是绿色 %&#125;</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">&#123;% checkbox blue 这是蓝色 %&#125;</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">&#123;% checkbox yellow 这是黄色 %&#125;</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">&#123;% checkbox pink 这是粉色 %&#125;</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">&#123;% checkbox purple 这是紫色 %&#125;</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">&#123;% checkbox orange 这是橙色 %&#125;</span></span></code></pre></td></tr></tbody></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="solitude fas fa-arrow-up"></i></button></div></div></div><h3 id="单选栏-radio">单选栏 radio</h3><div class="tabs" id="单选栏,"><ul class="nav-tabs"><li class="tab"><button type="button" data-href="#单选栏,-0">标签语法</button></li><li class="tab"><button type="button" data-href="#单选栏,-1">参数说明</button></li><li class="tab active"><button type="button" data-href="#单选栏,-2">样式预览</button></li><li class="tab"><button type="button" data-href="#单选栏,-3">示例源码</button></li></ul><div class="tab-contents"><div class="tab-item-content" id="单选栏,-0"><figure class="highlight markdown"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre class="shiki shiki-themes one-light one-dark-pro"><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">&#123;% radio </span><span style="color:#986801;--shiki-dark:#ABB2BF">[</span><span style="color:#4078F2;--shiki-dark:#61AFEF">颜色</span><span style="color:#986801;--shiki-dark:#ABB2BF">]</span><span style="color:#986801;--shiki-dark:#ABB2BF"> [</span><span style="color:#4078F2;--shiki-dark:#61AFEF">是否勾选</span><span style="color:#986801;--shiki-dark:#ABB2BF">]</span><span style="color:#986801;--shiki-dark:#ABB2BF"> [</span><span style="color:#4078F2;--shiki-dark:#61AFEF">内容</span><span style="color:#986801;--shiki-dark:#ABB2BF">]</span><span style="color:#383A42;--shiki-dark:#ABB2BF"> %&#125;</span></span></code></pre></td></tr></tbody></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="solitude fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="单选栏,-1"><ul><li>[颜色]：标签的背景颜色<ul><li>可用颜色：<code>red | green | blue | yellow | pink | purple | orange</code></li></ul></li><li>[是否勾选]：<code>checked | unchecked</code><ul><li>可选参数，默认为 <code>checked</code></li></ul></li><li>[内容]：标签内的文字</li></ul><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="solitude fas fa-arrow-up"></i></button></div><div class="tab-item-content active" id="单选栏,-2"><div class="checkbox red"><input type="radio" checked=checked/><p>这是红色</p></div><div class="checkbox green"><input type="radio" /><p>这是绿色</p></div><div class="checkbox blue"><input type="radio" checked=checked/><p>这是蓝色</p></div><div class="checkbox yellow"><input type="radio" checked=checked/><p>这是黄色</p></div><div class="checkbox pink"><input type="radio" checked=checked/><p>这是粉色</p></div><div class="checkbox purple"><input type="radio" checked=checked/><p>这是紫色</p></div><div class="checkbox orange"><input type="radio" checked=checked/><p>这是橙色</p></div><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="solitude fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="单选栏,-3"><figure class="highlight markdown"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre class="shiki shiki-themes one-light one-dark-pro"><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">&#123;% radio red checked 这是红色 %&#125;</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">&#123;% radio green unchecked 这是绿色 %&#125;</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">&#123;% radio blue 这是蓝色 %&#125;</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">&#123;% radio yellow 这是黄色 %&#125;</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">&#123;% radio pink 这是粉色 %&#125;</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">&#123;% radio purple 这是紫色 %&#125;</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">&#123;% radio orange 这是橙色 %&#125;</span></span></code></pre></td></tr></tbody></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="solitude fas fa-arrow-up"></i></button></div></div></div><h3 id="气泡注释-bubble">气泡注释 bubble</h3><div class="tabs" id="气泡注释,"><ul class="nav-tabs"><li class="tab"><button type="button" data-href="#气泡注释,-0">标签语法</button></li><li class="tab"><button type="button" data-href="#气泡注释,-1">参数说明</button></li><li class="tab active"><button type="button" data-href="#气泡注释,-2">样式预览</button></li><li class="tab"><button type="button" data-href="#气泡注释,-3">示例源码</button></li></ul><div class="tab-contents"><div class="tab-item-content" id="气泡注释,-0"><figure class="highlight markdown"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre class="shiki shiki-themes one-light one-dark-pro"><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">&#123;% bubble </span><span style="color:#986801;--shiki-dark:#ABB2BF">[</span><span style="color:#4078F2;--shiki-dark:#61AFEF">文字</span><span style="color:#986801;--shiki-dark:#ABB2BF">]</span><span style="color:#986801;--shiki-dark:#ABB2BF"> [</span><span style="color:#4078F2;--shiki-dark:#61AFEF">注释</span><span style="color:#986801;--shiki-dark:#ABB2BF">]</span><span style="color:#986801;--shiki-dark:#ABB2BF"> [</span><span style="color:#4078F2;--shiki-dark:#61AFEF">颜色</span><span style="color:#986801;--shiki-dark:#ABB2BF">]</span><span style="color:#383A42;--shiki-dark:#ABB2BF"> %&#125;</span></span></code></pre></td></tr></tbody></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="solitude fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="气泡注释,-1"><ul><li>[文字]：显示的文字内容</li><li>[注释]：气泡内显示的文字内容（不支持 Markdown 语法）</li><li>[颜色]：气泡的背景颜色<ul><li>可用颜色：<code>red | green | blue | yellow | pink | purple | orange</code></li><li>也可使用十六进制颜色，如 <code>#ec5830</code></li><li>使用自定义颜色时，气泡内的文字颜色会根据给定的背景颜色计算近似亮度，以此设置为白色/ 黑色</li></ul></li></ul><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="solitude fas fa-arrow-up"></i></button></div><div class="tab-item-content active" id="气泡注释,-2"><p><span class="bubble-content">贝塞尔曲线</span><spanclass="bubble-notation"><span class="bubble-item bg-red">Béziercurve</span></span>是一种广泛应用于二维图形应用程序的数学曲线，于 1962年由<span class="bubble-content">皮埃尔·贝塞尔</span><spanclass="bubble-notation"><span class="bubble-item"style="background-color:#ec5830; color: var(--efu-black)">PierreBézier（1910 年 9 月 1 日——1999 年 11 月 25日），法国机械和电气工程师，计算机几何建模创始人之一。</span></span>所广泛发表，他运用贝塞尔曲线来为汽车的主体进行设计。</p><details open="1"><summary>在 fold 标签内嵌套使用示例</summary><div class="note warning modern"><i class="solitude fas fa-vial-circle-check"></i><p>在 <span class="bubble-content">note 标签和 fold 标签</span><spanclass="bubble-notation"><spanclass="bubble-item bg-pink">外挂标签插件的另外两个标签，你可以在这篇文章内找到他们的使用方法。</span></span>内嵌套使用示例。</p><p><em>fold 和 tabs 标签内部嵌套的气泡标签会被遮挡！！！</em></p></div></details><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="solitude fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="气泡注释,-3"><figure class="highlight markdown"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre class="shiki shiki-themes one-light one-dark-pro"><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">&#123;% bubble '贝塞尔曲线' 'Bézier curve' 'red' %&#125;是一种广泛应用于二维图形应用程序的数学曲线，于 1962 年由&#123;% bubble '皮埃尔·贝塞尔' 'Pierre Bézier（1910 年 9 月 1 日——1999 年 11 月 25 日），法国机械和电气工程师，计算机几何建模创始人之一。' '#ec5830' %&#125;所广泛发表，他运用贝塞尔曲线来为汽车的主体进行设计。</span></span><span class="line"></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">&#123;% fold '在 fold 标签内嵌套使用示例' 1 %&#125;</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">&#123;% note warning 'fas fa-vial-circle-check' %&#125;</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">在 &#123;% bubble 'note 标签和 fold 标签' '外挂标签插件的另外两个标签，你可以在这篇文章内找到他们的使用方法。' 'pink' %&#125;内嵌套使用示例。</span></span><span class="line"></span><span class="line"><span style="color:#A626A4;font-style:italic;--shiki-dark:#C678DD;--shiki-dark-font-style:italic">*fold 和 tabs 标签内部嵌套的气泡标签会被遮挡！！！*</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">&#123;% endnote %&#125;</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">&#123;% endfold %&#125;</span></span></code></pre></td></tr></tbody></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="solitude fas fa-arrow-up"></i></button></div></div></div><h3 id="b-站视频-bvideo">B 站视频 bvideo</h3><div class="tabs" id="b站视频,"><ul class="nav-tabs"><li class="tab"><button type="button" data-href="#b站视频,-0">标签语法</button></li><li class="tab active"><button type="button" data-href="#b站视频,-1">样式预览</button></li><li class="tab"><button type="button" data-href="#b站视频,-2">示例源码</button></li></ul><div class="tab-contents"><div class="tab-item-content" id="b站视频,-0"><figure class="highlight markdown"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre class="shiki shiki-themes one-light one-dark-pro"><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">&#123;% bvideo </span><span style="color:#986801;--shiki-dark:#ABB2BF">[</span><span style="color:#4078F2;--shiki-dark:#61AFEF">BV号</span><span style="color:#986801;--shiki-dark:#ABB2BF">]</span><span style="color:#383A42;--shiki-dark:#ABB2BF"> %&#125;</span></span></code></pre></td></tr></tbody></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="solitude fas fa-arrow-up"></i></button></div><div class="tab-item-content active" id="b站视频,-1"><div class="video-container"><iframe src="//player.bilibili.com/player.html?autoplay=0&amp;bvid=BV1z34y1C7Kc" frameborder="0" loading="lazy" allowfullscreen></iframe></div><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="solitude fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="b站视频,-2"><figure class="highlight markdown"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre class="shiki shiki-themes one-light one-dark-pro"><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">&#123;% bvideo BV1z34y1C7Kc %&#125;</span></span></code></pre></td></tr></tbody></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="solitude fas fa-arrow-up"></i></button></div></div></div><h3 id="键盘按键-keyboard">键盘按键 keyboard</h3><div class="tabs" id="键盘按键,"><ul class="nav-tabs"><li class="tab"><button type="button" data-href="#键盘按键,-0">标签语法</button></li><li class="tab"><button type="button" data-href="#键盘按键,-1">参数说明</button></li><li class="tab active"><button type="button" data-href="#键盘按键,-2">样式预览</button></li><li class="tab"><button type="button" data-href="#键盘按键,-3">示例源码</button></li></ul><div class="tab-contents"><div class="tab-item-content" id="键盘按键,-0"><figure class="highlight markdown"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre class="shiki shiki-themes one-light one-dark-pro"><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">&#123;% keyboard </span><span style="color:#986801;--shiki-dark:#ABB2BF">[</span><span style="color:#4078F2;--shiki-dark:#61AFEF">按键</span><span style="color:#986801;--shiki-dark:#ABB2BF">]</span><span style="color:#383A42;--shiki-dark:#ABB2BF"> %&#125;</span></span></code></pre></td></tr></tbody></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="solitude fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="键盘按键,-1"><ul><li>[按键]：按键内文字，会自动转换大小写，<code>Enter | Windows | Command | Option</code>键会附带特殊图标</li></ul><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="solitude fas fa-arrow-up"></i></button></div><div class="tab-item-content active" id="键盘按键,-2"><p>在 Windows 系统中可以使用 <span class="keyboard">Win⌘</span> + <spanclass="keyboard">Shift⇧</span> + <span class="keyboard">S</span>来截图，在 Mac 中则是 <span class="keyboard">Command⌘</span> + <spanclass="keyboard">Shift⇧</span> + <span class="keyboard">3</span>。</p><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="solitude fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="键盘按键,-3"><figure class="highlight markdown"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre class="shiki shiki-themes one-light one-dark-pro"><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">在 Windows 系统中可以使用 &#123;% keyboard Windows %&#125; + &#123;% keyboard Shift %&#125; + &#123;% keyboard S %&#125; 来截图，在 Mac 中则是 &#123;% keyboard Command %&#125; + &#123;% keyboard Shift %&#125; + &#123;% keyboard 3 %&#125;。</span></span></code></pre></td></tr></tbody></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="solitude fas fa-arrow-up"></i></button></div></div></div><h3 id="剧透文本-spoiler">剧透文本 spoiler</h3><div class="tabs" id="剧透文本,"><ul class="nav-tabs"><li class="tab"><button type="button" data-href="#剧透文本,-0">标签语法</button></li><li class="tab"><button type="button" data-href="#剧透文本,-1">参数说明</button></li><li class="tab active"><button type="button" data-href="#剧透文本,-2">样式预览</button></li><li class="tab"><button type="button" data-href="#剧透文本,-3">示例源码</button></li></ul><div class="tab-contents"><div class="tab-item-content" id="剧透文本,-0"><figure class="highlight markdown"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre class="shiki shiki-themes one-light one-dark-pro"><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">&#123;% spoiler </span><span style="color:#986801;--shiki-dark:#ABB2BF">[</span><span style="color:#4078F2;--shiki-dark:#61AFEF">样式</span><span style="color:#986801;--shiki-dark:#ABB2BF">]</span><span style="color:#986801;--shiki-dark:#ABB2BF"> [</span><span style="color:#4078F2;--shiki-dark:#61AFEF">文字</span><span style="color:#986801;--shiki-dark:#ABB2BF">]</span><span style="color:#383A42;--shiki-dark:#ABB2BF"> %&#125;</span></span></code></pre></td></tr></tbody></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="solitude fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="剧透文本,-1"><ul><li>[样式]：剧透文本遮罩类型 <code>blur | block</code></li><li>[文字]：遮罩的文字内容（不支持 Markdown 语法）</li></ul><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="solitude fas fa-arrow-up"></i></button></div><div class="tab-item-content active" id="剧透文本,-2"><p>《<span class="spoiler block-text">原神</span>》是由<spanclass="spoiler blur-text">米哈游</span>自研的一款全新开放世界冒险RPG。</p><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="solitude fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="剧透文本,-3"><figure class="highlight markdown"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre class="shiki shiki-themes one-light one-dark-pro"><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">《&#123;% spoiler block 原神 %&#125;》是由&#123;% spoiler blur 米哈游 %&#125;自研的一款全新开放世界冒险 RPG。</span></span></code></pre></td></tr></tbody></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="solitude fas fa-arrow-up"></i></button></div></div></div><h3 id="卡片-card">卡片 card</h3><div class="tabs" id="卡片"><ul class="nav-tabs"><li class="tab"><button type="button" data-href="#卡片-0">标签语法</button></li><li class="tab"><button type="button" data-href="#卡片-1">参数说明</button></li><li class="tab active"><button type="button" data-href="#卡片-2">样式预览</button></li><li class="tab"><button type="button" data-href="#卡片-3">示例源码</button></li></ul><div class="tab-contents"><div class="tab-item-content" id="卡片-0"><figure class="highlight markdown"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre class="shiki shiki-themes one-light one-dark-pro"><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">&#123;% card </span><span style="color:#986801;--shiki-dark:#ABB2BF">[</span><span style="color:#4078F2;--shiki-dark:#61AFEF">名称</span><span style="color:#986801;--shiki-dark:#ABB2BF">]</span><span style="color:#383A42;--shiki-dark:#ABB2BF">,</span><span style="color:#986801;--shiki-dark:#ABB2BF">[</span><span style="color:#4078F2;--shiki-dark:#61AFEF">链接</span><span style="color:#986801;--shiki-dark:#ABB2BF">]</span><span style="color:#383A42;--shiki-dark:#ABB2BF">,</span><span style="color:#986801;--shiki-dark:#ABB2BF">[</span><span style="color:#4078F2;--shiki-dark:#61AFEF">背景</span><span style="color:#986801;--shiki-dark:#ABB2BF">]</span><span style="color:#383A42;--shiki-dark:#ABB2BF">,</span><span style="color:#986801;--shiki-dark:#ABB2BF">[</span><span style="color:#4078F2;--shiki-dark:#61AFEF">评分</span><span style="color:#986801;--shiki-dark:#ABB2BF">]</span><span style="color:#383A42;--shiki-dark:#ABB2BF">,</span><span style="color:#986801;--shiki-dark:#ABB2BF">[</span><span style="color:#4078F2;--shiki-dark:#61AFEF">评价</span><span style="color:#986801;--shiki-dark:#ABB2BF">]</span><span style="color:#383A42;--shiki-dark:#ABB2BF">,</span><span style="color:#986801;--shiki-dark:#ABB2BF">[</span><span style="color:#4078F2;--shiki-dark:#61AFEF">图标</span><span style="color:#986801;--shiki-dark:#ABB2BF">]</span><span style="color:#383A42;--shiki-dark:#ABB2BF">,</span><span style="color:#986801;--shiki-dark:#ABB2BF">[</span><span style="color:#4078F2;--shiki-dark:#61AFEF">标签</span><span style="color:#986801;--shiki-dark:#ABB2BF">]</span><span style="color:#383A42;--shiki-dark:#ABB2BF">,</span><span style="color:#986801;--shiki-dark:#ABB2BF">[</span><span style="color:#4078F2;--shiki-dark:#61AFEF">宽度</span><span style="color:#986801;--shiki-dark:#ABB2BF">]</span><span style="color:#383A42;--shiki-dark:#ABB2BF">,</span><span style="color:#986801;--shiki-dark:#ABB2BF">[</span><span style="color:#4078F2;--shiki-dark:#61AFEF">高度</span><span style="color:#986801;--shiki-dark:#ABB2BF">]</span><span style="color:#383A42;--shiki-dark:#ABB2BF"> %&#125;</span></span></code></pre></td></tr></tbody></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="solitude fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="卡片-1"><ul><li>[名称]：卡片的标题</li><li>[链接]：卡片「查看详情」按钮所指向的链接</li><li>[背景]：背景图片的链接</li><li>[评分]：星星的数量</li><li>[评价]：光标移动到卡片上时显现的文字</li><li>[图标]：左上角的 Font Awesome 图标</li><li>[标签]：右上角显示的文字</li><li>[宽度]：卡片宽度，默认值：<code>200px</code></li><li>[高度]：卡片高度，默认值：<code>275px</code></li></ul><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="solitude fas fa-arrow-up"></i></button></div><div class="tab-item-content active" id="卡片-2"><div class="card_box" title="牧者密续" referrerpolicy="no-referrer"style="background-image: url(https://bu.dusays.com/2024/11/04/6728531f376df.webp); width:200px; height:275px;"><div class="card_mask"><span>读起来相当舒服的西幻文</span><a href="https://www.qidian.com/book/1037095853/" rel="external nofollow noreferrer">查看详情</a></div><div class="card_top"><i class="fas fa-book"></i><span>西幻</span></div><div class="card_content"><span>牧者密续</span><div><i class="fa-solid fa-star"></i><i class="fa-solid fa-star"></i><i class="fa-solid fa-star"></i><i class="fa-solid fa-star"></i><i class="fa-solid fa-star"></i></div></div></div><div class="card_box" title="崩坏：星穹铁道"referrerpolicy="no-referrer"style="background-image: url(https://bu.dusays.com/2024/10/28/671f2b2119bcf.webp); width:450px; height:275px;"><div class="card_mask"><span>健康阳光积极向上的欢乐向回合制 Gacha游戏</span><a href="https://sr.mihoyo.com/" rel="external nofollow noreferrer">查看详情</a></div><div class="card_top"><i class="fas fa-gamepad"></i><span>JRPG</span></div><div class="card_content"><span>崩坏：星穹铁道</span><div><i class="fa-solid fa-star"></i><i class="fa-solid fa-star"></i><i class="fa-solid fa-star"></i><i class="fa-solid fa-star"></i><i class="fa-solid fa-star"></i></div></div></div><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="solitude fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="卡片-3"><figure class="highlight markdown"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre class="shiki shiki-themes one-light one-dark-pro"><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">&#123;% card 牧者密续, https://www.qidian.com/book/1037095853/, https://bu.dusays.com/2024/11/04/6728531f376df.webp, 5, 读起来相当舒服的西幻文, fas fa-book, 西幻 %&#125;</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">&#123;% card 崩坏：星穹铁道, https://sr.mihoyo.com/, https://bu.dusays.com/2024/10/28/671f2b2119bcf.webp, 5, 健康阳光积极向上的欢乐向回合制 Gacha 游戏, fas fa-gamepad, JRPG, 450px, 275px %&#125;</span></span></code></pre></td></tr></tbody></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="solitude fas fa-arrow-up"></i></button></div></div></div><h2 id="代码补全">代码补全</h2><p>顺便分享一下我在 VSCode 中使用的 Solitude 相关的 <ahref="https://code.visualstudio.com/docs/editor/userdefinedsnippets">CodeSnippet</a> 配置： <figure class="highlight json"><figcaption><span>hexo-tags-solitude.code-snippets</span></figcaption><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br></pre></td><td class="code"><pre class="shiki shiki-themes one-light one-dark-pro"><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">&#123;</span></span><span class="line"><span style="color:#E45649;--shiki-dark:#E06C75">  "tabs"</span><span style="color:#383A42;--shiki-dark:#ABB2BF">: &#123;</span></span><span class="line"><span style="color:#E45649;--shiki-dark:#E06C75">    "prefix"</span><span style="color:#383A42;--shiki-dark:#ABB2BF">: </span><span style="color:#50A14F;--shiki-dark:#98C379">"%tabs"</span><span style="color:#383A42;--shiki-dark:#ABB2BF">,</span></span><span class="line"><span style="color:#E45649;--shiki-dark:#E06C75">    "body"</span><span style="color:#383A42;--shiki-dark:#ABB2BF">: [</span></span><span class="line"><span style="color:#50A14F;--shiki-dark:#98C379">      "&#123;% tabs $&#123;1:唯一名称&#125; $&#123;2:0&#125; %&#125;"</span><span style="color:#383A42;--shiki-dark:#ABB2BF">,</span></span><span class="line"><span style="color:#50A14F;--shiki-dark:#98C379">      "$&#123;3:%tabs-tab&#125;"</span><span style="color:#383A42;--shiki-dark:#ABB2BF">,</span></span><span class="line"><span style="color:#50A14F;--shiki-dark:#98C379">      "&#123;% endtabs %&#125;"</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">    ],</span></span><span class="line"><span style="color:#E45649;--shiki-dark:#E06C75">    "description"</span><span style="color:#383A42;--shiki-dark:#ABB2BF">: </span><span style="color:#50A14F;--shiki-dark:#98C379">"Solitude 主题的 tabs tag"</span><span style="color:#383A42;--shiki-dark:#ABB2BF">,</span></span><span class="line"><span style="color:#E45649;--shiki-dark:#E06C75">    "scope"</span><span style="color:#383A42;--shiki-dark:#ABB2BF">: </span><span style="color:#50A14F;--shiki-dark:#98C379">"markdown"</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">  &#125;,</span></span><span class="line"><span style="color:#E45649;--shiki-dark:#E06C75">  "tab"</span><span style="color:#383A42;--shiki-dark:#ABB2BF">: &#123;</span></span><span class="line"><span style="color:#E45649;--shiki-dark:#E06C75">    "prefix"</span><span style="color:#383A42;--shiki-dark:#ABB2BF">: </span><span style="color:#50A14F;--shiki-dark:#98C379">"%tabs-tab"</span><span style="color:#383A42;--shiki-dark:#ABB2BF">,</span></span><span class="line"><span style="color:#E45649;--shiki-dark:#E06C75">    "body"</span><span style="color:#383A42;--shiki-dark:#ABB2BF">: [</span></span><span class="line"><span style="color:#50A14F;--shiki-dark:#98C379">      "&#x3C;!-- tab $&#123;1:标签标题&#125; $&#123;2:@图标 &#125;-->"</span><span style="color:#383A42;--shiki-dark:#ABB2BF">,</span></span><span class="line"><span style="color:#50A14F;--shiki-dark:#98C379">      "$3"</span><span style="color:#383A42;--shiki-dark:#ABB2BF">,</span></span><span class="line"><span style="color:#50A14F;--shiki-dark:#98C379">      "&#x3C;!-- endtab -->"</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">    ],</span></span><span class="line"><span style="color:#E45649;--shiki-dark:#E06C75">    "description"</span><span style="color:#383A42;--shiki-dark:#ABB2BF">: </span><span style="color:#50A14F;--shiki-dark:#98C379">"Solitude 主题的 tabs tag 的标签页"</span><span style="color:#383A42;--shiki-dark:#ABB2BF">,</span></span><span class="line"><span style="color:#E45649;--shiki-dark:#E06C75">    "scope"</span><span style="color:#383A42;--shiki-dark:#ABB2BF">: </span><span style="color:#50A14F;--shiki-dark:#98C379">"markdown"</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">  &#125;,</span></span><span class="line"><span style="color:#E45649;--shiki-dark:#E06C75">  "gallery"</span><span style="color:#383A42;--shiki-dark:#ABB2BF">: &#123;</span></span><span class="line"><span style="color:#E45649;--shiki-dark:#E06C75">    "prefix"</span><span style="color:#383A42;--shiki-dark:#ABB2BF">: </span><span style="color:#50A14F;--shiki-dark:#98C379">"%gallery"</span><span style="color:#383A42;--shiki-dark:#ABB2BF">,</span></span><span class="line"><span style="color:#E45649;--shiki-dark:#E06C75">    "body"</span><span style="color:#383A42;--shiki-dark:#ABB2BF">: [</span></span><span class="line"><span style="color:#50A14F;--shiki-dark:#98C379">      "&#123;% gallery %&#125;"</span><span style="color:#383A42;--shiki-dark:#ABB2BF">,</span></span><span class="line"><span style="color:#50A14F;--shiki-dark:#98C379">      "$&#123;1:![desc](url)&#125;"</span><span style="color:#383A42;--shiki-dark:#ABB2BF">,</span></span><span class="line"><span style="color:#50A14F;--shiki-dark:#98C379">      "&#123;% endgallery %&#125;"</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">    ],</span></span><span class="line"><span style="color:#E45649;--shiki-dark:#E06C75">    "description"</span><span style="color:#383A42;--shiki-dark:#ABB2BF">: </span><span style="color:#50A14F;--shiki-dark:#98C379">"Solitude 主题的 gallery tag"</span><span style="color:#383A42;--shiki-dark:#ABB2BF">,</span></span><span class="line"><span style="color:#E45649;--shiki-dark:#E06C75">    "scope"</span><span style="color:#383A42;--shiki-dark:#ABB2BF">: </span><span style="color:#50A14F;--shiki-dark:#98C379">"markdown"</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">  &#125;,</span></span><span class="line"><span style="color:#E45649;--shiki-dark:#E06C75">  "note"</span><span style="color:#383A42;--shiki-dark:#ABB2BF">: &#123;</span></span><span class="line"><span style="color:#E45649;--shiki-dark:#E06C75">    "prefix"</span><span style="color:#383A42;--shiki-dark:#ABB2BF">: </span><span style="color:#50A14F;--shiki-dark:#98C379">"%note"</span><span style="color:#383A42;--shiki-dark:#ABB2BF">,</span></span><span class="line"><span style="color:#E45649;--shiki-dark:#E06C75">    "body"</span><span style="color:#383A42;--shiki-dark:#ABB2BF">: [</span></span><span class="line"><span style="color:#50A14F;--shiki-dark:#98C379">      "&#123;% note $&#123;1|default,primary,success,info,warning,danger|&#125; $&#123;2:'fas fa-info-circle' &#125;%&#125;"</span><span style="color:#383A42;--shiki-dark:#ABB2BF">,</span></span><span class="line"><span style="color:#50A14F;--shiki-dark:#98C379">      "$3"</span><span style="color:#383A42;--shiki-dark:#ABB2BF">,</span></span><span class="line"><span style="color:#50A14F;--shiki-dark:#98C379">      "&#123;% endnote %&#125;"</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">    ],</span></span><span class="line"><span style="color:#E45649;--shiki-dark:#E06C75">    "description"</span><span style="color:#383A42;--shiki-dark:#ABB2BF">: </span><span style="color:#50A14F;--shiki-dark:#98C379">"Solitude 主题的 note tag"</span><span style="color:#383A42;--shiki-dark:#ABB2BF">,</span></span><span class="line"><span style="color:#E45649;--shiki-dark:#E06C75">    "scope"</span><span style="color:#383A42;--shiki-dark:#ABB2BF">: </span><span style="color:#50A14F;--shiki-dark:#98C379">"markdown"</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">  &#125;,</span></span><span class="line"><span style="color:#E45649;--shiki-dark:#E06C75">  "button"</span><span style="color:#383A42;--shiki-dark:#ABB2BF">: &#123;</span></span><span class="line"><span style="color:#E45649;--shiki-dark:#E06C75">    "prefix"</span><span style="color:#383A42;--shiki-dark:#ABB2BF">: </span><span style="color:#50A14F;--shiki-dark:#98C379">"%button"</span><span style="color:#383A42;--shiki-dark:#ABB2BF">,</span></span><span class="line"><span style="color:#E45649;--shiki-dark:#E06C75">    "body"</span><span style="color:#383A42;--shiki-dark:#ABB2BF">: [</span></span><span class="line"><span style="color:#50A14F;--shiki-dark:#98C379">      "&#123;% button $&#123;1:图标&#125; $&#123;2:内容&#125; $&#123;3:链接&#125; %&#125;"</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">    ],</span></span><span class="line"><span style="color:#E45649;--shiki-dark:#E06C75">    "description"</span><span style="color:#383A42;--shiki-dark:#ABB2BF">: </span><span style="color:#50A14F;--shiki-dark:#98C379">"Solitude 主题的 button tag"</span><span style="color:#383A42;--shiki-dark:#ABB2BF">,</span></span><span class="line"><span style="color:#E45649;--shiki-dark:#E06C75">    "scope"</span><span style="color:#383A42;--shiki-dark:#ABB2BF">: </span><span style="color:#50A14F;--shiki-dark:#98C379">"markdown"</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">  &#125;,</span></span><span class="line"><span style="color:#E45649;--shiki-dark:#E06C75">  "timeline"</span><span style="color:#383A42;--shiki-dark:#ABB2BF">: &#123;</span></span><span class="line"><span style="color:#E45649;--shiki-dark:#E06C75">    "prefix"</span><span style="color:#383A42;--shiki-dark:#ABB2BF">: </span><span style="color:#50A14F;--shiki-dark:#98C379">"%timeline"</span><span style="color:#383A42;--shiki-dark:#ABB2BF">,</span></span><span class="line"><span style="color:#E45649;--shiki-dark:#E06C75">    "body"</span><span style="color:#383A42;--shiki-dark:#ABB2BF">: [</span></span><span class="line"><span style="color:#50A14F;--shiki-dark:#98C379">      "&#123;% timeline $&#123;1:标题&#125; %&#125;"</span><span style="color:#383A42;--shiki-dark:#ABB2BF">,</span></span><span class="line"><span style="color:#50A14F;--shiki-dark:#98C379">      "$2"</span><span style="color:#383A42;--shiki-dark:#ABB2BF">,</span></span><span class="line"><span style="color:#50A14F;--shiki-dark:#98C379">      "&#123;% endtimeline %&#125;"</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">    ],</span></span><span class="line"><span style="color:#E45649;--shiki-dark:#E06C75">    "description"</span><span style="color:#383A42;--shiki-dark:#ABB2BF">: </span><span style="color:#50A14F;--shiki-dark:#98C379">"Solitude 主题的 timeline tag"</span><span style="color:#383A42;--shiki-dark:#ABB2BF">,</span></span><span class="line"><span style="color:#E45649;--shiki-dark:#E06C75">    "scope"</span><span style="color:#383A42;--shiki-dark:#ABB2BF">: </span><span style="color:#50A14F;--shiki-dark:#98C379">"markdown"</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">  &#125;,</span></span><span class="line"><span style="color:#E45649;--shiki-dark:#E06C75">  "timenode"</span><span style="color:#383A42;--shiki-dark:#ABB2BF">: &#123;</span></span><span class="line"><span style="color:#E45649;--shiki-dark:#E06C75">    "prefix"</span><span style="color:#383A42;--shiki-dark:#ABB2BF">: </span><span style="color:#50A14F;--shiki-dark:#98C379">"%timenode"</span><span style="color:#383A42;--shiki-dark:#ABB2BF">,</span></span><span class="line"><span style="color:#E45649;--shiki-dark:#E06C75">    "body"</span><span style="color:#383A42;--shiki-dark:#ABB2BF">: [</span></span><span class="line"><span style="color:#50A14F;--shiki-dark:#98C379">      "&#123;% timenode $&#123;1:$CURRENT_YEAR-$CURRENT_MONTH-$CURRENT_DATE&#125; %&#125;"</span><span style="color:#383A42;--shiki-dark:#ABB2BF">,</span></span><span class="line"><span style="color:#50A14F;--shiki-dark:#98C379">      "$2"</span><span style="color:#383A42;--shiki-dark:#ABB2BF">,</span></span><span class="line"><span style="color:#50A14F;--shiki-dark:#98C379">      "&#123;% endtimenode %&#125;"</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">    ],</span></span><span class="line"><span style="color:#E45649;--shiki-dark:#E06C75">    "description"</span><span style="color:#383A42;--shiki-dark:#ABB2BF">: </span><span style="color:#50A14F;--shiki-dark:#98C379">"Solitude 主题的 timeline tag 的时间节点"</span><span style="color:#383A42;--shiki-dark:#ABB2BF">,</span></span><span class="line"><span style="color:#E45649;--shiki-dark:#E06C75">    "scope"</span><span style="color:#383A42;--shiki-dark:#ABB2BF">: </span><span style="color:#50A14F;--shiki-dark:#98C379">"markdown"</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">  &#125;,</span></span><span class="line"><span style="color:#E45649;--shiki-dark:#E06C75">  "link"</span><span style="color:#383A42;--shiki-dark:#ABB2BF">: &#123;</span></span><span class="line"><span style="color:#E45649;--shiki-dark:#E06C75">    "prefix"</span><span style="color:#383A42;--shiki-dark:#ABB2BF">: </span><span style="color:#50A14F;--shiki-dark:#98C379">"%link"</span><span style="color:#383A42;--shiki-dark:#ABB2BF">,</span></span><span class="line"><span style="color:#E45649;--shiki-dark:#E06C75">    "body"</span><span style="color:#383A42;--shiki-dark:#ABB2BF">: [</span></span><span class="line"><span style="color:#50A14F;--shiki-dark:#98C379">      "&#123;% link $&#123;1:标题&#125; $&#123;2:描述&#125; $&#123;3:链接&#125; %&#125;"</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">    ],</span></span><span class="line"><span style="color:#E45649;--shiki-dark:#E06C75">    "description"</span><span style="color:#383A42;--shiki-dark:#ABB2BF">: </span><span style="color:#50A14F;--shiki-dark:#98C379">"Solitude 主题的 link tag"</span><span style="color:#383A42;--shiki-dark:#ABB2BF">,</span></span><span class="line"><span style="color:#E45649;--shiki-dark:#E06C75">    "scope"</span><span style="color:#383A42;--shiki-dark:#ABB2BF">: </span><span style="color:#50A14F;--shiki-dark:#98C379">"markdown"</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">  &#125;,</span></span><span class="line"><span style="color:#E45649;--shiki-dark:#E06C75">  "spoiler"</span><span style="color:#383A42;--shiki-dark:#ABB2BF">: &#123;</span></span><span class="line"><span style="color:#E45649;--shiki-dark:#E06C75">    "prefix"</span><span style="color:#383A42;--shiki-dark:#ABB2BF">: </span><span style="color:#50A14F;--shiki-dark:#98C379">"%spoiler"</span><span style="color:#383A42;--shiki-dark:#ABB2BF">,</span></span><span class="line"><span style="color:#E45649;--shiki-dark:#E06C75">    "body"</span><span style="color:#383A42;--shiki-dark:#ABB2BF">: [</span></span><span class="line"><span style="color:#50A14F;--shiki-dark:#98C379">      "&#123;% spoiler $&#123;1|blur,block|&#125; $&#123;2:文本&#125; %&#125;"</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">    ],</span></span><span class="line"><span style="color:#E45649;--shiki-dark:#E06C75">    "description"</span><span style="color:#383A42;--shiki-dark:#ABB2BF">: </span><span style="color:#50A14F;--shiki-dark:#98C379">"Solitude 主题的 spoiler tag"</span><span style="color:#383A42;--shiki-dark:#ABB2BF">,</span></span><span class="line"><span style="color:#E45649;--shiki-dark:#E06C75">    "scope"</span><span style="color:#383A42;--shiki-dark:#ABB2BF">: </span><span style="color:#50A14F;--shiki-dark:#98C379">"markdown"</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">  &#125;,</span></span><span class="line"><span style="color:#E45649;--shiki-dark:#E06C75">  "fold"</span><span style="color:#383A42;--shiki-dark:#ABB2BF">: &#123;</span></span><span class="line"><span style="color:#E45649;--shiki-dark:#E06C75">    "prefix"</span><span style="color:#383A42;--shiki-dark:#ABB2BF">: </span><span style="color:#50A14F;--shiki-dark:#98C379">"%fold"</span><span style="color:#383A42;--shiki-dark:#ABB2BF">,</span></span><span class="line"><span style="color:#E45649;--shiki-dark:#E06C75">    "body"</span><span style="color:#383A42;--shiki-dark:#ABB2BF">: [</span></span><span class="line"><span style="color:#50A14F;--shiki-dark:#98C379">      "&#123;% fold $&#123;1:标题&#125; $&#123;2:默认开启 &#125;%&#125;"</span><span style="color:#383A42;--shiki-dark:#ABB2BF">,</span></span><span class="line"><span style="color:#50A14F;--shiki-dark:#98C379">      "$3"</span><span style="color:#383A42;--shiki-dark:#ABB2BF">,</span></span><span class="line"><span style="color:#50A14F;--shiki-dark:#98C379">      "&#123;% endfold %&#125;"</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">    ],</span></span><span class="line"><span style="color:#E45649;--shiki-dark:#E06C75">    "description"</span><span style="color:#383A42;--shiki-dark:#ABB2BF">: </span><span style="color:#50A14F;--shiki-dark:#98C379">"Solitude 主题的 fold tag"</span><span style="color:#383A42;--shiki-dark:#ABB2BF">,</span></span><span class="line"><span style="color:#E45649;--shiki-dark:#E06C75">    "scope"</span><span style="color:#383A42;--shiki-dark:#ABB2BF">: </span><span style="color:#50A14F;--shiki-dark:#98C379">"markdown"</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">  &#125;,</span></span><span class="line"><span style="color:#E45649;--shiki-dark:#E06C75">  "keyboard"</span><span style="color:#383A42;--shiki-dark:#ABB2BF">: &#123;</span></span><span class="line"><span style="color:#E45649;--shiki-dark:#E06C75">    "prefix"</span><span style="color:#383A42;--shiki-dark:#ABB2BF">: </span><span style="color:#50A14F;--shiki-dark:#98C379">"%keyboard"</span><span style="color:#383A42;--shiki-dark:#ABB2BF">,</span></span><span class="line"><span style="color:#E45649;--shiki-dark:#E06C75">    "body"</span><span style="color:#383A42;--shiki-dark:#ABB2BF">: [</span></span><span class="line"><span style="color:#50A14F;--shiki-dark:#98C379">      "&#123;% keyboard $&#123;1|Enter,Windows,Command,Option|&#125; %&#125;"</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">    ],</span></span><span class="line"><span style="color:#E45649;--shiki-dark:#E06C75">    "description"</span><span style="color:#383A42;--shiki-dark:#ABB2BF">: </span><span style="color:#50A14F;--shiki-dark:#98C379">"Solitude 主题的 keyboard tag"</span><span style="color:#383A42;--shiki-dark:#ABB2BF">,</span></span><span class="line"><span style="color:#E45649;--shiki-dark:#E06C75">    "scope"</span><span style="color:#383A42;--shiki-dark:#ABB2BF">: </span><span style="color:#50A14F;--shiki-dark:#98C379">"markdown"</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">  &#125;,</span></span><span class="line"><span style="color:#E45649;--shiki-dark:#E06C75">  "bubble"</span><span style="color:#383A42;--shiki-dark:#ABB2BF">: &#123;</span></span><span class="line"><span style="color:#E45649;--shiki-dark:#E06C75">    "prefix"</span><span style="color:#383A42;--shiki-dark:#ABB2BF">: </span><span style="color:#50A14F;--shiki-dark:#98C379">"%bubble"</span><span style="color:#383A42;--shiki-dark:#ABB2BF">,</span></span><span class="line"><span style="color:#E45649;--shiki-dark:#E06C75">    "body"</span><span style="color:#383A42;--shiki-dark:#ABB2BF">: [</span></span><span class="line"><span style="color:#50A14F;--shiki-dark:#98C379">      "&#123;% bubble $&#123;1:文字&#125; $&#123;2:注释&#125; $&#123;3|red,green,blue,yellow,pink,purple,orange|&#125; %&#125;"</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">    ],</span></span><span class="line"><span style="color:#E45649;--shiki-dark:#E06C75">    "description"</span><span style="color:#383A42;--shiki-dark:#ABB2BF">: </span><span style="color:#50A14F;--shiki-dark:#98C379">"Solitude 主题的 bubble tag"</span><span style="color:#383A42;--shiki-dark:#ABB2BF">,</span></span><span class="line"><span style="color:#E45649;--shiki-dark:#E06C75">    "scope"</span><span style="color:#383A42;--shiki-dark:#ABB2BF">: </span><span style="color:#50A14F;--shiki-dark:#98C379">"markdown"</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">  &#125;,</span></span><span class="line"><span style="color:#E45649;--shiki-dark:#E06C75">  "card"</span><span style="color:#383A42;--shiki-dark:#ABB2BF">: &#123;</span></span><span class="line"><span style="color:#E45649;--shiki-dark:#E06C75">    "prefix"</span><span style="color:#383A42;--shiki-dark:#ABB2BF">: </span><span style="color:#50A14F;--shiki-dark:#98C379">"%card"</span><span style="color:#383A42;--shiki-dark:#ABB2BF">,</span></span><span class="line"><span style="color:#E45649;--shiki-dark:#E06C75">    "body"</span><span style="color:#383A42;--shiki-dark:#ABB2BF">: [</span></span><span class="line"><span style="color:#50A14F;--shiki-dark:#98C379">      "&#123;% card $&#123;1:标题&#125;, $&#123;2:链接&#125;, $&#123;3:背景&#125;, $&#123;4:评分&#125;, $&#123;5:评价&#125;, $&#123;6:图标&#125;, $&#123;7:标签&#125;, $&#123;8:宽度&#125;, $&#123;9:高度&#125; %&#125;"</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">    ]</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">  &#125;</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">&#125;</span></span></code></pre></td></tr></tbody></table></figure></p>]]></content:encoded>
      
      
      <category domain="https://blog.hpcesia.com/categories/%E5%B0%8F%E5%B1%8B%E7%9B%B8%E5%85%B3/">小屋相关</category>
      
      
      <category domain="https://blog.hpcesia.com/tags/Hexo/">Hexo</category>
      
      <category domain="https://blog.hpcesia.com/tags/Solitude/">Solitude</category>
      
      
      <comments>https://blog.hpcesia.com/posts/e5415539/#disqus_thread</comments>
      
    </item>
    
    <item>
      <title>VSCode 功能与美化扩展插件推荐</title>
      <link>https://blog.hpcesia.com/posts/bb896ab4/</link>
      <guid>https://blog.hpcesia.com/posts/bb896ab4/</guid>
      <pubDate>Thu, 05 Sep 2024 07:22:43 GMT</pubDate>
      
      <description>推荐一些好用实用的 VSCode 扩展。</description>
      
      
      
      <content:encoded><![CDATA[<details><summary>更新日志</summary><div class="timeline"><span class="timeline-title"><div class="timenode"><div class="meta"><p>2024-10-23</p></div><div class="body"><p>新增插件推荐：</p><ul><li>Continue</li></ul><p>补充了部分扩展的效果图片</p></div></div><div class="timenode"><div class="meta"><p>2024-09-10</p></div><div class="body"><p>新增插件推荐：</p><ul><li>SpaceBox UI Enhancer</li></ul></div></div><div class="timenode"><div class="meta"><p>2024-09-06</p></div><div class="body"><p>新增插件推荐：</p><ul><li>Excalidraw</li><li>CodeGeeX</li><li>Code Spell Checker</li></ul></div></div><div class="timenode"><div class="meta"><p>2024-09-05</p></div><div class="body"><p>发布文章。</p></div></div></div></details><h2 id="功能">功能</h2><p>这节推荐的都是比较通用的功能性扩展，针对某个语言的扩展也不需要我来推荐，自有大把针对性的文章进行介绍。</p><h3 id="path-intellisense">Path Intellisense</h3><p><ahref="https://marketplace.visualstudio.com/items?itemName=christian-kohler.path-intellisense">PathIntellisense</a>扩展可以在输入文件路径的时候给出自动补全提示，方便输入。</p><h3 id="project-manager">Project Manager</h3><p><ahref="https://marketplace.visualstudio.com/items?itemName=alefragnani.project-manager">ProjectManager</a>扩展可以在侧边栏新增一个「项目管理器」选项，通过在项目管理器中保存项目，可以实现不同工作区之间的快速切换。</p><figure><img src= "" data-lazy-src="https://bu.dusays.com/2024/10/28/671f2b182d4e2.webp"alt="项目管理器界面" /><figcaption aria-hidden="true">项目管理器界面</figcaption></figure><h3 id="error-lens">Error Lens</h3><p><ahref="https://marketplace.visualstudio.com/items?itemName=usernamehw.errorlens">ErrorLens</a>扩展可以直接把错误、警告与提示等信息直接显示在代码行后面，而不是只能把光标移动到下划线处才能看到。</p><p><img src= "" data-lazy-src="https://bu.dusays.com/2024/10/28/671f2b18ef191.webp" /><img src= "" data-lazy-src="https://bu.dusays.com/2024/10/28/671f2b19c3004.webp" /></p><h3 id="todo-tree">Todo Tree</h3><p><ahref="https://marketplace.visualstudio.com/items?itemName=Gruntfuggly.todo-tree">TodoTree</a>扩展可以搜索整个工作区内的「TODO」、「FIXME」、「BUG」等字段，并在侧边栏的选项中查看。</p><figure><img src= "" data-lazy-src="https://bu.dusays.com/2024/10/28/671f2b1a87449.webp"alt="效果演示" /><figcaption aria-hidden="true">效果演示</figcaption></figure><h3 id="trailing-spaces">Trailing Spaces</h3><p><ahref="https://marketplace.visualstudio.com/items?itemName=shardulm94.trailing-spaces">TrailingSpaces</a> 扩展可以标红每行代码尾部多余的空格。</p><figure><img src= "" data-lazy-src="https://bu.dusays.com/2024/10/28/671f2a87a27fb.png"alt="效果演示" /><figcaption aria-hidden="true">效果演示</figcaption></figure><h3 id="excalidraw">Excalidraw</h3><p><ahref="https://marketplace.visualstudio.com/items?itemName=pomdtr.excalidraw-editor">Excalidraw</a>扩展可以在 VSCode 内绘制手绘风格的矢量图片，支持导出 <code>.png</code>和 <code>.svg</code> 格式。</p><figure><img src= "" data-lazy-src="https://bu.dusays.com/2024/10/28/671f2b1ec465f.webp"alt="Excalidraw 绘图" /><figcaption aria-hidden="true">Excalidraw 绘图</figcaption></figure><h3 id="codegeex">CodeGeeX</h3><p><ahref="https://marketplace.visualstudio.com/items?itemName=aminer.codegeex">CodeGeeX</a>扩展可以调用本地或网络的大模型，来加速代码编写。CodeGeeX 的大模型在GitHub上开源，因此可以通过本地运行大模型，放心地在涉及商业秘密的项目中使用。</p><h3 id="continue">Continue</h3><p><ahref="https://marketplace.visualstudio.com/items?itemName=Continue.continue">Continue</a>同样是使用大模型进行代码补全、提供编辑器内对话的扩展，不同的是 Continue支持更多的大模型选择，可配置的项目也更多。界面都是英文，但是看懂难度不大。</p><div class="gallery-container waterfall"><div class="gallery-item"><img class="nolazyload" src=https://bu.dusays.com/2024/10/28/671f2baf793b3.webp alt="效果演示1" /></div><div class="gallery-item"><img class="nolazyload" src=https://bu.dusays.com/2024/10/28/671f2bb04a780.webp alt="效果演示2" /></div></div><h3 id="code-spell-checker">Code Spell Checker</h3><p><ahref="https://marketplace.visualstudio.com/items?itemName=streetsidesoftware.code-spell-checker">CodeSpell Checker</a> 扩展可以检测代码中的英文拼写错误并给出修改建议。</p><h3 id="翻译英汉词典">翻译(英汉词典)</h3><p><ahref="https://marketplace.visualstudio.com/items?itemName=CodeInChinese.EnglishChineseDictionary">翻译(英汉词典)</a>扩展可以在选中单词时在右下角给出单词的翻译，并且可以翻译下划线、驼峰等格式的单词，方便理解代码。</p><details><summary>效果演示</summary><p><imgsrc="https://gcore.jsdelivr.net/gh/program-in-chinese/vscode_english_chinese_dictionary/截图/2018-12-25-vscode英汉词典批量1.gif" /><imgsrc="https://gcore.jsdelivr.net/gh/program-in-chinese/vscode_english_chinese_dictionary/截图/2018-12-03_vscode英汉词典_形容词_名词组合.png" /><imgsrc="https://gcore.jsdelivr.net/gh/program-in-chinese/vscode_english_chinese_dictionary/截图/2020-08-16_ACCOUNT_NUMBER.png" /><imgsrc="https://gcore.jsdelivr.net/gh/program-in-chinese/vscode_english_chinese_dictionary/截图/2021-09-14-悬停显示翻译结果.gif" /></p></details><h3 id="驼峰翻译助手">驼峰翻译助手</h3><p><ahref="https://marketplace.visualstudio.com/items?itemName=svenzhao.var-translation">驼峰翻译助手</a>扩展可以调用翻译API，将中文直接翻译为英文的不同格式的变量名，再也不用发愁怎么命名变量。</p><figure><imgsrc="https://gcore.jsdelivr.net/gh/SvenZhao/var-translation/images/vscode1.gif"alt="效果演示" /><figcaption aria-hidden="true">效果演示</figcaption></figure><h2 id="美化">美化</h2><h3 id="material-icon-theme">Material Icon Theme</h3><p><ahref="https://marketplace.visualstudio.com/items?itemName=PKief.material-icon-theme">MaterialIcon Theme</a>扩展是一个文件图标扩展，其为各种文件与文件夹都制作了特殊的图标，方便浏览。</p><figure><img src= "" data-lazy-src="https://bu.dusays.com/2024/10/28/671f2b1b63cdf.webp"alt="效果演示" /><figcaption aria-hidden="true">效果演示</figcaption></figure><h3 id="background-cover">background-cover</h3><p><ahref="https://marketplace.visualstudio.com/items?itemName=manasxx.background-cover">background-cover</a>扩展可以直接在其自带的命令中修改更换 VSCode 背景图片。 <imgsrc="https://bu.dusays.com/2024/10/28/671f2b17609b2.webp"alt="扩展配置命令" /></p><p>更换背景图后效果如下： <imgsrc="https://bu.dusays.com/2024/10/28/671f2b166c506.webp"alt="更换背景图效果" /></p><h3 id="spacebox-ui-enhancer">SpaceBox UI Enhancer</h3><p><ahref="https://marketplace.visualstudio.com/items?itemName=SpaceBox.spacebox-ui">SpaceBoxUI Enhancer</a> 扩展为 VSCode的菜单增加了大量对效率影响较小的过渡动画效果。</p><div class="note warning modern"><i class="solitude fas fa-info-circle"></i><p>评论区反应 MacOS 下该插件可能不可用，请注意。</p></div><figure><imgsrc="https://gcore.jsdelivr.net/gh/amnweb/SpaceBox-UI-Enhancer/images/demo.gif"alt="动画效果演示" /><figcaption aria-hidden="true">动画效果演示</figcaption></figure>]]></content:encoded>
      
      
      <category domain="https://blog.hpcesia.com/categories/%E7%BB%8F%E9%AA%8C%E8%AE%B0%E5%BD%95/">经验记录</category>
      
      
      <category domain="https://blog.hpcesia.com/tags/VSCode/">VSCode</category>
      
      
      <comments>https://blog.hpcesia.com/posts/bb896ab4/#disqus_thread</comments>
      
    </item>
    
    <item>
      <title>Hexo 博客搜索引擎收录与 SEO 优化个人经验</title>
      <link>https://blog.hpcesia.com/posts/1f77b1be/</link>
      <guid>https://blog.hpcesia.com/posts/1f77b1be/</guid>
      <pubDate>Tue, 03 Sep 2024 10:36:32 GMT</pubDate>
      
      <description>简单记录了将 Hexo 博客收录进搜索引擎与优化 SEO 的经验。</description>
      
      
      
      <content:encoded><![CDATA[<details><summary>更新日志</summary><div class="timeline"><span class="timeline-title">更新日志</span><div class="timenode"><div class="meta"><p>2024-09-04</p></div><div class="body"><p>新增「添加 nofollow 标签」相关内容。</p></div></div><div class="timenode"><div class="meta"><p>2024-09-03</p></div><div class="body"><p>发布文章。</p></div></div></div></details><p>以下以 Bing 为例进行说明。</p><h2 id="在-bing-webmaster-tools-中登录并添加网站">在 Bing WebmasterTools 中登录并添加网站</h2><p><a href="https://www.bing.com/webmasters" rel="external nofollow noreferrer">Bing Webmaster Tools</a>是必应的网站管理员工具，可以添加个人网站并带进行一些网站操作。打开 <ahref="https://www.bing.com/webmasters">Webmaster</a>后点击「开始」或右上角「登录」以登录到官网。可以选择三种登录账号：Google、Microsoft、Facebook。<img src= "" data-lazy-src="https://bu.dusays.com/2024/10/28/671f2a7ce1e72.png"alt="Bing Webmaster Tools 界面" />初次登录会提示添加网站，有两种添加方式：从 GSC导入、手动添加。如果网站已通过 GSC 收录，可以直接用GSC，我选择手动添加。然后在右侧的输入框中输入网站URL即可。 <imgsrc="https://bu.dusays.com/2024/10/28/671f2a7b0668e.png"alt="添加网站界面" /> 然后会要求验证网站。</p><h2 id="验证网站">验证网站</h2><p>验证网站有多种方式，我选择的是下载 <code>BingSiteAuth.xml</code>文件进行验证。</p><p>Webmaster 会要求你将这个文件放到网站的根目录，我们只需要将下载下来的<code>BingSiteAuth.xml</code> 文件放到我们博客的 <code>source</code>目录下，使用 <code>hexo d -g</code> 生成并推送到 GitHub上即可，可以访问网站根目录下找到 <code>BingSiteAuth.xml</code>。</p><p>然后在 Webmaster 页面中点击验证即可。</p><h2 id="添加网站地图">添加网站地图</h2><p>在博客根目录下打开终端，输入 <figure class="highlight shell"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre class="shiki shiki-themes one-light one-dark-pro"><span class="line"><span style="color:#4078F2;--shiki-dark:#61AFEF">npm</span><span style="color:#50A14F;--shiki-dark:#98C379"> install</span><span style="color:#50A14F;--shiki-dark:#98C379"> hexo-generator-sitemap</span><span style="color:#986801;--shiki-dark:#D19A66"> --save</span></span></code></pre></td></tr></tbody></table></figure> 并在<code>_config.yaml</code> 中新增如下配置项： <figure class="highlight yaml"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre class="shiki shiki-themes one-light one-dark-pro"><span class="line"><span style="color:#A0A1A7;font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic"># Sitemap Generator</span></span><span class="line"><span style="color:#E45649;--shiki-dark:#E06C75">sitemap</span><span style="color:#383A42;--shiki-dark:#ABB2BF">:</span></span><span class="line"><span style="color:#E45649;--shiki-dark:#E06C75">  path</span><span style="color:#383A42;--shiki-dark:#ABB2BF">: </span><span style="color:#50A14F;--shiki-dark:#98C379">sitemap.xml</span></span></code></pre></td></tr></tbody></table></figure> 接着使用<code>hexo d -g</code> 生成并推送到 GitHub 上。在 Webmaster左侧边栏选择「网站地图」选项 <imgsrc="https://bu.dusays.com/2024/10/28/671f2a7de0ec7.png" alt="侧边栏" />然后点击右上角的「提交网站地图」按钮，输入你的网站的<code>sitemap.xml</code> 位置。按照上述配置方法，我输入的是<code>https://blog.hpcesia.com/sitemap.xml</code>。等待一段时间后，网站地图就会审核成功，如图所示：<img src= "" data-lazy-src="https://bu.dusays.com/2024/10/28/671f2a7ed326e.png"alt="网站地图添加成功样例" /></p><p>等待 48 小时审核后，就可以在搜索引擎上搜索到自己的博客了。</p><figure><img src= "" data-lazy-src="https://bu.dusays.com/2024/10/28/671f2a7fd9d60.png"alt="审核通过样式" /><figcaption aria-hidden="true">审核通过样式</figcaption></figure><h2 id="编制-url">编制 URL</h2><p>审核通过后，可能还是搜不到自己的博客，这时候就需要打开左侧边栏的「URL检查」界面</p><figure><img src= "" data-lazy-src="https://bu.dusays.com/2024/10/28/671f2a80c4f60.png"alt="20240829002900" /><figcaption aria-hidden="true">20240829002900</figcaption></figure><p>输入自己的博客主页链接检查 URL，如果提示「已发现但未爬网，该 URL无法在必应上显示」，先确认自己博客没有问题，然后选择「请求编制索引」即可，等待一段时间应该就好了。如果一直不进行索引，可以去联系客服处理。</p><h2 id="github-action-自动提交-url">GitHub Action 自动提交 URL</h2><p>如果博客更新较勤，可以使用 <ahref="https://github.com/Lete114/Hexo-SEO-AutoPush"><code>Hexo-SEO-AutoPush</code></a>插件来配置 GitHub Action 以定期推送 URL到搜索引擎上，提高爬虫抓取几率。</p><h3 id="安装">安装</h3><figure class="highlight shell"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre class="shiki shiki-themes one-light one-dark-pro"><span class="line"><span style="color:#4078F2;--shiki-dark:#61AFEF">npm</span><span style="color:#50A14F;--shiki-dark:#98C379"> install</span><span style="color:#50A14F;--shiki-dark:#98C379"> hexo-seo-autopush</span><span style="color:#986801;--shiki-dark:#D19A66"> --save</span></span></code></pre></td></tr></tbody></table></figure><h3 id="配置文件">配置文件</h3><p>在博客根目录下的 <code>_config.yml</code>配置文件中添加以下内容：</p><figure class="highlight yaml"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre class="shiki shiki-themes one-light one-dark-pro"><span class="line"><span style="color:#A0A1A7;font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic"># enable: 开启/关闭 推送</span></span><span class="line"><span style="color:#A0A1A7;font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic"># cron: 执行时间周期</span></span><span class="line"><span style="color:#A0A1A7;font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic"># deployBranch: 部署分支</span></span><span class="line"><span style="color:#A0A1A7;font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic"># count: 每次提交最新的10篇文章，输入0或者不填写则默认为所有文章(建议是最新的10篇文章)</span></span><span class="line"><span style="color:#A0A1A7;font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic"># date: 更新时间(updated)|创建日期(created)</span></span><span class="line"><span style="color:#A0A1A7;font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic"># https://github.com/Lete114/hexo-seo-autopush.git</span></span><span class="line"><span style="color:#E45649;--shiki-dark:#E06C75">hexo_seo_autopush</span><span style="color:#383A42;--shiki-dark:#ABB2BF">:</span></span><span class="line"><span style="color:#E45649;--shiki-dark:#E06C75">  cron</span><span style="color:#383A42;--shiki-dark:#ABB2BF">: </span><span style="color:#50A14F;--shiki-dark:#98C379">0 4 * * *</span></span><span class="line"><span style="color:#E45649;--shiki-dark:#E06C75">  deployBranch</span><span style="color:#383A42;--shiki-dark:#ABB2BF">:</span></span><span class="line"><span style="color:#E45649;--shiki-dark:#E06C75">  baidu</span><span style="color:#383A42;--shiki-dark:#ABB2BF">:</span></span><span class="line"><span style="color:#E45649;--shiki-dark:#E06C75">    enable</span><span style="color:#383A42;--shiki-dark:#ABB2BF">: </span><span style="color:#986801;--shiki-dark:#D19A66">true</span></span><span class="line"><span style="color:#E45649;--shiki-dark:#E06C75">    date</span><span style="color:#383A42;--shiki-dark:#ABB2BF">: </span><span style="color:#50A14F;--shiki-dark:#98C379">created</span></span><span class="line"><span style="color:#E45649;--shiki-dark:#E06C75">    count</span><span style="color:#383A42;--shiki-dark:#ABB2BF">: </span><span style="color:#986801;--shiki-dark:#D19A66">10</span></span><span class="line"><span style="color:#E45649;--shiki-dark:#E06C75">  bing</span><span style="color:#383A42;--shiki-dark:#ABB2BF">:</span></span><span class="line"><span style="color:#E45649;--shiki-dark:#E06C75">    enable</span><span style="color:#383A42;--shiki-dark:#ABB2BF">: </span><span style="color:#986801;--shiki-dark:#D19A66">true</span></span><span class="line"><span style="color:#E45649;--shiki-dark:#E06C75">    date</span><span style="color:#383A42;--shiki-dark:#ABB2BF">: </span><span style="color:#50A14F;--shiki-dark:#98C379">created</span></span><span class="line"><span style="color:#E45649;--shiki-dark:#E06C75">    count</span><span style="color:#383A42;--shiki-dark:#ABB2BF">: </span><span style="color:#986801;--shiki-dark:#D19A66">10</span></span><span class="line"><span style="color:#E45649;--shiki-dark:#E06C75">  google</span><span style="color:#383A42;--shiki-dark:#ABB2BF">:</span></span><span class="line"><span style="color:#E45649;--shiki-dark:#E06C75">    enable</span><span style="color:#383A42;--shiki-dark:#ABB2BF">: </span><span style="color:#986801;--shiki-dark:#D19A66">true</span></span><span class="line"><span style="color:#E45649;--shiki-dark:#E06C75">    date</span><span style="color:#383A42;--shiki-dark:#ABB2BF">: </span><span style="color:#50A14F;--shiki-dark:#98C379">created</span></span><span class="line"><span style="color:#E45649;--shiki-dark:#E06C75">    count</span><span style="color:#383A42;--shiki-dark:#ABB2BF">: </span><span style="color:#986801;--shiki-dark:#D19A66">10</span></span></code></pre></td></tr></tbody></table></figure><p>由于生成的 actions是在<code>.github/workflows/HexoSeoAutoPush.yml</code>，<code>.</code>开头的文件或文件夹都会被视为隐藏文件，<code>hexo-deployer-git</code>不会部署隐藏文件，所以需要新增配置项 <code>ignore_hidden</code></p><figure class="highlight yaml"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre class="shiki shiki-themes one-light one-dark-pro"><span class="line"><span style="color:#E45649;--shiki-dark:#E06C75">deploy</span><span style="color:#383A42;--shiki-dark:#ABB2BF">:</span></span><span class="line"><span style="color:#E45649;--shiki-dark:#E06C75">  type</span><span style="color:#383A42;--shiki-dark:#ABB2BF">: </span><span style="color:#50A14F;--shiki-dark:#98C379">'git'</span></span><span class="line"><span style="color:#E45649;--shiki-dark:#E06C75">  repo</span><span style="color:#383A42;--shiki-dark:#ABB2BF">: </span><span style="color:#50A14F;--shiki-dark:#98C379">git@github.com:HPCesia/HPCesia.github.io.git</span></span><span class="line"><span style="color:#E45649;--shiki-dark:#E06C75">  branch</span><span style="color:#383A42;--shiki-dark:#ABB2BF">: </span><span style="color:#50A14F;--shiki-dark:#98C379">master</span></span><span class="line"><span style="color:#E45649;--shiki-dark:#E06C75">  ignore_hidden</span><span style="color:#383A42;--shiki-dark:#ABB2BF">: </span><span style="color:#986801;--shiki-dark:#D19A66">false</span><span style="color:#A0A1A7;font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic"> # 忽略隐藏文件及文件夹(目录)</span></span></code></pre></td></tr></tbody></table></figure><h3 id="apikey-设置">APIKEY 设置</h3><p>打开博客部署的 GitHub 仓库的「Setting」选项卡：</p><figure><img src= "" data-lazy-src="https://bu.dusays.com/2024/10/28/671f2b119ce03.webp"alt="选项卡" /><figcaption aria-hidden="true">选项卡</figcaption></figure><p>在侧边栏找到「Secrets andvariables」选项，点开其中的「Actions」选项：</p><p><img src= "" data-lazy-src="https://bu.dusays.com/2024/10/28/671f2b128b0b2.webp" /></p><p>然后点击「New repository secret」：</p><p><img src= "" data-lazy-src="https://bu.dusays.com/2024/10/28/671f2b1348547.webp" /></p><p>在「Name」和「Secret」处分别填写下方表格中的内容：</p><table><colgroup><col style="width: 13%" /><col style="width: 12%" /><col style="width: 73%" /></colgroup><thead><tr><th>Name</th><th>Value</th><th>说明</th></tr></thead><tbody><tr><td>baidu_token</td><td>UlxxxxxxxxxxxxxB9</td><td>【必填】Value 输入百度的 token</td></tr><tr><td>bing_apikey</td><td>47xxxxxxxxxxxxx91</td><td>【必填】Value 输入必应的 apikey</td></tr><tr><td>google_private_key</td><td>xxxxxxxxxxxxxxxxx</td><td>【必填】Value 输入谷歌的 private_key（注意：填写的时候需要使用<strong>双引号</strong>包起来，如:<code>"private_key"</code>）</td></tr><tr><td>google_client_email</td><td>xxxxxxxxxxxxxxxxx</td><td>【必填】Value 输入谷歌的 client_email</td></tr></tbody></table><p>后续跟随<ahref="https://github.com/Lete114/Hexo-SEO-AutoPush?tab=readme-ov-file#baidu-key">插件说明</a>操作即可。</p><h2 id="添加-nofollow-标签">添加 nofollow 标签</h2><p><ahref="https://github.com/hexojs/hexo-filter-nofollow"><code>hexo-filter-nofollow</code></a>插件可以自动化地为博客中的外链添加 <code>nofollow</code> 标签。</p><p>输入 <figure class="highlight shell"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre class="shiki shiki-themes one-light one-dark-pro"><span class="line"><span style="color:#4078F2;--shiki-dark:#61AFEF">npm</span><span style="color:#50A14F;--shiki-dark:#98C379"> i</span><span style="color:#50A14F;--shiki-dark:#98C379"> hexo-filter-nofollow</span><span style="color:#986801;--shiki-dark:#D19A66"> --save</span></span></code></pre></td></tr></tbody></table></figure> 安装 <code>hexo-filter-nofollow</code>插件，然后在 <code>_config.yml</code> 中添加配置项： <figure class="highlight yaml"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre class="shiki shiki-themes one-light one-dark-pro"><span class="line"><span style="color:#A0A1A7;font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic"># hexo-filter-nofollow</span></span><span class="line"><span style="color:#A0A1A7;font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic"># field - 插件的处理范围，默认值为 site，可选 post 或 site</span></span><span class="line"><span style="color:#A0A1A7;font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">#   post - 仅处理文章内容</span></span><span class="line"><span style="color:#A0A1A7;font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">#   site - 处理全站所有页面</span></span><span class="line"><span style="color:#A0A1A7;font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic"># exclude - 域名白名单，不同的子域名视为不同的域名（如 www）</span></span><span class="line"><span style="color:#A0A1A7;font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">#   exclude1.com不包括 www.exclude1.com 或 en.exclude1.com</span></span><span class="line"><span style="color:#E45649;--shiki-dark:#E06C75">nofollow</span><span style="color:#383A42;--shiki-dark:#ABB2BF">:</span></span><span class="line"><span style="color:#E45649;--shiki-dark:#E06C75">  enable</span><span style="color:#383A42;--shiki-dark:#ABB2BF">: </span><span style="color:#986801;--shiki-dark:#D19A66">true</span></span><span class="line"><span style="color:#E45649;--shiki-dark:#E06C75">  field</span><span style="color:#383A42;--shiki-dark:#ABB2BF">: </span><span style="color:#50A14F;--shiki-dark:#98C379">site</span></span><span class="line"><span style="color:#E45649;--shiki-dark:#E06C75">  exclude</span><span style="color:#383A42;--shiki-dark:#ABB2BF">:</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">    - </span><span style="color:#50A14F;--shiki-dark:#98C379">'exclude1.com'</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">    - </span><span style="color:#50A14F;--shiki-dark:#98C379">'exclude2.com'</span></span></code></pre></td></tr></tbody></table></figure> 使用<code>hexo cl &amp;&amp; hexo g &amp;&amp; hexo d</code> 三连即可。</p><h2 id="参考资料">参考资料</h2><ul><li><a href="https://www.cnblogs.com/RainbowC0/p/18107581" rel="external nofollow noreferrer">将 GitHubPages 个人博客录入搜索引擎（以 Bing 为例） - RainbowC0 - 博客园</a></li><li><a href="https://lengnian.github.io/posts/7cddb87d/" rel="external nofollow noreferrer">Hexo+GitHubPages搭建的个人博客加入到Bing搜索引擎 | WeiSJ&amp;HEXO</a></li><li><ahref="https://www.ehcoo.com/seo.html">【搜索优化】Hexo-next百度和谷歌搜索优化| Ehcoo</a></li><li><ahref="https://www.wrysmile.cn/Hexo-03.html">Hexo博客之高级优化教程 |Wrysmile 的博客</a></li></ul>]]></content:encoded>
      
      
      <category domain="https://blog.hpcesia.com/categories/%E5%B0%8F%E5%B1%8B%E7%9B%B8%E5%85%B3/">小屋相关</category>
      
      
      <category domain="https://blog.hpcesia.com/tags/Hexo/">Hexo</category>
      
      <category domain="https://blog.hpcesia.com/tags/%E5%8D%9A%E5%AE%A2/">博客</category>
      
      
      <comments>https://blog.hpcesia.com/posts/1f77b1be/#disqus_thread</comments>
      
    </item>
    
    <item>
      <title>Fluid 移植其他主题的标签语法</title>
      <link>https://blog.hpcesia.com/posts/a0486011/</link>
      <guid>https://blog.hpcesia.com/posts/a0486011/</guid>
      <pubDate>Tue, 27 Aug 2024 13:02:27 GMT</pubDate>
      
      <description>非侵入式移植其他 Hexo 主题的标签语法功能到 Fluid 主题上的经验记录</description>
      
      
      
      <content:encoded><![CDATA[<details><summary>更新日志</summary><div class="timeline"><span class="timeline-title"><div class="timenode"><div class="meta"><p>2024-09-07</p></div><div class="body"><p>更新主题更换提醒。</p></div></div><div class="timenode"><div class="meta"><p>2024-09-03</p></div><div class="body"><p>更新「时间轴」相关内容。</p><p>更新了「选项卡」相关内容，修复了 BUG 解决部分中mathjax相关的修复方式无法生效的问题。</p><p>规范了更新日志格式。</p></div></div><div class="timenode"><div class="meta"><p>2024-08-30</p></div><div class="body"><p>更新了「选项卡」相关内容，将避坑提醒转移到 BUG 解决部分。</p></div></div><div class="timenode"><div class="meta"><p>2024-08-28</p></div><div class="body"><p>更新了「选项卡」相关内容，新增避坑提醒。新增「链接卡片」相关内容。</p></div></div><div class="timenode"><div class="meta"><p>2024-08-27</p></div><div class="body"><p>发布文章。</p></div></div></div></details><div class="note danger no-icon modern"><p>本博客已更换至 <a href="https://solitude.js.org/zh/" rel="external nofollow noreferrer">Solitude</a>主题，Fluid 主题相关内容仅供参考。</p></div><h2 id="选项卡">选项卡</h2><p>Tabs 标签是从 <ahref="https://github.com/jerryc127/hexo-theme-butterfly/">Butterfly主题</a>上扒下来的，也参考了 <ahref="https://github.com/YunYouJun/hexo-tag-common">hexo-tag-common</a>插件。</p><p>先看效果演示。</p><h3 id="效果演示">效果演示</h3><div class="tabs" id="tab"><ul class="nav-tabs"><li class="tab active"><button type="button" data-href="#tab-0">标签语法</button></li><li class="tab"><button type="button" data-href="#tab-1">配置参数</button></li><li class="tab"><button type="button" data-href="#tab-2">样式预览</button></li><li class="tab"><button type="button" data-href="#tab-3">示例源码</button></li></ul><div class="tab-contents"><div class="tab-item-content active" id="tab-0"><figure class="highlight markdown"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre class="shiki shiki-themes one-light one-dark-pro"><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">&#123;% tabs name, </span><span style="color:#986801;--shiki-dark:#ABB2BF">[</span><span style="color:#4078F2;--shiki-dark:#61AFEF">index</span><span style="color:#986801;--shiki-dark:#ABB2BF">]</span><span style="color:#383A42;--shiki-dark:#ABB2BF"> %&#125;</span></span><span class="line"><span style="color:#A0A1A7;font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">&#x3C;!-- tab [Tab caption] [@icon] --></span></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">Any content (support inline tags too).</span></span><span class="line"><span style="color:#A0A1A7;font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">&#x3C;!-- endtab --></span></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">&#123;% endtabs %&#125;</span></span></code></pre></td></tr></tbody></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="solitude fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="tab-1"><ul><li><code>name</code> :<ul><li>选项卡块标签的名称，不带逗号。</li></ul></li><li><code>[index]</code>:<ul><li>活动选项卡的索引号。</li><li>如果未指定，将选择第一个标签。</li><li>如果 <code>index</code> 为<code>-1</code>，则不会选择任何选项卡。</li><li>可选参数。</li></ul></li><li><code>[Tab caption]</code>:<ul><li>当前选项卡的标题。</li><li>如果未指定标题，则带有制表符索引后缀的唯一名称将用作制表符的标题。</li><li>如果未指定标题，但指定了图标，则标题将为空。</li><li>可选参数。</li></ul></li><li><code>[@icon]</code>:</li><li>Iconfont 图标名称（全名，如：<code>iconfont icon-font</code>）</li><li>可以指定带空格或不带空格；</li><li>例如 <code>Tab caption @icon</code> 和<code>Tab caption@icon</code>。</li><li>可选参数。</li></ul><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="solitude fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="tab-2"><div class="note info no-icon modern"><p>Demo 1 - 预设选择第一个（默认）</p></div><div id="test1" class="tabs"><ul class="nav-tabs"><li class="tab active"><button type="button" data-href="#test1-0">test1 0</button></li><li class="tab"><button type="button" data-href="#test1-1">test1 1</button></li><li class="tab"><button type="button" data-href="#test1-2">test1 2</button></li></ul><div class="tab-contents"><div id="test1-0" class="tab-item-content active"><p><strong>This is Tab 1.</strong></p><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="solitude fas fa-arrow-up"></i></button></div><div id="test1-1" class="tab-item-content"><p><strong>This is Tab 2.</strong></p><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="solitude fas fa-arrow-up"></i></button></div><div id="test1-2" class="tab-item-content"><p><strong>This is Tab 3.</strong></p><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="solitude fas fa-arrow-up"></i></button></div></div></div><div class="note info no-icon modern"><p>Demo 2 - 预设选择 tabs</p></div><div id="test2," class="tabs"><ul class="nav-tabs"><li class="tab"><button type="button" data-href="#test2,-0">test2, 0</button></li><li class="tab"><button type="button" data-href="#test2,-1">test2, 1</button></li><li class="tab"><button type="button" data-href="#test2,-2">test2, 2</button></li></ul><div class="tab-contents"><div id="test2,-0" class="tab-item-content"><p><strong>This is Tab 1.</strong></p><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="solitude fas fa-arrow-up"></i></button></div><div id="test2,-1" class="tab-item-content"><p><strong>This is Tab 2.</strong></p><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="solitude fas fa-arrow-up"></i></button></div><div id="test2,-2" class="tab-item-content"><p><strong>This is Tab 3.</strong></p><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="solitude fas fa-arrow-up"></i></button></div></div></div><div class="note info no-icon modern"><p>Demo 3 - 没有预设值</p></div><div id="test3," class="tabs"><ul class="nav-tabs"><li class="tab"><button type="button" data-href="#test3,-0">test3, 0</button></li><li class="tab"><button type="button" data-href="#test3,-1">test3, 1</button></li><li class="tab"><button type="button" data-href="#test3,-2">test3, 2</button></li></ul><div class="tab-contents"><div id="test3,-0" class="tab-item-content"><p><strong>This is Tab 1.</strong></p><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="solitude fas fa-arrow-up"></i></button></div><div id="test3,-1" class="tab-item-content"><p><strong>This is Tab 2.</strong></p><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="solitude fas fa-arrow-up"></i></button></div><div id="test3,-2" class="tab-item-content"><p><strong>This is Tab 3.</strong></p><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="solitude fas fa-arrow-up"></i></button></div></div></div><div class="note info no-icon modern"><p>Demo 4 - 自定义Tab名 + 只有 icon + icon 和 Tab 名</p></div><div id="test4" class="tabs"><ul class="nav-tabs"><li class="tab active"><button type="button" data-href="#test4-0">第一个Tab</button></li><li class="tab"><button type="button" data-href="#test4-1"><i class="iconfont icon-github-fill tab solitude"></i>test4 1</button></li><li class="tab"><button type="button" data-href="#test4-2"><i class="iconfont icon-random tab solitude"></i>随机</button></li></ul><div class="tab-contents"><div id="test4-0" class="tab-item-content active"><p><strong>tab名字为第一个Tab</strong></p><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="solitude fas fa-arrow-up"></i></button></div><div id="test4-1" class="tab-item-content"><p><strong>只有图标 没有Tab名字</strong></p><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="solitude fas fa-arrow-up"></i></button></div><div id="test4-2" class="tab-item-content"><p><strong>名字+icon</strong></p><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="solitude fas fa-arrow-up"></i></button></div></div></div><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="solitude fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="tab-3"><div class="note info no-icon modern"><p>Demo 1 - 预设选择第一个（默认）</p></div><figure class="highlight markdown"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre class="shiki shiki-themes one-light one-dark-pro"><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">&#123;% tabs test1 %&#125;</span></span><span class="line"><span style="color:#A0A1A7;font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">&#x3C;!-- tab --></span></span><span class="line"><span style="color:#986801;font-weight:bold;--shiki-dark:#D19A66;--shiki-dark-font-weight:inherit">**This is Tab 1.**</span></span><span class="line"><span style="color:#A0A1A7;font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">&#x3C;!-- endtab --></span></span><span class="line"></span><span class="line"><span style="color:#A0A1A7;font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">&#x3C;!-- tab --></span></span><span class="line"><span style="color:#986801;font-weight:bold;--shiki-dark:#D19A66;--shiki-dark-font-weight:inherit">**This is Tab 2.**</span></span><span class="line"><span style="color:#A0A1A7;font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">&#x3C;!-- endtab --></span></span><span class="line"></span><span class="line"><span style="color:#A0A1A7;font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">&#x3C;!-- tab --></span></span><span class="line"><span style="color:#986801;font-weight:bold;--shiki-dark:#D19A66;--shiki-dark-font-weight:inherit">**This is Tab 3.**</span></span><span class="line"><span style="color:#A0A1A7;font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">&#x3C;!-- endtab --></span></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">&#123;% endtabs %&#125;</span></span></code></pre></td></tr></tbody></table></figure><div class="note info no-icon modern"><p>Demo 2 - 预设选择 tabs</p></div><figure class="highlight markdown"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre class="shiki shiki-themes one-light one-dark-pro"><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">&#123;% tabs test2, 3 %&#125;</span></span><span class="line"><span style="color:#A0A1A7;font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">&#x3C;!-- tab --></span></span><span class="line"><span style="color:#986801;font-weight:bold;--shiki-dark:#D19A66;--shiki-dark-font-weight:inherit">**This is Tab 1.**</span></span><span class="line"><span style="color:#A0A1A7;font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">&#x3C;!-- endtab --></span></span><span class="line"></span><span class="line"><span style="color:#A0A1A7;font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">&#x3C;!-- tab --></span></span><span class="line"><span style="color:#986801;font-weight:bold;--shiki-dark:#D19A66;--shiki-dark-font-weight:inherit">**This is Tab 2.**</span></span><span class="line"><span style="color:#A0A1A7;font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">&#x3C;!-- endtab --></span></span><span class="line"></span><span class="line"><span style="color:#A0A1A7;font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">&#x3C;!-- tab --></span></span><span class="line"><span style="color:#986801;font-weight:bold;--shiki-dark:#D19A66;--shiki-dark-font-weight:inherit">**This is Tab 3.**</span></span><span class="line"><span style="color:#A0A1A7;font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">&#x3C;!-- endtab --></span></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">&#123;% endtabs %&#125;</span></span></code></pre></td></tr></tbody></table></figure><div class="note info no-icon modern"><p>Demo 3 - 没有预设值</p></div><figure class="highlight markdown"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre class="shiki shiki-themes one-light one-dark-pro"><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">&#123;% tabs test3, -1 %&#125;</span></span><span class="line"><span style="color:#A0A1A7;font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">&#x3C;!-- tab --></span></span><span class="line"><span style="color:#986801;font-weight:bold;--shiki-dark:#D19A66;--shiki-dark-font-weight:inherit">**This is Tab 1.**</span></span><span class="line"><span style="color:#A0A1A7;font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">&#x3C;!-- endtab --></span></span><span class="line"></span><span class="line"><span style="color:#A0A1A7;font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">&#x3C;!-- tab --></span></span><span class="line"><span style="color:#986801;font-weight:bold;--shiki-dark:#D19A66;--shiki-dark-font-weight:inherit">**This is Tab 2.**</span></span><span class="line"><span style="color:#A0A1A7;font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">&#x3C;!-- endtab --></span></span><span class="line"></span><span class="line"><span style="color:#A0A1A7;font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">&#x3C;!-- tab --></span></span><span class="line"><span style="color:#986801;font-weight:bold;--shiki-dark:#D19A66;--shiki-dark-font-weight:inherit">**This is Tab 3.**</span></span><span class="line"><span style="color:#A0A1A7;font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">&#x3C;!-- endtab --></span></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">&#123;% endtabs %&#125;</span></span></code></pre></td></tr></tbody></table></figure><div class="note info no-icon modern"><p>Demo 4 - 自定义Tab名 + 只有 icon + icon 和 Tab 名</p></div><figure class="highlight markdown"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre class="shiki shiki-themes one-light one-dark-pro"><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">&#123;% tabs test4 %&#125;</span></span><span class="line"><span style="color:#A0A1A7;font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">&#x3C;!-- tab 第一个Tab --></span></span><span class="line"><span style="color:#986801;font-weight:bold;--shiki-dark:#D19A66;--shiki-dark-font-weight:inherit">**tab名字为第一个Tab**</span></span><span class="line"><span style="color:#A0A1A7;font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">&#x3C;!-- endtab --></span></span><span class="line"></span><span class="line"><span style="color:#A0A1A7;font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">&#x3C;!-- tab @iconfont icon-github-fill --></span></span><span class="line"><span style="color:#986801;font-weight:bold;--shiki-dark:#D19A66;--shiki-dark-font-weight:inherit">**只有图标 没有Tab名字**</span></span><span class="line"><span style="color:#A0A1A7;font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">&#x3C;!-- endtab --></span></span><span class="line"></span><span class="line"><span style="color:#A0A1A7;font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">&#x3C;!-- tab 随机@iconfont icon-random --></span></span><span class="line"><span style="color:#986801;font-weight:bold;--shiki-dark:#D19A66;--shiki-dark-font-weight:inherit">**名字+icon**</span></span><span class="line"><span style="color:#A0A1A7;font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">&#x3C;!-- endtab --></span></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">&#123;% endtabs %&#125;</span></span></code></pre></td></tr></tbody></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="solitude fas fa-arrow-up"></i></button></div></div></div><p>是的，与 Next 主题和 Butterfly 主题的 Tabs语法一致，因为就是移植过来的。</p><p>接下来看配置方法。</p><h3 id="配置">配置</h3><h4 id="增加-tags">增加 tags</h4><p>在 <code>scripts\tags</code> 目录下新建 <code>tab.js</code>文件，添加如下内容： <figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br></pre></td><td class="code"><pre class="shiki shiki-themes one-light one-dark-pro"><span class="line"><span style="color:#50A14F;--shiki-dark:#98C379">'use strict'</span></span><span class="line"></span><span class="line"><span style="color:#A626A4;--shiki-dark:#C678DD">function</span><span style="color:#4078F2;--shiki-dark:#61AFEF"> getUuid</span><span style="color:#383A42;--shiki-dark:#ABB2BF">() &#123;</span></span><span class="line"><span style="color:#A626A4;--shiki-dark:#C678DD">    return</span><span style="color:#383A42;--shiki-dark:#E5C07B"> Math</span><span style="color:#383A42;--shiki-dark:#ABB2BF">.</span><span style="color:#4078F2;--shiki-dark:#61AFEF">random</span><span style="color:#383A42;--shiki-dark:#ABB2BF">().</span><span style="color:#4078F2;--shiki-dark:#61AFEF">toString</span><span style="color:#383A42;--shiki-dark:#ABB2BF">(</span><span style="color:#986801;--shiki-dark:#D19A66">36</span><span style="color:#383A42;--shiki-dark:#ABB2BF">).</span><span style="color:#4078F2;--shiki-dark:#61AFEF">substring</span><span style="color:#383A42;--shiki-dark:#ABB2BF">(</span><span style="color:#986801;--shiki-dark:#D19A66">2</span><span style="color:#383A42;--shiki-dark:#ABB2BF">, </span><span style="color:#986801;--shiki-dark:#D19A66">8</span><span style="color:#383A42;--shiki-dark:#ABB2BF">) </span><span style="color:#0184BC;--shiki-dark:#56B6C2">+</span><span style="color:#383A42;--shiki-dark:#E5C07B"> Date</span><span style="color:#383A42;--shiki-dark:#ABB2BF">.</span><span style="color:#4078F2;--shiki-dark:#61AFEF">now</span><span style="color:#383A42;--shiki-dark:#ABB2BF">().</span><span style="color:#4078F2;--shiki-dark:#61AFEF">toString</span><span style="color:#383A42;--shiki-dark:#ABB2BF">(</span><span style="color:#986801;--shiki-dark:#D19A66">36</span><span style="color:#383A42;--shiki-dark:#ABB2BF">);</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">&#125;</span></span><span class="line"></span><span class="line"><span style="color:#A626A4;--shiki-dark:#C678DD">const</span><span style="color:#4078F2;--shiki-dark:#61AFEF"> postTabs</span><span style="color:#0184BC;--shiki-dark:#56B6C2"> =</span><span style="color:#383A42;--shiki-dark:#ABB2BF"> (</span><span style="color:#383A42;font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic">args</span><span style="color:#383A42;--shiki-dark:#ABB2BF">, </span><span style="color:#383A42;font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic">content</span><span style="color:#383A42;--shiki-dark:#ABB2BF">) </span><span style="color:#A626A4;--shiki-dark:#C678DD">=></span><span style="color:#383A42;--shiki-dark:#ABB2BF"> &#123;</span></span><span class="line"><span style="color:#A626A4;--shiki-dark:#C678DD">    const</span><span style="color:#986801;--shiki-dark:#E5C07B"> tabBlock</span><span style="color:#0184BC;--shiki-dark:#56B6C2"> =</span><span style="color:#0184BC;--shiki-dark:#E06C75"> /&#x3C;!--</span><span style="color:#986801;--shiki-dark:#E06C75">\s</span><span style="color:#0184BC;--shiki-dark:#D19A66">*</span><span style="color:#0184BC;--shiki-dark:#E06C75">tab (</span><span style="color:#986801;--shiki-dark:#E06C75">.</span><span style="color:#0184BC;--shiki-dark:#D19A66">*?</span><span style="color:#0184BC;--shiki-dark:#E06C75">)</span><span style="color:#986801;--shiki-dark:#E06C75">\s</span><span style="color:#0184BC;--shiki-dark:#D19A66">*</span><span style="color:#0184BC;--shiki-dark:#E06C75">--></span><span style="color:#986801;--shiki-dark:#E06C75">\n</span><span style="color:#0184BC;--shiki-dark:#E06C75">(</span><span style="color:#986801;--shiki-dark:#D19A66">[</span><span style="color:#986801;--shiki-dark:#E06C75">\w\W\s\S</span><span style="color:#986801;--shiki-dark:#D19A66">]</span><span style="color:#0184BC;--shiki-dark:#D19A66">*?</span><span style="color:#0184BC;--shiki-dark:#E06C75">)&#x3C;!--</span><span style="color:#986801;--shiki-dark:#E06C75">\s</span><span style="color:#0184BC;--shiki-dark:#D19A66">*</span><span style="color:#0184BC;--shiki-dark:#E06C75">endtab</span><span style="color:#986801;--shiki-dark:#E06C75">\s</span><span style="color:#0184BC;--shiki-dark:#D19A66">*</span><span style="color:#0184BC;--shiki-dark:#E06C75">-->/</span><span style="color:#A626A4;--shiki-dark:#C678DD">g</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#E06C75">    args</span><span style="color:#0184BC;--shiki-dark:#56B6C2"> =</span><span style="color:#383A42;--shiki-dark:#E5C07B"> args</span><span style="color:#383A42;--shiki-dark:#ABB2BF">.</span><span style="color:#4078F2;--shiki-dark:#61AFEF">join</span><span style="color:#383A42;--shiki-dark:#ABB2BF">(</span><span style="color:#50A14F;--shiki-dark:#98C379">' '</span><span style="color:#383A42;--shiki-dark:#ABB2BF">).</span><span style="color:#4078F2;--shiki-dark:#61AFEF">split</span><span style="color:#383A42;--shiki-dark:#ABB2BF">(</span><span style="color:#50A14F;--shiki-dark:#98C379">','</span><span style="color:#383A42;--shiki-dark:#ABB2BF">)</span></span><span class="line"><span style="color:#A626A4;--shiki-dark:#C678DD">    const</span><span style="color:#986801;--shiki-dark:#E5C07B"> tabName</span><span style="color:#0184BC;--shiki-dark:#56B6C2"> =</span><span style="color:#383A42;--shiki-dark:#E06C75"> args</span><span style="color:#383A42;--shiki-dark:#ABB2BF">[</span><span style="color:#986801;--shiki-dark:#D19A66">0</span><span style="color:#383A42;--shiki-dark:#ABB2BF">] </span><span style="color:#0184BC;--shiki-dark:#56B6C2">||</span><span style="color:#50A14F;--shiki-dark:#98C379"> 'tab'</span></span><span class="line"><span style="color:#A626A4;--shiki-dark:#C678DD">    const</span><span style="color:#986801;--shiki-dark:#E5C07B"> tabActive</span><span style="color:#0184BC;--shiki-dark:#56B6C2"> =</span><span style="color:#4078F2;--shiki-dark:#61AFEF"> Number</span><span style="color:#383A42;--shiki-dark:#ABB2BF">(</span><span style="color:#383A42;--shiki-dark:#E06C75">args</span><span style="color:#383A42;--shiki-dark:#ABB2BF">[</span><span style="color:#986801;--shiki-dark:#D19A66">1</span><span style="color:#383A42;--shiki-dark:#ABB2BF">]) </span><span style="color:#0184BC;--shiki-dark:#56B6C2">||</span><span style="color:#986801;--shiki-dark:#D19A66"> 0</span></span><span class="line"><span style="color:#A626A4;--shiki-dark:#C678DD">    const</span><span style="color:#986801;--shiki-dark:#E5C07B"> matches</span><span style="color:#0184BC;--shiki-dark:#56B6C2"> =</span><span style="color:#383A42;--shiki-dark:#ABB2BF"> []</span></span><span class="line"><span style="color:#A626A4;--shiki-dark:#C678DD">    let</span><span style="color:#383A42;--shiki-dark:#E06C75"> match</span></span><span class="line"><span style="color:#A626A4;--shiki-dark:#C678DD">    let</span><span style="color:#383A42;--shiki-dark:#E06C75"> tabId</span><span style="color:#0184BC;--shiki-dark:#56B6C2"> =</span><span style="color:#986801;--shiki-dark:#D19A66"> 0</span></span><span class="line"><span style="color:#A626A4;--shiki-dark:#C678DD">    let</span><span style="color:#383A42;--shiki-dark:#E06C75"> tabNav</span><span style="color:#0184BC;--shiki-dark:#56B6C2"> =</span><span style="color:#50A14F;--shiki-dark:#98C379"> ''</span></span><span class="line"><span style="color:#A626A4;--shiki-dark:#C678DD">    let</span><span style="color:#383A42;--shiki-dark:#E06C75"> tabContent</span><span style="color:#0184BC;--shiki-dark:#56B6C2"> =</span><span style="color:#50A14F;--shiki-dark:#98C379"> ''</span></span><span class="line"><span style="color:#A626A4;--shiki-dark:#C678DD">    let</span><span style="color:#383A42;--shiki-dark:#E06C75"> noDefault</span><span style="color:#0184BC;--shiki-dark:#56B6C2"> =</span><span style="color:#986801;--shiki-dark:#D19A66"> true</span></span><span class="line"></span><span class="line"><span style="color:#A626A4;--shiki-dark:#C678DD">    while</span><span style="color:#383A42;--shiki-dark:#ABB2BF"> ((</span><span style="color:#383A42;--shiki-dark:#E06C75">match</span><span style="color:#0184BC;--shiki-dark:#56B6C2"> =</span><span style="color:#383A42;--shiki-dark:#E5C07B"> tabBlock</span><span style="color:#383A42;--shiki-dark:#ABB2BF">.</span><span style="color:#4078F2;--shiki-dark:#61AFEF">exec</span><span style="color:#383A42;--shiki-dark:#ABB2BF">(</span><span style="color:#383A42;--shiki-dark:#E06C75">content</span><span style="color:#383A42;--shiki-dark:#ABB2BF">)) </span><span style="color:#0184BC;--shiki-dark:#56B6C2">!==</span><span style="color:#986801;--shiki-dark:#D19A66"> null</span><span style="color:#383A42;--shiki-dark:#ABB2BF">) &#123;</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#E5C07B">        matches</span><span style="color:#383A42;--shiki-dark:#ABB2BF">.</span><span style="color:#4078F2;--shiki-dark:#61AFEF">push</span><span style="color:#383A42;--shiki-dark:#ABB2BF">(</span><span style="color:#383A42;--shiki-dark:#E06C75">match</span><span style="color:#383A42;--shiki-dark:#ABB2BF">[</span><span style="color:#986801;--shiki-dark:#D19A66">1</span><span style="color:#383A42;--shiki-dark:#ABB2BF">], </span><span style="color:#383A42;--shiki-dark:#E06C75">match</span><span style="color:#383A42;--shiki-dark:#ABB2BF">[</span><span style="color:#986801;--shiki-dark:#D19A66">2</span><span style="color:#383A42;--shiki-dark:#ABB2BF">])</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">    &#125;</span></span><span class="line"></span><span class="line"><span style="color:#A626A4;--shiki-dark:#C678DD">    const</span><span style="color:#986801;--shiki-dark:#E5C07B"> tabsId</span><span style="color:#0184BC;--shiki-dark:#56B6C2"> =</span><span style="color:#50A14F;--shiki-dark:#98C379"> "t"</span><span style="color:#0184BC;--shiki-dark:#56B6C2"> +</span><span style="color:#4078F2;--shiki-dark:#61AFEF"> getUuid</span><span style="color:#383A42;--shiki-dark:#ABB2BF">();</span></span><span class="line"></span><span class="line"><span style="color:#A626A4;--shiki-dark:#C678DD">    for</span><span style="color:#383A42;--shiki-dark:#ABB2BF"> (</span><span style="color:#A626A4;--shiki-dark:#C678DD">let</span><span style="color:#383A42;--shiki-dark:#E06C75"> i</span><span style="color:#0184BC;--shiki-dark:#56B6C2"> =</span><span style="color:#986801;--shiki-dark:#D19A66"> 0</span><span style="color:#383A42;--shiki-dark:#ABB2BF">; </span><span style="color:#383A42;--shiki-dark:#E06C75">i</span><span style="color:#0184BC;--shiki-dark:#56B6C2"> &#x3C;</span><span style="color:#383A42;--shiki-dark:#E5C07B"> matches</span><span style="color:#383A42;--shiki-dark:#ABB2BF">.</span><span style="color:#E45649;--shiki-dark:#E06C75">length</span><span style="color:#383A42;--shiki-dark:#ABB2BF">; </span><span style="color:#383A42;--shiki-dark:#E06C75">i</span><span style="color:#0184BC;--shiki-dark:#56B6C2"> +=</span><span style="color:#986801;--shiki-dark:#D19A66"> 2</span><span style="color:#383A42;--shiki-dark:#ABB2BF">) &#123;</span></span><span class="line"><span style="color:#A626A4;--shiki-dark:#C678DD">        const</span><span style="color:#986801;--shiki-dark:#E5C07B"> tabParameters</span><span style="color:#0184BC;--shiki-dark:#56B6C2"> =</span><span style="color:#383A42;--shiki-dark:#E06C75"> matches</span><span style="color:#383A42;--shiki-dark:#ABB2BF">[</span><span style="color:#383A42;--shiki-dark:#E06C75">i</span><span style="color:#383A42;--shiki-dark:#ABB2BF">].</span><span style="color:#4078F2;--shiki-dark:#61AFEF">split</span><span style="color:#383A42;--shiki-dark:#ABB2BF">(</span><span style="color:#50A14F;--shiki-dark:#98C379">'@'</span><span style="color:#383A42;--shiki-dark:#ABB2BF">)</span></span><span class="line"><span style="color:#A626A4;--shiki-dark:#C678DD">        let</span><span style="color:#383A42;--shiki-dark:#E06C75"> postContent</span><span style="color:#0184BC;--shiki-dark:#56B6C2"> =</span><span style="color:#383A42;--shiki-dark:#E06C75"> matches</span><span style="color:#383A42;--shiki-dark:#ABB2BF">[</span><span style="color:#383A42;--shiki-dark:#E06C75">i</span><span style="color:#0184BC;--shiki-dark:#56B6C2"> +</span><span style="color:#986801;--shiki-dark:#D19A66"> 1</span><span style="color:#383A42;--shiki-dark:#ABB2BF">]</span></span><span class="line"><span style="color:#A626A4;--shiki-dark:#C678DD">        let</span><span style="color:#383A42;--shiki-dark:#E06C75"> tabCaption</span><span style="color:#0184BC;--shiki-dark:#56B6C2"> =</span><span style="color:#383A42;--shiki-dark:#E06C75"> tabParameters</span><span style="color:#383A42;--shiki-dark:#ABB2BF">[</span><span style="color:#986801;--shiki-dark:#D19A66">0</span><span style="color:#383A42;--shiki-dark:#ABB2BF">] </span><span style="color:#0184BC;--shiki-dark:#56B6C2">||</span><span style="color:#50A14F;--shiki-dark:#98C379"> ''</span></span><span class="line"><span style="color:#A626A4;--shiki-dark:#C678DD">        let</span><span style="color:#383A42;--shiki-dark:#E06C75"> tabIcon</span><span style="color:#0184BC;--shiki-dark:#56B6C2"> =</span><span style="color:#383A42;--shiki-dark:#E06C75"> tabParameters</span><span style="color:#383A42;--shiki-dark:#ABB2BF">[</span><span style="color:#986801;--shiki-dark:#D19A66">1</span><span style="color:#383A42;--shiki-dark:#ABB2BF">] </span><span style="color:#0184BC;--shiki-dark:#56B6C2">||</span><span style="color:#50A14F;--shiki-dark:#98C379"> ''</span></span><span class="line"></span><span class="line"><span style="color:#383A42;--shiki-dark:#E06C75">        postContent</span><span style="color:#0184BC;--shiki-dark:#56B6C2"> =</span><span style="color:#383A42;--shiki-dark:#E5C07B"> hexo</span><span style="color:#383A42;--shiki-dark:#ABB2BF">.</span><span style="color:#E45649;--shiki-dark:#E5C07B">render</span><span style="color:#383A42;--shiki-dark:#ABB2BF">.</span><span style="color:#4078F2;--shiki-dark:#61AFEF">renderSync</span><span style="color:#383A42;--shiki-dark:#ABB2BF">(&#123; </span><span style="color:#E45649;--shiki-dark:#E06C75">text</span><span style="color:#0184BC;--shiki-dark:#ABB2BF">:</span><span style="color:#383A42;--shiki-dark:#E06C75"> postContent</span><span style="color:#383A42;--shiki-dark:#ABB2BF">, </span><span style="color:#E45649;--shiki-dark:#E06C75">engine</span><span style="color:#0184BC;--shiki-dark:#ABB2BF">:</span><span style="color:#50A14F;--shiki-dark:#98C379"> 'markdown'</span><span style="color:#383A42;--shiki-dark:#ABB2BF"> &#125;).</span><span style="color:#4078F2;--shiki-dark:#61AFEF">trim</span><span style="color:#383A42;--shiki-dark:#ABB2BF">()</span></span><span class="line"></span><span class="line"><span style="color:#383A42;--shiki-dark:#E06C75">        tabId</span><span style="color:#0184BC;--shiki-dark:#56B6C2"> +=</span><span style="color:#986801;--shiki-dark:#D19A66"> 1</span></span><span class="line"></span><span class="line"><span style="color:#A626A4;--shiki-dark:#C678DD">        if</span><span style="color:#383A42;--shiki-dark:#ABB2BF"> (</span><span style="color:#383A42;--shiki-dark:#E5C07B">tabCaption</span><span style="color:#383A42;--shiki-dark:#ABB2BF">.</span><span style="color:#E45649;--shiki-dark:#E06C75">length</span><span style="color:#0184BC;--shiki-dark:#56B6C2"> ===</span><span style="color:#986801;--shiki-dark:#D19A66"> 0</span><span style="color:#0184BC;--shiki-dark:#56B6C2"> &#x26;&#x26;</span><span style="color:#383A42;--shiki-dark:#E5C07B"> tabIcon</span><span style="color:#383A42;--shiki-dark:#ABB2BF">.</span><span style="color:#E45649;--shiki-dark:#E06C75">length</span><span style="color:#0184BC;--shiki-dark:#56B6C2"> ===</span><span style="color:#986801;--shiki-dark:#D19A66"> 0</span><span style="color:#383A42;--shiki-dark:#ABB2BF">) </span><span style="color:#383A42;--shiki-dark:#E06C75">tabCaption</span><span style="color:#0184BC;--shiki-dark:#56B6C2"> =</span><span style="color:#383A42;--shiki-dark:#E06C75"> tabName</span><span style="color:#0184BC;--shiki-dark:#56B6C2"> +</span><span style="color:#50A14F;--shiki-dark:#98C379"> ' '</span><span style="color:#0184BC;--shiki-dark:#56B6C2"> +</span><span style="color:#383A42;--shiki-dark:#E06C75"> tabId</span></span><span class="line"></span><span class="line"><span style="color:#A626A4;--shiki-dark:#C678DD">        const</span><span style="color:#986801;--shiki-dark:#E5C07B"> icon</span><span style="color:#0184BC;--shiki-dark:#56B6C2"> =</span><span style="color:#383A42;--shiki-dark:#E5C07B"> tabIcon</span><span style="color:#383A42;--shiki-dark:#ABB2BF">.</span><span style="color:#4078F2;--shiki-dark:#61AFEF">trim</span><span style="color:#383A42;--shiki-dark:#ABB2BF">()</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#E5C07B">        tabIcon</span><span style="color:#383A42;--shiki-dark:#ABB2BF">.</span><span style="color:#E45649;--shiki-dark:#E06C75">length</span><span style="color:#0184BC;--shiki-dark:#56B6C2"> ></span><span style="color:#986801;--shiki-dark:#D19A66"> 0</span><span style="color:#0184BC;--shiki-dark:#56B6C2"> &#x26;&#x26;</span><span style="color:#383A42;--shiki-dark:#ABB2BF"> (</span><span style="color:#383A42;--shiki-dark:#E06C75">tabIcon</span><span style="color:#0184BC;--shiki-dark:#56B6C2"> =</span><span style="color:#50A14F;--shiki-dark:#98C379"> `&#x3C;i class="</span><span style="color:#CA1243;--shiki-dark:#C678DD">$&#123;</span><span style="color:#383A42;--shiki-dark:#E06C75">icon</span><span style="color:#CA1243;--shiki-dark:#C678DD">&#125;</span><span style="color:#50A14F;--shiki-dark:#98C379">">&#x3C;/i>`</span><span style="color:#383A42;--shiki-dark:#ABB2BF">)</span></span><span class="line"></span><span class="line"><span style="color:#A0A1A7;font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">        // Generate unique IDs for tabs and content</span></span><span class="line"><span style="color:#A626A4;--shiki-dark:#C678DD">        const</span><span style="color:#986801;--shiki-dark:#E5C07B"> contentIdAttr</span><span style="color:#0184BC;--shiki-dark:#56B6C2"> =</span><span style="color:#50A14F;--shiki-dark:#98C379"> `</span><span style="color:#CA1243;--shiki-dark:#C678DD">$&#123;</span><span style="color:#383A42;--shiki-dark:#E06C75">tabsId</span><span style="color:#CA1243;--shiki-dark:#C678DD">&#125;</span><span style="color:#50A14F;--shiki-dark:#98C379">-</span><span style="color:#CA1243;--shiki-dark:#C678DD">$&#123;</span><span style="color:#383A42;--shiki-dark:#E06C75">tabId</span><span style="color:#CA1243;--shiki-dark:#C678DD">&#125;</span><span style="color:#50A14F;--shiki-dark:#98C379">`</span></span><span class="line"></span><span class="line"><span style="color:#A626A4;--shiki-dark:#C678DD">        let</span><span style="color:#383A42;--shiki-dark:#E06C75"> isActive</span><span style="color:#0184BC;--shiki-dark:#56B6C2"> =</span><span style="color:#50A14F;--shiki-dark:#98C379"> ''</span></span><span class="line"><span style="color:#A626A4;--shiki-dark:#C678DD">        if</span><span style="color:#383A42;--shiki-dark:#ABB2BF"> ((</span><span style="color:#383A42;--shiki-dark:#E06C75">tabActive</span><span style="color:#0184BC;--shiki-dark:#56B6C2"> ></span><span style="color:#986801;--shiki-dark:#D19A66"> 0</span><span style="color:#0184BC;--shiki-dark:#56B6C2"> &#x26;&#x26;</span><span style="color:#383A42;--shiki-dark:#E06C75"> tabActive</span><span style="color:#0184BC;--shiki-dark:#56B6C2"> ===</span><span style="color:#383A42;--shiki-dark:#E06C75"> tabId</span><span style="color:#383A42;--shiki-dark:#ABB2BF">) </span><span style="color:#0184BC;--shiki-dark:#56B6C2">||</span><span style="color:#383A42;--shiki-dark:#ABB2BF"> (</span><span style="color:#383A42;--shiki-dark:#E06C75">tabActive</span><span style="color:#0184BC;--shiki-dark:#56B6C2"> ===</span><span style="color:#986801;--shiki-dark:#D19A66"> 0</span><span style="color:#0184BC;--shiki-dark:#56B6C2"> &#x26;&#x26;</span><span style="color:#383A42;--shiki-dark:#E06C75"> tabId</span><span style="color:#0184BC;--shiki-dark:#56B6C2"> ===</span><span style="color:#986801;--shiki-dark:#D19A66"> 1</span><span style="color:#383A42;--shiki-dark:#ABB2BF">)) &#123;</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#E06C75">            isActive</span><span style="color:#0184BC;--shiki-dark:#56B6C2"> =</span><span style="color:#50A14F;--shiki-dark:#98C379"> ' active'</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#E06C75">            noDefault</span><span style="color:#0184BC;--shiki-dark:#56B6C2"> =</span><span style="color:#986801;--shiki-dark:#D19A66"> false</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">        &#125;</span></span><span class="line"></span><span class="line"><span style="color:#383A42;--shiki-dark:#E06C75">        tabNav</span><span style="color:#0184BC;--shiki-dark:#56B6C2"> +=</span><span style="color:#50A14F;--shiki-dark:#98C379"> `&#x3C;button type="button" class="tab</span><span style="color:#CA1243;--shiki-dark:#C678DD">$&#123;</span><span style="color:#383A42;--shiki-dark:#E06C75">isActive</span><span style="color:#CA1243;--shiki-dark:#C678DD">&#125;</span><span style="color:#50A14F;--shiki-dark:#98C379">" data-target="</span><span style="color:#CA1243;--shiki-dark:#C678DD">$&#123;</span><span style="color:#383A42;--shiki-dark:#E06C75">contentIdAttr</span><span style="color:#CA1243;--shiki-dark:#C678DD">&#125;</span><span style="color:#50A14F;--shiki-dark:#98C379">"></span><span style="color:#CA1243;--shiki-dark:#C678DD">$&#123;</span><span style="color:#383A42;--shiki-dark:#E06C75">tabIcon</span><span style="color:#0184BC;--shiki-dark:#56B6C2"> +</span><span style="color:#383A42;--shiki-dark:#E5C07B"> tabCaption</span><span style="color:#50A14F;--shiki-dark:#ABB2BF">.</span><span style="color:#4078F2;--shiki-dark:#61AFEF">trim</span><span style="color:#383A42;--shiki-dark:#ABB2BF">()</span><span style="color:#CA1243;--shiki-dark:#C678DD">&#125;</span><span style="color:#50A14F;--shiki-dark:#98C379">&#x3C;/button>`</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#E06C75">        tabContent</span><span style="color:#0184BC;--shiki-dark:#56B6C2"> +=</span><span style="color:#50A14F;--shiki-dark:#98C379"> `&#x3C;div class="tab-item-content</span><span style="color:#CA1243;--shiki-dark:#C678DD">$&#123;</span><span style="color:#383A42;--shiki-dark:#E06C75">isActive</span><span style="color:#CA1243;--shiki-dark:#C678DD">&#125;</span><span style="color:#50A14F;--shiki-dark:#98C379">" id="</span><span style="color:#CA1243;--shiki-dark:#C678DD">$&#123;</span><span style="color:#383A42;--shiki-dark:#E06C75">contentIdAttr</span><span style="color:#CA1243;--shiki-dark:#C678DD">&#125;</span><span style="color:#50A14F;--shiki-dark:#98C379">"></span><span style="color:#CA1243;--shiki-dark:#C678DD">$&#123;</span><span style="color:#383A42;--shiki-dark:#E06C75">postContent</span><span style="color:#CA1243;--shiki-dark:#C678DD">&#125;</span><span style="color:#50A14F;--shiki-dark:#98C379">&#x3C;/div>`</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">    &#125;</span></span><span class="line"></span><span class="line"><span style="color:#A626A4;--shiki-dark:#C678DD">    const</span><span style="color:#986801;--shiki-dark:#E5C07B"> toTop</span><span style="color:#0184BC;--shiki-dark:#56B6C2"> =</span><span style="color:#50A14F;--shiki-dark:#98C379"> '&#x3C;div class="tab-to-top">&#x3C;button type="button" aria-label="scroll to top">&#x3C;i class="iconfont icon-arrow-up-bold">&#x3C;/i>&#x3C;/button>&#x3C;/div>'</span></span><span class="line"></span><span class="line"><span style="color:#383A42;--shiki-dark:#E06C75">    tabNav</span><span style="color:#0184BC;--shiki-dark:#56B6C2"> =</span><span style="color:#50A14F;--shiki-dark:#98C379"> `&#x3C;div class="nav-tabs</span><span style="color:#CA1243;--shiki-dark:#C678DD">$&#123;</span><span style="color:#383A42;--shiki-dark:#E06C75">noDefault</span><span style="color:#0184BC;--shiki-dark:#C678DD"> ?</span><span style="color:#CA1243;--shiki-dark:#98C379"> '</span><span style="color:#50A14F;--shiki-dark:#98C379"> no-default</span><span style="color:#CA1243;--shiki-dark:#98C379">'</span><span style="color:#0184BC;--shiki-dark:#C678DD"> :</span><span style="color:#CA1243;--shiki-dark:#98C379"> ''</span><span style="color:#CA1243;--shiki-dark:#C678DD">&#125;</span><span style="color:#50A14F;--shiki-dark:#98C379">"></span><span style="color:#CA1243;--shiki-dark:#C678DD">$&#123;</span><span style="color:#383A42;--shiki-dark:#E06C75">tabNav</span><span style="color:#CA1243;--shiki-dark:#C678DD">&#125;</span><span style="color:#50A14F;--shiki-dark:#98C379">&#x3C;/div>`</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#E06C75">    tabContent</span><span style="color:#0184BC;--shiki-dark:#56B6C2"> =</span><span style="color:#50A14F;--shiki-dark:#98C379"> `&#x3C;div class="tab-contents"></span><span style="color:#CA1243;--shiki-dark:#C678DD">$&#123;</span><span style="color:#383A42;--shiki-dark:#E06C75">tabContent</span><span style="color:#CA1243;--shiki-dark:#C678DD">&#125;</span><span style="color:#50A14F;--shiki-dark:#98C379">&#x3C;/div>`</span></span><span class="line"></span><span class="line"><span style="color:#A626A4;--shiki-dark:#C678DD">    return</span><span style="color:#50A14F;--shiki-dark:#98C379"> `&#x3C;div class="tabs" id=</span><span style="color:#CA1243;--shiki-dark:#C678DD">$&#123;</span><span style="color:#383A42;--shiki-dark:#E06C75">tabsId</span><span style="color:#CA1243;--shiki-dark:#C678DD">&#125;</span><span style="color:#50A14F;--shiki-dark:#98C379">></span><span style="color:#CA1243;--shiki-dark:#C678DD">$&#123;</span><span style="color:#383A42;--shiki-dark:#E06C75">tabNav</span><span style="color:#0184BC;--shiki-dark:#56B6C2"> +</span><span style="color:#383A42;--shiki-dark:#E06C75"> tabContent</span><span style="color:#0184BC;--shiki-dark:#56B6C2"> +</span><span style="color:#383A42;--shiki-dark:#E06C75"> toTop</span><span style="color:#CA1243;--shiki-dark:#C678DD">&#125;</span><span style="color:#50A14F;--shiki-dark:#98C379">&#x3C;/div>`</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">&#125;</span></span><span class="line"></span><span class="line"><span style="color:#383A42;--shiki-dark:#E5C07B">hexo</span><span style="color:#383A42;--shiki-dark:#ABB2BF">.</span><span style="color:#E45649;--shiki-dark:#E5C07B">extend</span><span style="color:#383A42;--shiki-dark:#ABB2BF">.</span><span style="color:#E45649;--shiki-dark:#E5C07B">tag</span><span style="color:#383A42;--shiki-dark:#ABB2BF">.</span><span style="color:#4078F2;--shiki-dark:#61AFEF">register</span><span style="color:#383A42;--shiki-dark:#ABB2BF">(</span><span style="color:#50A14F;--shiki-dark:#98C379">'tabs'</span><span style="color:#383A42;--shiki-dark:#ABB2BF">, </span><span style="color:#383A42;--shiki-dark:#E06C75">postTabs</span><span style="color:#383A42;--shiki-dark:#ABB2BF">, &#123; </span><span style="color:#E45649;--shiki-dark:#E06C75">ends</span><span style="color:#0184BC;--shiki-dark:#ABB2BF">:</span><span style="color:#986801;--shiki-dark:#D19A66"> true</span><span style="color:#383A42;--shiki-dark:#ABB2BF"> &#125;)</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#E5C07B">hexo</span><span style="color:#383A42;--shiki-dark:#ABB2BF">.</span><span style="color:#E45649;--shiki-dark:#E5C07B">extend</span><span style="color:#383A42;--shiki-dark:#ABB2BF">.</span><span style="color:#E45649;--shiki-dark:#E5C07B">tag</span><span style="color:#383A42;--shiki-dark:#ABB2BF">.</span><span style="color:#4078F2;--shiki-dark:#61AFEF">register</span><span style="color:#383A42;--shiki-dark:#ABB2BF">(</span><span style="color:#50A14F;--shiki-dark:#98C379">'subtabs'</span><span style="color:#383A42;--shiki-dark:#ABB2BF">, </span><span style="color:#383A42;--shiki-dark:#E06C75">postTabs</span><span style="color:#383A42;--shiki-dark:#ABB2BF">, &#123; </span><span style="color:#E45649;--shiki-dark:#E06C75">ends</span><span style="color:#0184BC;--shiki-dark:#ABB2BF">:</span><span style="color:#986801;--shiki-dark:#D19A66"> true</span><span style="color:#383A42;--shiki-dark:#ABB2BF"> &#125;)</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#E5C07B">hexo</span><span style="color:#383A42;--shiki-dark:#ABB2BF">.</span><span style="color:#E45649;--shiki-dark:#E5C07B">extend</span><span style="color:#383A42;--shiki-dark:#ABB2BF">.</span><span style="color:#E45649;--shiki-dark:#E5C07B">tag</span><span style="color:#383A42;--shiki-dark:#ABB2BF">.</span><span style="color:#4078F2;--shiki-dark:#61AFEF">register</span><span style="color:#383A42;--shiki-dark:#ABB2BF">(</span><span style="color:#50A14F;--shiki-dark:#98C379">'subsubtabs'</span><span style="color:#383A42;--shiki-dark:#ABB2BF">, </span><span style="color:#383A42;--shiki-dark:#E06C75">postTabs</span><span style="color:#383A42;--shiki-dark:#ABB2BF">, &#123; </span><span style="color:#E45649;--shiki-dark:#E06C75">ends</span><span style="color:#0184BC;--shiki-dark:#ABB2BF">:</span><span style="color:#986801;--shiki-dark:#D19A66"> true</span><span style="color:#383A42;--shiki-dark:#ABB2BF"> &#125;)</span></span></code></pre></td></tr></tbody></table></figure> 此时使用<code>hexo cl &amp;&amp; hexo g &amp;&amp; hexo s</code>三连，就已经可以解析并生成对应的 HTML 代码了。</p><h4 id="增加样式">增加样式</h4><p>在 <code>source/custom/css/_tags</code> 中创建 <code>tab.styl</code>文件，添加如下内容：</p><figure class="highlight stylus"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br></pre></td><td class="code"><pre class="shiki shiki-themes one-light one-dark-pro"><span class="line"><span style="color:#A626A4;--shiki-dark:#C678DD">@css</span><span style="color:#383A42;--shiki-dark:#ABB2BF"> &#123;</span></span><span class="line"><span style="color:#986801;--shiki-dark:#56B6C2">    :root</span><span style="color:#383A42;--shiki-dark:#ABB2BF"> &#123;</span></span><span class="line"><span style="color:#E45649;--shiki-dark:#E06C75">        --tab-border-color</span><span style="color:#383A42;--shiki-dark:#ABB2BF">: </span><span style="color:#4078F2;--shiki-dark:#61AFEF">rgba</span><span style="color:#383A42;--shiki-dark:#ABB2BF">(</span><span style="color:#986801;--shiki-dark:#D19A66">100</span><span style="color:#383A42;--shiki-dark:#ABB2BF">, </span><span style="color:#986801;--shiki-dark:#D19A66">100</span><span style="color:#383A42;--shiki-dark:#ABB2BF">, </span><span style="color:#986801;--shiki-dark:#D19A66">100</span><span style="color:#383A42;--shiki-dark:#ABB2BF">, </span><span style="color:#986801;--shiki-dark:#D19A66">0.25</span><span style="color:#383A42;--shiki-dark:#ABB2BF">);</span></span><span class="line"><span style="color:#E45649;--shiki-dark:#E06C75">        --tab-botton-bg</span><span style="color:#383A42;--shiki-dark:#ABB2BF">: </span><span style="color:#4078F2;--shiki-dark:#61AFEF">rgba</span><span style="color:#383A42;--shiki-dark:#ABB2BF">(</span><span style="color:#986801;--shiki-dark:#D19A66">100</span><span style="color:#383A42;--shiki-dark:#ABB2BF">, </span><span style="color:#986801;--shiki-dark:#D19A66">100</span><span style="color:#383A42;--shiki-dark:#ABB2BF">, </span><span style="color:#986801;--shiki-dark:#D19A66">100</span><span style="color:#383A42;--shiki-dark:#ABB2BF">, </span><span style="color:#986801;--shiki-dark:#D19A66">0.1</span><span style="color:#383A42;--shiki-dark:#ABB2BF">);</span></span><span class="line"><span style="color:#E45649;--shiki-dark:#E06C75">        --tab-botton-color</span><span style="color:#383A42;--shiki-dark:#ABB2BF">: </span><span style="color:#4078F2;--shiki-dark:#61AFEF">var</span><span style="color:#383A42;--shiki-dark:#ABB2BF">(</span><span style="color:#E45649;--shiki-dark:#E06C75">--text-color</span><span style="color:#383A42;--shiki-dark:#ABB2BF">);</span></span><span class="line"><span style="color:#E45649;--shiki-dark:#E06C75">        --tab-button-hover-bg</span><span style="color:#383A42;--shiki-dark:#ABB2BF">: </span><span style="color:#4078F2;--shiki-dark:#61AFEF">rgba</span><span style="color:#383A42;--shiki-dark:#ABB2BF">(</span><span style="color:#986801;--shiki-dark:#D19A66">170</span><span style="color:#383A42;--shiki-dark:#ABB2BF">, </span><span style="color:#986801;--shiki-dark:#D19A66">170</span><span style="color:#383A42;--shiki-dark:#ABB2BF">, </span><span style="color:#986801;--shiki-dark:#D19A66">170</span><span style="color:#383A42;--shiki-dark:#ABB2BF">, </span><span style="color:#986801;--shiki-dark:#D19A66">0.15</span><span style="color:#383A42;--shiki-dark:#ABB2BF">);</span></span><span class="line"><span style="color:#E45649;--shiki-dark:#E06C75">        --tab-hover-border-color</span><span style="color:#383A42;--shiki-dark:#ABB2BF">: </span><span style="color:#4078F2;--shiki-dark:#61AFEF">rgba</span><span style="color:#383A42;--shiki-dark:#ABB2BF">(</span><span style="color:#986801;--shiki-dark:#D19A66">240</span><span style="color:#383A42;--shiki-dark:#ABB2BF">, </span><span style="color:#986801;--shiki-dark:#D19A66">140</span><span style="color:#383A42;--shiki-dark:#ABB2BF">, </span><span style="color:#986801;--shiki-dark:#D19A66">140</span><span style="color:#383A42;--shiki-dark:#ABB2BF">, </span><span style="color:#986801;--shiki-dark:#D19A66">0.4</span><span style="color:#383A42;--shiki-dark:#ABB2BF">);</span></span><span class="line"><span style="color:#E45649;--shiki-dark:#E06C75">        --tab-active-border-color</span><span style="color:#383A42;--shiki-dark:#ABB2BF">: </span><span style="color:#4078F2;--shiki-dark:#61AFEF">rgba</span><span style="color:#383A42;--shiki-dark:#ABB2BF">(</span><span style="color:#986801;--shiki-dark:#D19A66">240</span><span style="color:#383A42;--shiki-dark:#ABB2BF">, </span><span style="color:#986801;--shiki-dark:#D19A66">30</span><span style="color:#383A42;--shiki-dark:#ABB2BF">, </span><span style="color:#986801;--shiki-dark:#D19A66">30</span><span style="color:#383A42;--shiki-dark:#ABB2BF">, </span><span style="color:#986801;--shiki-dark:#D19A66">0.9</span><span style="color:#383A42;--shiki-dark:#ABB2BF">);</span></span><span class="line"><span style="color:#E45649;--shiki-dark:#E06C75">        --tab-button-active-bg</span><span style="color:#383A42;--shiki-dark:#ABB2BF">: </span><span style="color:#4078F2;--shiki-dark:#61AFEF">rgba</span><span style="color:#383A42;--shiki-dark:#ABB2BF">(</span><span style="color:#986801;--shiki-dark:#D19A66">210</span><span style="color:#383A42;--shiki-dark:#ABB2BF">, </span><span style="color:#986801;--shiki-dark:#D19A66">210</span><span style="color:#383A42;--shiki-dark:#ABB2BF">, </span><span style="color:#986801;--shiki-dark:#D19A66">210</span><span style="color:#383A42;--shiki-dark:#ABB2BF">, </span><span style="color:#986801;--shiki-dark:#D19A66">0.1</span><span style="color:#383A42;--shiki-dark:#ABB2BF">.</span><span style="color:#986801;--shiki-dark:#D19A66">5</span><span style="color:#383A42;--shiki-dark:#ABB2BF">);</span></span><span class="line"><span style="color:#E45649;--shiki-dark:#E06C75">        --tab-to-top-color</span><span style="color:#383A42;--shiki-dark:#ABB2BF">: </span><span style="color:#4078F2;--shiki-dark:#61AFEF">var</span><span style="color:#383A42;--shiki-dark:#ABB2BF">(</span><span style="color:#E45649;--shiki-dark:#E06C75">--text-color</span><span style="color:#383A42;--shiki-dark:#ABB2BF">);</span></span><span class="line"><span style="color:#E45649;--shiki-dark:#E06C75">        --tab-to-top-hover-color</span><span style="color:#383A42;--shiki-dark:#ABB2BF">: </span><span style="color:#4078F2;--shiki-dark:#61AFEF">rgba</span><span style="color:#383A42;--shiki-dark:#ABB2BF">(</span><span style="color:#986801;--shiki-dark:#D19A66">203</span><span style="color:#383A42;--shiki-dark:#ABB2BF">, </span><span style="color:#986801;--shiki-dark:#D19A66">60</span><span style="color:#383A42;--shiki-dark:#ABB2BF">, </span><span style="color:#986801;--shiki-dark:#D19A66">60</span><span style="color:#383A42;--shiki-dark:#ABB2BF">, </span><span style="color:#986801;--shiki-dark:#D19A66">1</span><span style="color:#383A42;--shiki-dark:#ABB2BF">);</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">    &#125;</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">&#125;</span></span><span class="line"></span><span class="line"><span style="color:#4078F2;--shiki-dark:#61AFEF">addBorderRadius</span><span style="color:#383A42;--shiki-dark:#ABB2BF">(x = </span><span style="color:#986801;--shiki-dark:#D19A66">6</span><span style="color:#383A42;--shiki-dark:#ABB2BF">)</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">  border-radius: </span><span style="color:#4078F2;--shiki-dark:#61AFEF">unit</span><span style="color:#383A42;--shiki-dark:#ABB2BF">(x, </span><span style="color:#50A14F;--shiki-dark:#98C379">'px'</span><span style="color:#383A42;--shiki-dark:#ABB2BF">)</span></span><span class="line"></span><span class="line"><span style="color:#986801;--shiki-dark:#D19A66">.tabs</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">  position: </span><span style="color:#383A42;--shiki-dark:#D19A66">relative</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">  margin: </span><span style="color:#986801;--shiki-dark:#D19A66">0</span><span style="color:#986801;--shiki-dark:#D19A66"> 0</span><span style="color:#986801;--shiki-dark:#D19A66"> 20</span><span style="color:#986801;--shiki-dark:#E06C75">px</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">  border: </span><span style="color:#383A42;--shiki-dark:#D19A66">none</span></span><span class="line"><span style="color:#4078F2;--shiki-dark:#61AFEF">  addBorderRadius</span><span style="color:#383A42;--shiki-dark:#ABB2BF">()</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">  background: </span><span style="color:#4078F2;--shiki-dark:#61AFEF">rgba</span><span style="color:#383A42;--shiki-dark:#ABB2BF">(</span><span style="color:#986801;--shiki-dark:#D19A66">200</span><span style="color:#383A42;--shiki-dark:#ABB2BF">, </span><span style="color:#986801;--shiki-dark:#D19A66">200</span><span style="color:#383A42;--shiki-dark:#ABB2BF">, </span><span style="color:#986801;--shiki-dark:#D19A66">200</span><span style="color:#383A42;--shiki-dark:#ABB2BF">, </span><span style="color:#986801;--shiki-dark:#D19A66">0.1</span><span style="color:#383A42;--shiki-dark:#ABB2BF">)</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">  overflow: </span><span style="color:#383A42;--shiki-dark:#D19A66">hidden</span></span><span class="line"></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">  > </span><span style="color:#986801;--shiki-dark:#D19A66">.nav-tabs</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">    display: </span><span style="color:#383A42;--shiki-dark:#D19A66">flex</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">    flex-wrap: </span><span style="color:#383A42;--shiki-dark:#D19A66">wrap</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">    margin: </span><span style="color:#986801;--shiki-dark:#D19A66">0</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">    padding: </span><span style="color:#986801;--shiki-dark:#D19A66">0</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">    background: </span><span style="color:#4078F2;--shiki-dark:#61AFEF">var</span><span style="color:#383A42;--shiki-dark:#ABB2BF">(</span><span style="color:#E45649;--shiki-dark:#E06C75">--tab-botton-bg</span><span style="color:#383A42;--shiki-dark:#ABB2BF">)</span></span><span class="line"></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">    > </span><span style="color:#986801;--shiki-dark:#D19A66">.tab</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">      flex-grow: </span><span style="color:#986801;--shiki-dark:#D19A66">1</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">      padding: </span><span style="color:#986801;--shiki-dark:#D19A66">8</span><span style="color:#986801;--shiki-dark:#E06C75">px</span><span style="color:#986801;--shiki-dark:#D19A66"> 18</span><span style="color:#986801;--shiki-dark:#E06C75">px</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">      border-top: </span><span style="color:#383A42;--shiki-dark:#D19A66">none</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">      border-bottom: </span><span style="color:#986801;--shiki-dark:#D19A66">2</span><span style="color:#986801;--shiki-dark:#E06C75">px</span><span style="color:#383A42;--shiki-dark:#D19A66"> solid</span><span style="color:#4078F2;--shiki-dark:#61AFEF"> var</span><span style="color:#383A42;--shiki-dark:#ABB2BF">(</span><span style="color:#E45649;--shiki-dark:#E06C75">--tab-border-color</span><span style="color:#383A42;--shiki-dark:#ABB2BF">)</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">      border-right: </span><span style="color:#986801;--shiki-dark:#D19A66">0.75</span><span style="color:#986801;--shiki-dark:#E06C75">px</span><span style="color:#383A42;--shiki-dark:#D19A66"> solid</span><span style="color:#4078F2;--shiki-dark:#61AFEF"> var</span><span style="color:#383A42;--shiki-dark:#ABB2BF">(</span><span style="color:#E45649;--shiki-dark:#E06C75">--tab-border-color</span><span style="color:#383A42;--shiki-dark:#ABB2BF">)</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">      border-left: </span><span style="color:#986801;--shiki-dark:#D19A66">0.75</span><span style="color:#986801;--shiki-dark:#E06C75">px</span><span style="color:#383A42;--shiki-dark:#D19A66"> solid</span><span style="color:#4078F2;--shiki-dark:#61AFEF"> var</span><span style="color:#383A42;--shiki-dark:#ABB2BF">(</span><span style="color:#E45649;--shiki-dark:#E06C75">--tab-border-color</span><span style="color:#383A42;--shiki-dark:#ABB2BF">)</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">      background: </span><span style="color:#4078F2;--shiki-dark:#61AFEF">var</span><span style="color:#383A42;--shiki-dark:#ABB2BF">(</span><span style="color:#E45649;--shiki-dark:#E06C75">--tab-botton-bg</span><span style="color:#383A42;--shiki-dark:#ABB2BF">)</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">      color: </span><span style="color:#4078F2;--shiki-dark:#61AFEF">var</span><span style="color:#383A42;--shiki-dark:#ABB2BF">(</span><span style="color:#E45649;--shiki-dark:#E06C75">--tab-botton-color</span><span style="color:#383A42;--shiki-dark:#ABB2BF">)</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">      line-height: </span><span style="color:#986801;--shiki-dark:#D19A66">2</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">      transition: </span><span style="color:#383A42;--shiki-dark:#D19A66">all</span><span style="color:#986801;--shiki-dark:#D19A66"> .4</span><span style="color:#986801;--shiki-dark:#E06C75">s</span></span><span class="line"></span><span class="line"><span style="color:#E45649;--shiki-dark:#E06C75">      i</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">        width: </span><span style="color:#986801;--shiki-dark:#D19A66">1.5</span><span style="color:#986801;--shiki-dark:#E06C75">em</span></span><span class="line"></span><span class="line"><span style="color:#A626A4;--shiki-dark:#C678DD">      &#x26;</span><span style="color:#986801;--shiki-dark:#D19A66">.active</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">        border-bottom: </span><span style="color:#986801;--shiki-dark:#D19A66">2</span><span style="color:#986801;--shiki-dark:#E06C75">px</span><span style="color:#383A42;--shiki-dark:#D19A66"> solid</span><span style="color:#4078F2;--shiki-dark:#61AFEF"> var</span><span style="color:#383A42;--shiki-dark:#ABB2BF">(</span><span style="color:#E45649;--shiki-dark:#E06C75">--tab-active-border-color</span><span style="color:#383A42;--shiki-dark:#ABB2BF">)</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">        background: </span><span style="color:#4078F2;--shiki-dark:#61AFEF">var</span><span style="color:#383A42;--shiki-dark:#ABB2BF">(</span><span style="color:#E45649;--shiki-dark:#E06C75">--tab-button-active-bg</span><span style="color:#383A42;--shiki-dark:#ABB2BF">)</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">        cursor: </span><span style="color:#383A42;--shiki-dark:#D19A66">default</span></span><span class="line"></span><span class="line"><span style="color:#A626A4;--shiki-dark:#C678DD">      &#x26;</span><span style="color:#986801;--shiki-dark:#56B6C2">:not</span><span style="color:#383A42;--shiki-dark:#ABB2BF">(</span><span style="color:#986801;--shiki-dark:#D19A66">.active</span><span style="color:#383A42;--shiki-dark:#ABB2BF">)</span></span><span class="line"><span style="color:#A626A4;--shiki-dark:#C678DD">        &#x26;</span><span style="color:#986801;--shiki-dark:#56B6C2">:hover</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">          border-bottom: </span><span style="color:#986801;--shiki-dark:#D19A66">2</span><span style="color:#986801;--shiki-dark:#E06C75">px</span><span style="color:#383A42;--shiki-dark:#D19A66"> solid</span><span style="color:#4078F2;--shiki-dark:#61AFEF"> var</span><span style="color:#383A42;--shiki-dark:#ABB2BF">(</span><span style="color:#E45649;--shiki-dark:#E06C75">--tab-hover-border-color</span><span style="color:#383A42;--shiki-dark:#ABB2BF">)</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">          background: </span><span style="color:#4078F2;--shiki-dark:#61AFEF">var</span><span style="color:#383A42;--shiki-dark:#ABB2BF">(</span><span style="color:#E45649;--shiki-dark:#E06C75">--tab-button-hover-bg</span><span style="color:#383A42;--shiki-dark:#ABB2BF">)</span></span><span class="line"></span><span class="line"><span style="color:#A626A4;--shiki-dark:#C678DD">    &#x26;</span><span style="color:#986801;--shiki-dark:#D19A66">.no-default</span></span><span class="line"><span style="color:#A626A4;--shiki-dark:#C678DD">      &#x26; </span><span style="color:#383A42;--shiki-dark:#ABB2BF">~ </span><span style="color:#986801;--shiki-dark:#D19A66">.tab-to-top</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">        display: </span><span style="color:#383A42;--shiki-dark:#D19A66">none</span></span><span class="line"></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">  > </span><span style="color:#986801;--shiki-dark:#D19A66">.tab-contents</span></span><span class="line"><span style="color:#986801;--shiki-dark:#D19A66">    .tab-item-content</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">      position: </span><span style="color:#383A42;--shiki-dark:#D19A66">relative</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">      display: </span><span style="color:#383A42;--shiki-dark:#D19A66">none</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">      padding: </span><span style="color:#986801;--shiki-dark:#D19A66">36</span><span style="color:#986801;--shiki-dark:#E06C75">px</span><span style="color:#986801;--shiki-dark:#D19A66"> 24</span><span style="color:#986801;--shiki-dark:#E06C75">px</span><span style="color:#986801;--shiki-dark:#D19A66"> 10</span><span style="color:#986801;--shiki-dark:#E06C75">px</span></span><span class="line"></span><span class="line"><span style="color:#A626A4;--shiki-dark:#C678DD">      @media</span><span style="color:#986801;--shiki-dark:#ABB2BF"> screen</span><span style="color:#383A42;--shiki-dark:#ABB2BF"> and (max-width: </span><span style="color:#986801;--shiki-dark:#D19A66">768</span><span style="color:#986801;--shiki-dark:#E06C75">px</span><span style="color:#383A42;--shiki-dark:#ABB2BF">)</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">        padding: </span><span style="color:#986801;--shiki-dark:#D19A66">24</span><span style="color:#986801;--shiki-dark:#E06C75">px</span><span style="color:#986801;--shiki-dark:#D19A66"> 14</span><span style="color:#986801;--shiki-dark:#E06C75">px</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">        </span></span><span class="line"></span><span class="line"><span style="color:#A626A4;--shiki-dark:#C678DD">      &#x26;</span><span style="color:#986801;--shiki-dark:#D19A66">.active</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">        display: </span><span style="color:#383A42;--shiki-dark:#D19A66">block</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">        animation: tabshow </span><span style="color:#986801;--shiki-dark:#D19A66">.5</span><span style="color:#986801;--shiki-dark:#E06C75">s</span></span><span class="line"></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">      > </span><span style="color:#986801;--shiki-dark:#56B6C2">:last-child</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">        margin-bottom: </span><span style="color:#986801;--shiki-dark:#D19A66">0</span></span><span class="line"></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">  > </span><span style="color:#986801;--shiki-dark:#D19A66">.tab-to-top</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">    padding: </span><span style="color:#986801;--shiki-dark:#D19A66">0</span><span style="color:#986801;--shiki-dark:#D19A66"> 16</span><span style="color:#986801;--shiki-dark:#E06C75">px</span><span style="color:#986801;--shiki-dark:#D19A66"> 10</span><span style="color:#986801;--shiki-dark:#E06C75">px</span><span style="color:#986801;--shiki-dark:#D19A66"> 0</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">    width: </span><span style="color:#986801;--shiki-dark:#D19A66">100</span><span style="color:#986801;--shiki-dark:#E06C75">%</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">    text-align: </span><span style="color:#383A42;--shiki-dark:#D19A66">right</span></span><span class="line"></span><span class="line"><span style="color:#E45649;--shiki-dark:#E06C75">    button</span></span><span class="line"><span style="color:#4078F2;--shiki-dark:#61AFEF">      addBorderRadius</span><span style="color:#383A42;--shiki-dark:#ABB2BF">()</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">      color: </span><span style="color:#4078F2;--shiki-dark:#61AFEF">var</span><span style="color:#383A42;--shiki-dark:#ABB2BF">(</span><span style="color:#E45649;--shiki-dark:#E06C75">--tab-to-top-color</span><span style="color:#383A42;--shiki-dark:#ABB2BF">)</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">      border: </span><span style="color:#986801;--shiki-dark:#D19A66">1</span><span style="color:#986801;--shiki-dark:#E06C75">px</span><span style="color:#383A42;--shiki-dark:#D19A66">  solid</span><span style="color:#4078F2;--shiki-dark:#61AFEF"> var</span><span style="color:#383A42;--shiki-dark:#ABB2BF">(</span><span style="color:#E45649;--shiki-dark:#E06C75">--tab-border-color</span><span style="color:#383A42;--shiki-dark:#ABB2BF">)</span></span><span class="line"></span><span class="line"><span style="color:#A626A4;--shiki-dark:#C678DD">      &#x26;</span><span style="color:#986801;--shiki-dark:#56B6C2">:hover</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">        color: </span><span style="color:#4078F2;--shiki-dark:#61AFEF">var</span><span style="color:#383A42;--shiki-dark:#ABB2BF">(</span><span style="color:#E45649;--shiki-dark:#E06C75">--tab-to-top-hover-color</span><span style="color:#383A42;--shiki-dark:#ABB2BF">)</span></span><span class="line"></span><span class="line"><span style="color:#A626A4;--shiki-dark:#C678DD">@keyframes</span><span style="color:#4078F2;--shiki-dark:#61AFEF"> tabshow</span></span><span class="line"><span style="color:#986801;--shiki-dark:#D19A66">  0%</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">    transform: </span><span style="color:#0184BC;--shiki-dark:#56B6C2">translateY</span><span style="color:#383A42;--shiki-dark:#ABB2BF">(</span><span style="color:#986801;--shiki-dark:#D19A66">15</span><span style="color:#986801;--shiki-dark:#E06C75">px</span><span style="color:#383A42;--shiki-dark:#ABB2BF">)</span></span><span class="line"></span><span class="line"><span style="color:#986801;--shiki-dark:#D19A66">  100%</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">    transform: </span><span style="color:#0184BC;--shiki-dark:#56B6C2">translateY</span><span style="color:#383A42;--shiki-dark:#ABB2BF">(</span><span style="color:#986801;--shiki-dark:#D19A66">0</span><span style="color:#383A42;--shiki-dark:#ABB2BF">)</span></span></code></pre></td></tr></tbody></table></figure><p>然后在 <code>source/custom/css</code> 中创建<code>tags.styl</code>，内容为<code>@import "_tags/*";</code>，方便后续添加更多标签。最后在<code>_config.fluid.yml</code> 中修改 <code>custom_css</code> 配置项：<figure class="highlight yaml"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre class="shiki shiki-themes one-light one-dark-pro"><span class="line"><span style="color:#E45649;--shiki-dark:#E06C75">custom_css</span><span style="color:#383A42;--shiki-dark:#ABB2BF">:</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">  - </span><span style="color:#50A14F;--shiki-dark:#98C379">custom/css/tags</span></span></code></pre></td></tr></tbody></table></figure> 使用<code>hexo cl &amp;&amp; hexo g &amp;&amp; hexo s</code>三连，就能看到选项卡已经正确渲染了。</p><h4 id="增加逻辑跳转">增加逻辑跳转</h4><p>在 <code>source/custom/js</code> 中创建 <code>tags.js</code>文件，添加如下内容： <figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br></pre></td><td class="code"><pre class="shiki shiki-themes one-light one-dark-pro"><span class="line"><span style="color:#50A14F;--shiki-dark:#98C379">"use strict"</span><span style="color:#383A42;--shiki-dark:#ABB2BF">;</span></span><span class="line"></span><span class="line"><span style="color:#A626A4;--shiki-dark:#C678DD">const</span><span style="color:#4078F2;--shiki-dark:#61AFEF"> getEleTop</span><span style="color:#0184BC;--shiki-dark:#56B6C2"> =</span><span style="color:#383A42;--shiki-dark:#ABB2BF"> (</span><span style="color:#383A42;font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic">ele</span><span style="color:#383A42;--shiki-dark:#ABB2BF">) </span><span style="color:#A626A4;--shiki-dark:#C678DD">=></span><span style="color:#383A42;--shiki-dark:#ABB2BF"> &#123;</span></span><span class="line"><span style="color:#A626A4;--shiki-dark:#C678DD">    let</span><span style="color:#383A42;--shiki-dark:#E06C75"> actualTop</span><span style="color:#0184BC;--shiki-dark:#56B6C2"> =</span><span style="color:#383A42;--shiki-dark:#E5C07B"> ele</span><span style="color:#383A42;--shiki-dark:#ABB2BF">.</span><span style="color:#E45649;--shiki-dark:#E06C75">offsetTop</span></span><span class="line"><span style="color:#A626A4;--shiki-dark:#C678DD">    let</span><span style="color:#383A42;--shiki-dark:#E06C75"> current</span><span style="color:#0184BC;--shiki-dark:#56B6C2"> =</span><span style="color:#383A42;--shiki-dark:#E5C07B"> ele</span><span style="color:#383A42;--shiki-dark:#ABB2BF">.</span><span style="color:#E45649;--shiki-dark:#E06C75">offsetParent</span></span><span class="line"><span style="color:#A626A4;--shiki-dark:#C678DD">    while</span><span style="color:#383A42;--shiki-dark:#ABB2BF"> (</span><span style="color:#383A42;--shiki-dark:#E06C75">current</span><span style="color:#0184BC;--shiki-dark:#56B6C2"> !==</span><span style="color:#986801;--shiki-dark:#D19A66"> null</span><span style="color:#383A42;--shiki-dark:#ABB2BF">) &#123;</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#E06C75">        actualTop</span><span style="color:#0184BC;--shiki-dark:#56B6C2"> +=</span><span style="color:#383A42;--shiki-dark:#E5C07B"> current</span><span style="color:#383A42;--shiki-dark:#ABB2BF">.</span><span style="color:#E45649;--shiki-dark:#E06C75">offsetTop</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#E06C75">        current</span><span style="color:#0184BC;--shiki-dark:#56B6C2"> =</span><span style="color:#383A42;--shiki-dark:#E5C07B"> current</span><span style="color:#383A42;--shiki-dark:#ABB2BF">.</span><span style="color:#E45649;--shiki-dark:#E06C75">offsetParent</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">    &#125;</span></span><span class="line"><span style="color:#A626A4;--shiki-dark:#C678DD">    return</span><span style="color:#383A42;--shiki-dark:#E06C75"> actualTop</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">&#125;</span></span><span class="line"></span><span class="line"><span style="color:#A0A1A7;font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">/* &#x3C;---- Tabs Begin ----> */</span></span><span class="line"><span style="color:#A0A1A7;font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">// 初始化选项卡</span></span><span class="line"><span style="color:#A626A4;--shiki-dark:#C678DD">const</span><span style="color:#4078F2;--shiki-dark:#61AFEF"> initializeTabs</span><span style="color:#0184BC;--shiki-dark:#56B6C2"> =</span><span style="color:#383A42;--shiki-dark:#ABB2BF"> () </span><span style="color:#A626A4;--shiki-dark:#C678DD">=></span><span style="color:#383A42;--shiki-dark:#ABB2BF"> &#123;</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#E5C07B">    document</span><span style="color:#383A42;--shiki-dark:#ABB2BF">.</span><span style="color:#4078F2;--shiki-dark:#61AFEF">querySelectorAll</span><span style="color:#383A42;--shiki-dark:#ABB2BF">(</span><span style="color:#50A14F;--shiki-dark:#98C379">'.tabs'</span><span style="color:#383A42;--shiki-dark:#ABB2BF">).</span><span style="color:#4078F2;--shiki-dark:#61AFEF">forEach</span><span style="color:#383A42;--shiki-dark:#ABB2BF">(</span><span style="color:#383A42;font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic">tabs</span><span style="color:#A626A4;--shiki-dark:#C678DD"> =></span><span style="color:#383A42;--shiki-dark:#ABB2BF"> &#123;</span></span><span class="line"><span style="color:#4078F2;--shiki-dark:#61AFEF">        addTabClickEventListeners</span><span style="color:#383A42;--shiki-dark:#ABB2BF">(</span><span style="color:#383A42;--shiki-dark:#E06C75">tabs</span><span style="color:#383A42;--shiki-dark:#ABB2BF">);</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">    &#125;);</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">&#125;</span></span><span class="line"></span><span class="line"><span style="color:#A0A1A7;font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">// 为选项卡添加点击事件监听器</span></span><span class="line"><span style="color:#A626A4;--shiki-dark:#C678DD">const</span><span style="color:#4078F2;--shiki-dark:#61AFEF"> addTabClickEventListeners</span><span style="color:#0184BC;--shiki-dark:#56B6C2"> =</span><span style="color:#383A42;--shiki-dark:#ABB2BF"> (</span><span style="color:#383A42;font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic">tabs</span><span style="color:#383A42;--shiki-dark:#ABB2BF">) </span><span style="color:#A626A4;--shiki-dark:#C678DD">=></span><span style="color:#383A42;--shiki-dark:#ABB2BF"> &#123;</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#E5C07B">    tabs</span><span style="color:#383A42;--shiki-dark:#ABB2BF">.</span><span style="color:#4078F2;--shiki-dark:#61AFEF">querySelectorAll</span><span style="color:#383A42;--shiki-dark:#ABB2BF">(</span><span style="color:#50A14F;--shiki-dark:#98C379">'.nav-tabs .tab'</span><span style="color:#383A42;--shiki-dark:#ABB2BF">).</span><span style="color:#4078F2;--shiki-dark:#61AFEF">forEach</span><span style="color:#383A42;--shiki-dark:#ABB2BF">(</span><span style="color:#383A42;font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic">tab</span><span style="color:#A626A4;--shiki-dark:#C678DD"> =></span><span style="color:#383A42;--shiki-dark:#ABB2BF"> &#123;</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#E5C07B">        tab</span><span style="color:#383A42;--shiki-dark:#ABB2BF">.</span><span style="color:#4078F2;--shiki-dark:#61AFEF">addEventListener</span><span style="color:#383A42;--shiki-dark:#ABB2BF">(</span><span style="color:#50A14F;--shiki-dark:#98C379">'click'</span><span style="color:#383A42;--shiki-dark:#ABB2BF">, (</span><span style="color:#383A42;font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic">event</span><span style="color:#383A42;--shiki-dark:#ABB2BF">) </span><span style="color:#A626A4;--shiki-dark:#C678DD">=></span><span style="color:#4078F2;--shiki-dark:#61AFEF"> handleTabClick</span><span style="color:#383A42;--shiki-dark:#ABB2BF">(</span><span style="color:#383A42;--shiki-dark:#E06C75">event</span><span style="color:#383A42;--shiki-dark:#ABB2BF">));</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">    &#125;);</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">&#125;</span></span><span class="line"></span><span class="line"><span style="color:#A0A1A7;font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">// 初始化回到顶部按钮</span></span><span class="line"><span style="color:#A626A4;--shiki-dark:#C678DD">const</span><span style="color:#4078F2;--shiki-dark:#61AFEF"> initializeScrollToTopButtons</span><span style="color:#0184BC;--shiki-dark:#56B6C2"> =</span><span style="color:#383A42;--shiki-dark:#ABB2BF"> () </span><span style="color:#A626A4;--shiki-dark:#C678DD">=></span><span style="color:#383A42;--shiki-dark:#ABB2BF"> &#123;</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#E5C07B">    document</span><span style="color:#383A42;--shiki-dark:#ABB2BF">.</span><span style="color:#4078F2;--shiki-dark:#61AFEF">querySelectorAll</span><span style="color:#383A42;--shiki-dark:#ABB2BF">(</span><span style="color:#50A14F;--shiki-dark:#98C379">'.tabs .tab-to-top button'</span><span style="color:#383A42;--shiki-dark:#ABB2BF">).</span><span style="color:#4078F2;--shiki-dark:#61AFEF">forEach</span><span style="color:#383A42;--shiki-dark:#ABB2BF">(</span><span style="color:#383A42;font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic">button</span><span style="color:#A626A4;--shiki-dark:#C678DD"> =></span><span style="color:#383A42;--shiki-dark:#ABB2BF"> &#123;</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#E5C07B">        button</span><span style="color:#383A42;--shiki-dark:#ABB2BF">.</span><span style="color:#4078F2;--shiki-dark:#61AFEF">addEventListener</span><span style="color:#383A42;--shiki-dark:#ABB2BF">(</span><span style="color:#50A14F;--shiki-dark:#98C379">'click'</span><span style="color:#383A42;--shiki-dark:#ABB2BF">, (</span><span style="color:#383A42;font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic">event</span><span style="color:#383A42;--shiki-dark:#ABB2BF">) </span><span style="color:#A626A4;--shiki-dark:#C678DD">=></span><span style="color:#4078F2;--shiki-dark:#61AFEF"> handleScrollToTop</span><span style="color:#383A42;--shiki-dark:#ABB2BF">(</span><span style="color:#383A42;--shiki-dark:#E06C75">event</span><span style="color:#383A42;--shiki-dark:#ABB2BF">));</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">    &#125;);</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">&#125;</span></span><span class="line"></span><span class="line"><span style="color:#A626A4;--shiki-dark:#C678DD">const</span><span style="color:#4078F2;--shiki-dark:#61AFEF"> handleTabClick</span><span style="color:#0184BC;--shiki-dark:#56B6C2"> =</span><span style="color:#383A42;--shiki-dark:#ABB2BF"> (</span><span style="color:#383A42;font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic">event</span><span style="color:#383A42;--shiki-dark:#ABB2BF">) </span><span style="color:#A626A4;--shiki-dark:#C678DD">=></span><span style="color:#383A42;--shiki-dark:#ABB2BF"> &#123;</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#E5C07B">    event</span><span style="color:#383A42;--shiki-dark:#ABB2BF">.</span><span style="color:#4078F2;--shiki-dark:#61AFEF">preventDefault</span><span style="color:#383A42;--shiki-dark:#ABB2BF">();</span></span><span class="line"><span style="color:#A626A4;--shiki-dark:#C678DD">    const</span><span style="color:#986801;--shiki-dark:#E5C07B"> clickedTab</span><span style="color:#0184BC;--shiki-dark:#56B6C2"> =</span><span style="color:#383A42;--shiki-dark:#E5C07B"> event</span><span style="color:#383A42;--shiki-dark:#ABB2BF">.</span><span style="color:#E45649;--shiki-dark:#E06C75">currentTarget</span><span style="color:#383A42;--shiki-dark:#ABB2BF">;</span></span><span class="line"></span><span class="line"><span style="color:#A0A1A7;font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">    // 找到当前选项卡组</span></span><span class="line"><span style="color:#A626A4;--shiki-dark:#C678DD">    const</span><span style="color:#986801;--shiki-dark:#E5C07B"> targetId</span><span style="color:#0184BC;--shiki-dark:#56B6C2"> =</span><span style="color:#383A42;--shiki-dark:#E5C07B"> clickedTab</span><span style="color:#383A42;--shiki-dark:#ABB2BF">.</span><span style="color:#E45649;--shiki-dark:#E5C07B">dataset</span><span style="color:#383A42;--shiki-dark:#ABB2BF">.</span><span style="color:#E45649;--shiki-dark:#E06C75">target</span><span style="color:#383A42;--shiki-dark:#ABB2BF">;</span></span><span class="line"><span style="color:#A626A4;--shiki-dark:#C678DD">    const</span><span style="color:#986801;--shiki-dark:#E5C07B"> tabsContainerId</span><span style="color:#0184BC;--shiki-dark:#56B6C2"> =</span><span style="color:#383A42;--shiki-dark:#E5C07B"> targetId</span><span style="color:#383A42;--shiki-dark:#ABB2BF">.</span><span style="color:#4078F2;--shiki-dark:#61AFEF">split</span><span style="color:#383A42;--shiki-dark:#ABB2BF">(</span><span style="color:#50A14F;--shiki-dark:#98C379">'-'</span><span style="color:#383A42;--shiki-dark:#ABB2BF">)[</span><span style="color:#986801;--shiki-dark:#D19A66">0</span><span style="color:#383A42;--shiki-dark:#ABB2BF">];</span></span><span class="line"></span><span class="line"><span style="color:#A626A4;--shiki-dark:#C678DD">    const</span><span style="color:#986801;--shiki-dark:#E5C07B"> tabsContainer</span><span style="color:#0184BC;--shiki-dark:#56B6C2"> =</span><span style="color:#383A42;--shiki-dark:#E5C07B"> document</span><span style="color:#383A42;--shiki-dark:#ABB2BF">.</span><span style="color:#4078F2;--shiki-dark:#61AFEF">querySelector</span><span style="color:#383A42;--shiki-dark:#ABB2BF">(</span><span style="color:#50A14F;--shiki-dark:#98C379">`#</span><span style="color:#CA1243;--shiki-dark:#C678DD">$&#123;</span><span style="color:#383A42;--shiki-dark:#E06C75">tabsContainerId</span><span style="color:#CA1243;--shiki-dark:#C678DD">&#125;</span><span style="color:#50A14F;--shiki-dark:#98C379">`</span><span style="color:#383A42;--shiki-dark:#ABB2BF">);</span></span><span class="line"><span style="color:#A626A4;--shiki-dark:#C678DD">    if</span><span style="color:#383A42;--shiki-dark:#ABB2BF"> (</span><span style="color:#0184BC;--shiki-dark:#56B6C2">!</span><span style="color:#383A42;--shiki-dark:#E06C75">tabsContainer</span><span style="color:#383A42;--shiki-dark:#ABB2BF">) </span><span style="color:#A626A4;--shiki-dark:#C678DD">return</span><span style="color:#383A42;--shiki-dark:#ABB2BF">;</span></span><span class="line"></span><span class="line"><span style="color:#A0A1A7;font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">    // 处理 nav-tabs 部分</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#E5C07B">    tabsContainer</span><span style="color:#383A42;--shiki-dark:#ABB2BF">.</span><span style="color:#4078F2;--shiki-dark:#61AFEF">querySelectorAll</span><span style="color:#383A42;--shiki-dark:#ABB2BF">(</span><span style="color:#50A14F;--shiki-dark:#98C379">'.nav-tabs .tab'</span><span style="color:#383A42;--shiki-dark:#ABB2BF">).</span><span style="color:#4078F2;--shiki-dark:#61AFEF">forEach</span><span style="color:#383A42;--shiki-dark:#ABB2BF">(</span><span style="color:#383A42;font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic">tab</span><span style="color:#A626A4;--shiki-dark:#C678DD"> =></span><span style="color:#383A42;--shiki-dark:#ABB2BF"> &#123;</span></span><span class="line"><span style="color:#A626A4;--shiki-dark:#C678DD">        if</span><span style="color:#383A42;--shiki-dark:#ABB2BF"> (</span><span style="color:#383A42;--shiki-dark:#E5C07B">tab</span><span style="color:#383A42;--shiki-dark:#ABB2BF">.</span><span style="color:#E45649;--shiki-dark:#E5C07B">dataset</span><span style="color:#383A42;--shiki-dark:#ABB2BF">.</span><span style="color:#E45649;--shiki-dark:#E5C07B">target</span><span style="color:#383A42;--shiki-dark:#ABB2BF">.</span><span style="color:#4078F2;--shiki-dark:#61AFEF">split</span><span style="color:#383A42;--shiki-dark:#ABB2BF">(</span><span style="color:#50A14F;--shiki-dark:#98C379">'-'</span><span style="color:#383A42;--shiki-dark:#ABB2BF">)[</span><span style="color:#986801;--shiki-dark:#D19A66">0</span><span style="color:#383A42;--shiki-dark:#ABB2BF">] </span><span style="color:#0184BC;--shiki-dark:#56B6C2">===</span><span style="color:#383A42;--shiki-dark:#E06C75"> tabsContainerId</span><span style="color:#383A42;--shiki-dark:#ABB2BF">) &#123;</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#E5C07B">            tab</span><span style="color:#383A42;--shiki-dark:#ABB2BF">.</span><span style="color:#E45649;--shiki-dark:#E5C07B">classList</span><span style="color:#383A42;--shiki-dark:#ABB2BF">.</span><span style="color:#4078F2;--shiki-dark:#61AFEF">toggle</span><span style="color:#383A42;--shiki-dark:#ABB2BF">(</span><span style="color:#50A14F;--shiki-dark:#98C379">'active'</span><span style="color:#383A42;--shiki-dark:#ABB2BF">, </span><span style="color:#383A42;--shiki-dark:#E06C75">tab</span><span style="color:#0184BC;--shiki-dark:#56B6C2"> ===</span><span style="color:#383A42;--shiki-dark:#E06C75"> clickedTab</span><span style="color:#383A42;--shiki-dark:#ABB2BF">);</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">        &#125;</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">    &#125;);</span></span><span class="line"></span><span class="line"><span style="color:#A0A1A7;font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">    // 处理 tab-contents 部分</span></span><span class="line"><span style="color:#A626A4;--shiki-dark:#C678DD">    if</span><span style="color:#383A42;--shiki-dark:#ABB2BF"> (</span><span style="color:#383A42;--shiki-dark:#E06C75">targetId</span><span style="color:#383A42;--shiki-dark:#ABB2BF">) &#123;</span></span><span class="line"><span style="color:#A626A4;--shiki-dark:#C678DD">        const</span><span style="color:#986801;--shiki-dark:#E5C07B"> contentToShow</span><span style="color:#0184BC;--shiki-dark:#56B6C2"> =</span><span style="color:#383A42;--shiki-dark:#E5C07B"> tabsContainer</span><span style="color:#383A42;--shiki-dark:#ABB2BF">.</span><span style="color:#4078F2;--shiki-dark:#61AFEF">querySelector</span><span style="color:#383A42;--shiki-dark:#ABB2BF">(</span><span style="color:#50A14F;--shiki-dark:#98C379">`#</span><span style="color:#CA1243;--shiki-dark:#C678DD">$&#123;</span><span style="color:#383A42;--shiki-dark:#E06C75">targetId</span><span style="color:#CA1243;--shiki-dark:#C678DD">&#125;</span><span style="color:#50A14F;--shiki-dark:#98C379">`</span><span style="color:#383A42;--shiki-dark:#ABB2BF">);</span></span><span class="line"><span style="color:#A626A4;--shiki-dark:#C678DD">        if</span><span style="color:#383A42;--shiki-dark:#ABB2BF"> (</span><span style="color:#383A42;--shiki-dark:#E06C75">contentToShow</span><span style="color:#383A42;--shiki-dark:#ABB2BF">) &#123;</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#E5C07B">            tabsContainer</span><span style="color:#383A42;--shiki-dark:#ABB2BF">.</span><span style="color:#4078F2;--shiki-dark:#61AFEF">querySelectorAll</span><span style="color:#383A42;--shiki-dark:#ABB2BF">(</span><span style="color:#50A14F;--shiki-dark:#98C379">'.tab-contents .tab-item-content'</span><span style="color:#383A42;--shiki-dark:#ABB2BF">).</span><span style="color:#4078F2;--shiki-dark:#61AFEF">forEach</span><span style="color:#383A42;--shiki-dark:#ABB2BF">(</span><span style="color:#383A42;font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic">content</span><span style="color:#A626A4;--shiki-dark:#C678DD"> =></span><span style="color:#383A42;--shiki-dark:#ABB2BF"> &#123;</span></span><span class="line"><span style="color:#A626A4;--shiki-dark:#C678DD">                if</span><span style="color:#383A42;--shiki-dark:#ABB2BF"> (</span><span style="color:#383A42;--shiki-dark:#E5C07B">content</span><span style="color:#383A42;--shiki-dark:#ABB2BF">.</span><span style="color:#E45649;--shiki-dark:#E5C07B">id</span><span style="color:#383A42;--shiki-dark:#ABB2BF">.</span><span style="color:#4078F2;--shiki-dark:#61AFEF">split</span><span style="color:#383A42;--shiki-dark:#ABB2BF">(</span><span style="color:#50A14F;--shiki-dark:#98C379">'-'</span><span style="color:#383A42;--shiki-dark:#ABB2BF">)[</span><span style="color:#986801;--shiki-dark:#D19A66">0</span><span style="color:#383A42;--shiki-dark:#ABB2BF">] </span><span style="color:#0184BC;--shiki-dark:#56B6C2">===</span><span style="color:#383A42;--shiki-dark:#E06C75"> tabsContainerId</span><span style="color:#383A42;--shiki-dark:#ABB2BF">) &#123;</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#E5C07B">                    content</span><span style="color:#383A42;--shiki-dark:#ABB2BF">.</span><span style="color:#E45649;--shiki-dark:#E5C07B">classList</span><span style="color:#383A42;--shiki-dark:#ABB2BF">.</span><span style="color:#4078F2;--shiki-dark:#61AFEF">toggle</span><span style="color:#383A42;--shiki-dark:#ABB2BF">(</span><span style="color:#50A14F;--shiki-dark:#98C379">'active'</span><span style="color:#383A42;--shiki-dark:#ABB2BF">, </span><span style="color:#383A42;--shiki-dark:#E06C75">content</span><span style="color:#0184BC;--shiki-dark:#56B6C2"> ===</span><span style="color:#383A42;--shiki-dark:#E06C75"> contentToShow</span><span style="color:#383A42;--shiki-dark:#ABB2BF">);</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">                &#125;</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">            &#125;);</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">        &#125;</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">    &#125;</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">&#125;</span></span><span class="line"></span><span class="line"><span style="color:#A626A4;--shiki-dark:#C678DD">const</span><span style="color:#4078F2;--shiki-dark:#61AFEF"> handleScrollToTop</span><span style="color:#0184BC;--shiki-dark:#56B6C2"> =</span><span style="color:#383A42;--shiki-dark:#ABB2BF"> (</span><span style="color:#383A42;font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic">event</span><span style="color:#383A42;--shiki-dark:#ABB2BF">) </span><span style="color:#A626A4;--shiki-dark:#C678DD">=></span><span style="color:#383A42;--shiki-dark:#ABB2BF"> &#123;</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#E5C07B">    event</span><span style="color:#383A42;--shiki-dark:#ABB2BF">.</span><span style="color:#4078F2;--shiki-dark:#61AFEF">stopPropagation</span><span style="color:#383A42;--shiki-dark:#ABB2BF">(); </span><span style="color:#A0A1A7;font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">// 阻止事件冒泡</span></span><span class="line"></span><span class="line"><span style="color:#A0A1A7;font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">    // 找到当前按钮所在的选项卡组</span></span><span class="line"><span style="color:#A626A4;--shiki-dark:#C678DD">    const</span><span style="color:#986801;--shiki-dark:#E5C07B"> tabGroup</span><span style="color:#0184BC;--shiki-dark:#56B6C2"> =</span><span style="color:#383A42;--shiki-dark:#E5C07B"> event</span><span style="color:#383A42;--shiki-dark:#ABB2BF">.</span><span style="color:#E45649;--shiki-dark:#E5C07B">currentTarget</span><span style="color:#383A42;--shiki-dark:#ABB2BF">.</span><span style="color:#4078F2;--shiki-dark:#61AFEF">closest</span><span style="color:#383A42;--shiki-dark:#ABB2BF">(</span><span style="color:#50A14F;--shiki-dark:#98C379">'.tabs'</span><span style="color:#383A42;--shiki-dark:#ABB2BF">);</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#E5C07B">    window</span><span style="color:#383A42;--shiki-dark:#ABB2BF">.</span><span style="color:#4078F2;--shiki-dark:#61AFEF">scrollTo</span><span style="color:#383A42;--shiki-dark:#ABB2BF">(&#123; </span><span style="color:#E45649;--shiki-dark:#E06C75">top</span><span style="color:#0184BC;--shiki-dark:#ABB2BF">:</span><span style="color:#4078F2;--shiki-dark:#61AFEF"> getEleTop</span><span style="color:#383A42;--shiki-dark:#ABB2BF">(</span><span style="color:#383A42;--shiki-dark:#E06C75">tabGroup</span><span style="color:#383A42;--shiki-dark:#ABB2BF">) </span><span style="color:#0184BC;--shiki-dark:#56B6C2">-</span><span style="color:#986801;--shiki-dark:#D19A66"> 70</span><span style="color:#383A42;--shiki-dark:#ABB2BF">, </span><span style="color:#E45649;--shiki-dark:#E06C75">behavior</span><span style="color:#0184BC;--shiki-dark:#ABB2BF">:</span><span style="color:#50A14F;--shiki-dark:#98C379"> 'smooth'</span><span style="color:#383A42;--shiki-dark:#ABB2BF"> &#125;);</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">&#125;</span></span><span class="line"></span><span class="line"><span style="color:#A626A4;--shiki-dark:#C678DD">const</span><span style="color:#4078F2;--shiki-dark:#61AFEF"> tabsFn</span><span style="color:#0184BC;--shiki-dark:#56B6C2"> =</span><span style="color:#383A42;--shiki-dark:#ABB2BF"> () </span><span style="color:#A626A4;--shiki-dark:#C678DD">=></span><span style="color:#383A42;--shiki-dark:#ABB2BF"> &#123;</span></span><span class="line"><span style="color:#4078F2;--shiki-dark:#61AFEF">    initializeTabs</span><span style="color:#383A42;--shiki-dark:#ABB2BF">();</span></span><span class="line"><span style="color:#4078F2;--shiki-dark:#61AFEF">    initializeScrollToTopButtons</span><span style="color:#383A42;--shiki-dark:#ABB2BF">();</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">&#125;</span></span><span class="line"><span style="color:#A0A1A7;font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">/* &#x3C;---- Tabs End ----> */</span></span><span class="line"></span><span class="line"><span style="color:#A626A4;--shiki-dark:#C678DD">function</span><span style="color:#4078F2;--shiki-dark:#61AFEF"> tagsFn</span><span style="color:#383A42;--shiki-dark:#ABB2BF">() &#123;</span></span><span class="line"><span style="color:#4078F2;--shiki-dark:#61AFEF">    tabsFn</span><span style="color:#383A42;--shiki-dark:#ABB2BF">();</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">&#125;</span></span><span class="line"></span><span class="line"><span style="color:#383A42;--shiki-dark:#E5C07B">document</span><span style="color:#383A42;--shiki-dark:#ABB2BF">.</span><span style="color:#4078F2;--shiki-dark:#61AFEF">addEventListener</span><span style="color:#383A42;--shiki-dark:#ABB2BF">(</span><span style="color:#50A14F;--shiki-dark:#98C379">'DOMContentLoaded'</span><span style="color:#383A42;--shiki-dark:#ABB2BF">, () </span><span style="color:#A626A4;--shiki-dark:#C678DD">=></span><span style="color:#383A42;--shiki-dark:#ABB2BF"> &#123;</span></span><span class="line"><span style="color:#4078F2;--shiki-dark:#61AFEF">    tagsFn</span><span style="color:#383A42;--shiki-dark:#ABB2BF">();</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">&#125;);</span></span></code></pre></td></tr></tbody></table></figure> 在 <code>_config.fluid.yml</code>中修改 <code>custom_js</code> 配置项： <figure class="highlight yaml"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre class="shiki shiki-themes one-light one-dark-pro"><span class="line"><span style="color:#E45649;--shiki-dark:#E06C75">custom_js</span><span style="color:#383A42;--shiki-dark:#ABB2BF">:</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">  - </span><span style="color:#50A14F;--shiki-dark:#98C379">custom/js/tags.js</span></span></code></pre></td></tr></tbody></table></figure> 使用<code>hexo cl &amp;&amp; hexo g &amp;&amp; hexo s</code>三连，即可正常渲染并使用选项卡了。</p><h3 id="bug-解决">BUG 解决</h3><p>移植的 Tabs 选项卡标签插件可能会与 Fluid主题的某些配置冲突，以下是解决方案：</p><details><summary>数学公式引擎为KaTeX</summary><p>KaTeX 使用的 <code>hexo-markdown-it</code> 渲染引擎会与<code>tocbot</code>冲突，导致右侧的目录栏的一级目录无法正确跳转，请参考<a href="#数学公式">我的另一篇博文</a>解决该bug。</p></details><details><summary>数学公式引擎为mathjax</summary><p>mathjax 使用的 <code>hexo-renderer-pandoc</code> 渲染引擎会与主题自带<code>note</code> 标签冲突，导致内部嵌套的 note 标签会出错： <imgsrc="https://bu.dusays.com/2024/10/28/671f2a81ca3d6.png"alt="就像这样" /></p><p><strong>解决方案</strong>：虽然很不情愿，也有违本篇博客描述的「非侵入式」，但由于在博客的<code>scripts</code> 目录下修改，会因为加载时间问题无法覆盖主题的 notetag，所以这个 bug 必须修改主题源文件。把<code>node_modules/hexo-theme-fluid/scripts/tags/note.js</code>返回语句的换行去掉即可： <figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre class="shiki shiki-themes one-light one-dark-pro"><span class="line"><span style="color:#50A14F;--shiki-dark:#98C379">'use strict'</span></span><span class="line"></span><span class="line"><span style="color:#A626A4;--shiki-dark:#C678DD">const</span><span style="color:#4078F2;--shiki-dark:#61AFEF"> note</span><span style="color:#0184BC;--shiki-dark:#56B6C2"> =</span><span style="color:#383A42;--shiki-dark:#ABB2BF"> (</span><span style="color:#383A42;font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic">args</span><span style="color:#383A42;--shiki-dark:#ABB2BF">, </span><span style="color:#383A42;font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic">content</span><span style="color:#383A42;--shiki-dark:#ABB2BF">) </span><span style="color:#A626A4;--shiki-dark:#C678DD">=></span><span style="color:#383A42;--shiki-dark:#ABB2BF"> &#123;</span></span><span class="line"><span style="color:#A626A4;--shiki-dark:#C678DD">    if</span><span style="color:#383A42;--shiki-dark:#ABB2BF"> (</span><span style="color:#0184BC;--shiki-dark:#56B6C2">!</span><span style="color:#383A42;--shiki-dark:#E06C75">args</span><span style="color:#0184BC;--shiki-dark:#56B6C2"> ||</span><span style="color:#0184BC;--shiki-dark:#56B6C2"> !</span><span style="color:#383A42;--shiki-dark:#E06C75">args</span><span style="color:#383A42;--shiki-dark:#ABB2BF">[</span><span style="color:#986801;--shiki-dark:#D19A66">0</span><span style="color:#383A42;--shiki-dark:#ABB2BF">] </span><span style="color:#0184BC;--shiki-dark:#56B6C2">||</span><span style="color:#383A42;--shiki-dark:#E06C75"> args</span><span style="color:#383A42;--shiki-dark:#ABB2BF">[</span><span style="color:#986801;--shiki-dark:#D19A66">0</span><span style="color:#383A42;--shiki-dark:#ABB2BF">].</span><span style="color:#4078F2;--shiki-dark:#61AFEF">toLowerCase</span><span style="color:#383A42;--shiki-dark:#ABB2BF">() </span><span style="color:#0184BC;--shiki-dark:#56B6C2">===</span><span style="color:#50A14F;--shiki-dark:#98C379"> "default"</span><span style="color:#383A42;--shiki-dark:#ABB2BF">) &#123;</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#E06C75">        args</span><span style="color:#0184BC;--shiki-dark:#56B6C2"> =</span><span style="color:#383A42;--shiki-dark:#ABB2BF"> [</span><span style="color:#383A42;--shiki-dark:#E5C07B">hexo</span><span style="color:#383A42;--shiki-dark:#ABB2BF">.</span><span style="color:#C18401;--shiki-dark:#E5C07B">theme</span><span style="color:#383A42;--shiki-dark:#ABB2BF">.</span><span style="color:#C18401;--shiki-dark:#E5C07B">config</span><span style="color:#383A42;--shiki-dark:#ABB2BF">.</span><span style="color:#C18401;--shiki-dark:#E5C07B">post</span><span style="color:#383A42;--shiki-dark:#ABB2BF">.</span><span style="color:#C18401;--shiki-dark:#E5C07B">updated</span><span style="color:#383A42;--shiki-dark:#ABB2BF">.</span><span style="color:#C18401;--shiki-dark:#E06C75">note_class</span><span style="color:#0184BC;--shiki-dark:#56B6C2"> ||</span><span style="color:#50A14F;--shiki-dark:#98C379"> "info"</span><span style="color:#383A42;--shiki-dark:#ABB2BF">];</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">    &#125;</span></span><span class="line"><span style="color:#A0A1A7;font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">    // 删掉换行</span></span><span class="line"><span style="color:#A0A1A7;font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">    // return `&#x3C;div class="note note-$&#123;args.join(' ')&#125;"></span></span><span class="line"><span style="color:#A0A1A7;font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">    //         $&#123;hexo.render.renderSync(&#123; text: content, engine: 'markdown' &#125;).split('\n').join('')&#125;</span></span><span class="line"><span style="color:#A0A1A7;font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">    //       &#x3C;/div>`;</span></span><span class="line"><span style="color:#A626A4;--shiki-dark:#C678DD">    return</span><span style="color:#50A14F;--shiki-dark:#98C379"> `&#x3C;div class="note note-</span><span style="color:#CA1243;--shiki-dark:#C678DD">$&#123;</span><span style="color:#383A42;--shiki-dark:#E5C07B">args</span><span style="color:#50A14F;--shiki-dark:#ABB2BF">.</span><span style="color:#4078F2;--shiki-dark:#61AFEF">join</span><span style="color:#383A42;--shiki-dark:#ABB2BF">(</span><span style="color:#CA1243;--shiki-dark:#98C379">'</span><span style="color:#CA1243;--shiki-dark:#98C379"> '</span><span style="color:#383A42;--shiki-dark:#ABB2BF">)</span><span style="color:#CA1243;--shiki-dark:#C678DD">&#125;</span><span style="color:#50A14F;--shiki-dark:#98C379">"></span><span style="color:#CA1243;--shiki-dark:#C678DD">$&#123;</span><span style="color:#383A42;--shiki-dark:#E5C07B">hexo</span><span style="color:#50A14F;--shiki-dark:#ABB2BF">.</span><span style="color:#E45649;--shiki-dark:#E5C07B">render</span><span style="color:#50A14F;--shiki-dark:#ABB2BF">.</span><span style="color:#4078F2;--shiki-dark:#61AFEF">renderSync</span><span style="color:#383A42;--shiki-dark:#ABB2BF">(&#123;</span><span style="color:#E45649;--shiki-dark:#E06C75"> text</span><span style="color:#0184BC;--shiki-dark:#ABB2BF">:</span><span style="color:#383A42;--shiki-dark:#E06C75"> content</span><span style="color:#383A42;--shiki-dark:#ABB2BF">,</span><span style="color:#E45649;--shiki-dark:#E06C75"> engine</span><span style="color:#0184BC;--shiki-dark:#ABB2BF">:</span><span style="color:#CA1243;--shiki-dark:#98C379"> '</span><span style="color:#50A14F;--shiki-dark:#98C379">markdown</span><span style="color:#CA1243;--shiki-dark:#98C379">'</span><span style="color:#383A42;--shiki-dark:#ABB2BF"> &#125;)</span><span style="color:#50A14F;--shiki-dark:#ABB2BF">.</span><span style="color:#4078F2;--shiki-dark:#61AFEF">split</span><span style="color:#383A42;--shiki-dark:#ABB2BF">(</span><span style="color:#CA1243;--shiki-dark:#98C379">'</span><span style="color:#0184BC;--shiki-dark:#56B6C2">\n</span><span style="color:#CA1243;--shiki-dark:#98C379">'</span><span style="color:#383A42;--shiki-dark:#ABB2BF">)</span><span style="color:#50A14F;--shiki-dark:#ABB2BF">.</span><span style="color:#4078F2;--shiki-dark:#61AFEF">join</span><span style="color:#383A42;--shiki-dark:#ABB2BF">(</span><span style="color:#CA1243;--shiki-dark:#98C379">''</span><span style="color:#383A42;--shiki-dark:#ABB2BF">)</span><span style="color:#CA1243;--shiki-dark:#C678DD">&#125;</span><span style="color:#50A14F;--shiki-dark:#98C379">&#x3C;/div>`</span><span style="color:#383A42;--shiki-dark:#ABB2BF">;</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">&#125;;</span></span><span class="line"></span><span class="line"><span style="color:#383A42;--shiki-dark:#E5C07B">hexo</span><span style="color:#383A42;--shiki-dark:#ABB2BF">.</span><span style="color:#E45649;--shiki-dark:#E5C07B">extend</span><span style="color:#383A42;--shiki-dark:#ABB2BF">.</span><span style="color:#E45649;--shiki-dark:#E5C07B">tag</span><span style="color:#383A42;--shiki-dark:#ABB2BF">.</span><span style="color:#4078F2;--shiki-dark:#61AFEF">unregister</span><span style="color:#383A42;--shiki-dark:#ABB2BF">(</span><span style="color:#50A14F;--shiki-dark:#98C379">'note'</span><span style="color:#383A42;--shiki-dark:#ABB2BF">) </span><span style="color:#A0A1A7;font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">// 重新注册 tag</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#E5C07B">hexo</span><span style="color:#383A42;--shiki-dark:#ABB2BF">.</span><span style="color:#E45649;--shiki-dark:#E5C07B">extend</span><span style="color:#383A42;--shiki-dark:#ABB2BF">.</span><span style="color:#E45649;--shiki-dark:#E5C07B">tag</span><span style="color:#383A42;--shiki-dark:#ABB2BF">.</span><span style="color:#4078F2;--shiki-dark:#61AFEF">register</span><span style="color:#383A42;--shiki-dark:#ABB2BF">(</span><span style="color:#50A14F;--shiki-dark:#98C379">'note'</span><span style="color:#383A42;--shiki-dark:#ABB2BF">, </span><span style="color:#383A42;--shiki-dark:#E06C75">note</span><span style="color:#383A42;--shiki-dark:#ABB2BF">, &#123; </span><span style="color:#E45649;--shiki-dark:#E06C75">ends</span><span style="color:#0184BC;--shiki-dark:#ABB2BF">:</span><span style="color:#986801;--shiki-dark:#D19A66"> true</span><span style="color:#383A42;--shiki-dark:#ABB2BF"> &#125;)</span></span></code></pre></td></tr></tbody></table></figure></p><p>此外，按照上述方法修复 BUG 后，还会有三重嵌套的 Tab 无法使用的BUG，不过正常情况下应该用不上三重嵌套就没管。</p></details><h2 id="链接卡片">链接卡片</h2><p>这个标签移植自 <ahref="https://github.com/Akilarlxh/hexo-butterfly-tag-plugins-plus"><code>hexo-butterfly-tag-plugins-plus</code></a>插件，基本属于复制过来就完事。</p><h3 id="效果演示-1">效果演示</h3><div class="tabs" id="链接卡片,"><ul class="nav-tabs"><li class="tab"><button type="button" data-href="#链接卡片,-0">标签语法</button></li><li class="tab"><button type="button" data-href="#链接卡片,-1">样式预览</button></li><li class="tab active"><button type="button" data-href="#链接卡片,-2">示例源码</button></li></ul><div class="tab-contents"><div class="tab-item-content" id="链接卡片,-0"><figure class="highlight markdown"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre class="shiki shiki-themes one-light one-dark-pro"><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">&#123;% linkcard 标题, 链接, 图片链接（可选） %&#125;</span></span></code></pre></td></tr></tbody></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="solitude fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="链接卡片,-1"><a class="tag-link" href="https://blog.hpcesia.com/," target="_blank"><div class="tag-link-tips">引用站外链接</div><div class="tag-link-bottom"><div class="tag-link-left"><i class="solitude fas fa-link"></i></div><div class="tag-link-right"><div class="tag-link-title">HPCesia</div><div class="tag-link-sitename">的摆烂小屋,</div></div><i class="solitude fas fa-chevron-right"></i></div><p></a></p><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="solitude fas fa-arrow-up"></i></button></div><div class="tab-item-content active" id="链接卡片,-2"><figure class="highlight markdown"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre class="shiki shiki-themes one-light one-dark-pro"><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">&#123;% linkcard HPCesia 的摆烂小屋, https://blog.hpcesia.com/, /img/pwa/favicon.png %&#125;</span></span></code></pre></td></tr></tbody></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="solitude fas fa-arrow-up"></i></button></div></div></div><h3 id="配置-1">配置</h3><p>在 <code>scripts\tags</code> 目录下新建 <code>linkcard.js</code>文件，添加如下内容： <figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre class="shiki shiki-themes one-light one-dark-pro"><span class="line"><span style="color:#50A14F;--shiki-dark:#98C379">'use strict'</span><span style="color:#383A42;--shiki-dark:#ABB2BF">;</span></span><span class="line"></span><span class="line"><span style="color:#A0A1A7;font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">// &#123;% linkcard title, url %&#125;</span></span><span class="line"><span style="color:#A0A1A7;font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">// &#123;% linkcard title, url, img %&#125;</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#E5C07B">hexo</span><span style="color:#383A42;--shiki-dark:#ABB2BF">.</span><span style="color:#E45649;--shiki-dark:#E5C07B">extend</span><span style="color:#383A42;--shiki-dark:#ABB2BF">.</span><span style="color:#E45649;--shiki-dark:#E5C07B">tag</span><span style="color:#383A42;--shiki-dark:#ABB2BF">.</span><span style="color:#4078F2;--shiki-dark:#61AFEF">register</span><span style="color:#383A42;--shiki-dark:#ABB2BF">(</span><span style="color:#50A14F;--shiki-dark:#98C379">'linkcard'</span><span style="color:#383A42;--shiki-dark:#ABB2BF">, </span><span style="color:#A626A4;--shiki-dark:#C678DD">function</span><span style="color:#383A42;--shiki-dark:#ABB2BF"> (</span><span style="color:#383A42;font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic">args</span><span style="color:#383A42;--shiki-dark:#ABB2BF">) &#123;</span></span><span class="line"><span style="color:#A626A4;--shiki-dark:#C678DD">    var</span><span style="color:#383A42;--shiki-dark:#E06C75"> configtemp</span><span style="color:#0184BC;--shiki-dark:#56B6C2"> =</span><span style="color:#383A42;--shiki-dark:#E5C07B"> hexo</span><span style="color:#383A42;--shiki-dark:#ABB2BF">.</span><span style="color:#E45649;--shiki-dark:#E5C07B">config</span><span style="color:#383A42;--shiki-dark:#ABB2BF">.</span><span style="color:#E45649;--shiki-dark:#E06C75">tag_plugins</span><span style="color:#0184BC;--shiki-dark:#56B6C2"> ||</span><span style="color:#383A42;--shiki-dark:#E5C07B"> hexo</span><span style="color:#383A42;--shiki-dark:#ABB2BF">.</span><span style="color:#E45649;--shiki-dark:#E5C07B">theme</span><span style="color:#383A42;--shiki-dark:#ABB2BF">.</span><span style="color:#E45649;--shiki-dark:#E5C07B">config</span><span style="color:#383A42;--shiki-dark:#ABB2BF">.</span><span style="color:#E45649;--shiki-dark:#E06C75">tag_plugins</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#E06C75">    args</span><span style="color:#0184BC;--shiki-dark:#56B6C2"> =</span><span style="color:#383A42;--shiki-dark:#E5C07B"> args</span><span style="color:#383A42;--shiki-dark:#ABB2BF">.</span><span style="color:#4078F2;--shiki-dark:#61AFEF">join</span><span style="color:#383A42;--shiki-dark:#ABB2BF">(</span><span style="color:#50A14F;--shiki-dark:#98C379">' '</span><span style="color:#383A42;--shiki-dark:#ABB2BF">).</span><span style="color:#4078F2;--shiki-dark:#61AFEF">split</span><span style="color:#383A42;--shiki-dark:#ABB2BF">(</span><span style="color:#50A14F;--shiki-dark:#98C379">','</span><span style="color:#383A42;--shiki-dark:#ABB2BF">)</span></span><span class="line"><span style="color:#A626A4;--shiki-dark:#C678DD">    let</span><span style="color:#383A42;--shiki-dark:#E06C75"> text</span><span style="color:#0184BC;--shiki-dark:#56B6C2"> =</span><span style="color:#50A14F;--shiki-dark:#98C379"> ''</span></span><span class="line"><span style="color:#A626A4;--shiki-dark:#C678DD">    let</span><span style="color:#383A42;--shiki-dark:#E06C75"> url</span><span style="color:#0184BC;--shiki-dark:#56B6C2"> =</span><span style="color:#50A14F;--shiki-dark:#98C379"> ''</span></span><span class="line"><span style="color:#A626A4;--shiki-dark:#C678DD">    let</span><span style="color:#383A42;--shiki-dark:#E06C75"> img</span><span style="color:#0184BC;--shiki-dark:#56B6C2"> =</span><span style="color:#50A14F;--shiki-dark:#98C379"> ''</span></span><span class="line"><span style="color:#A626A4;--shiki-dark:#C678DD">    if</span><span style="color:#383A42;--shiki-dark:#ABB2BF"> (</span><span style="color:#383A42;--shiki-dark:#E5C07B">args</span><span style="color:#383A42;--shiki-dark:#ABB2BF">.</span><span style="color:#E45649;--shiki-dark:#E06C75">length</span><span style="color:#0184BC;--shiki-dark:#56B6C2"> &#x3C;</span><span style="color:#986801;--shiki-dark:#D19A66"> 2</span><span style="color:#383A42;--shiki-dark:#ABB2BF">) &#123;</span></span><span class="line"><span style="color:#A626A4;--shiki-dark:#C678DD">        return</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">    &#125; </span><span style="color:#A626A4;--shiki-dark:#C678DD">else</span><span style="color:#A626A4;--shiki-dark:#C678DD"> if</span><span style="color:#383A42;--shiki-dark:#ABB2BF"> (</span><span style="color:#383A42;--shiki-dark:#E5C07B">args</span><span style="color:#383A42;--shiki-dark:#ABB2BF">.</span><span style="color:#E45649;--shiki-dark:#E06C75">length</span><span style="color:#0184BC;--shiki-dark:#56B6C2"> ==</span><span style="color:#986801;--shiki-dark:#D19A66"> 2</span><span style="color:#383A42;--shiki-dark:#ABB2BF">) &#123;</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#E06C75">        text</span><span style="color:#0184BC;--shiki-dark:#56B6C2"> =</span><span style="color:#383A42;--shiki-dark:#E06C75"> args</span><span style="color:#383A42;--shiki-dark:#ABB2BF">[</span><span style="color:#986801;--shiki-dark:#D19A66">0</span><span style="color:#383A42;--shiki-dark:#ABB2BF">].</span><span style="color:#4078F2;--shiki-dark:#61AFEF">trim</span><span style="color:#383A42;--shiki-dark:#ABB2BF">()</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#E06C75">        url</span><span style="color:#0184BC;--shiki-dark:#56B6C2"> =</span><span style="color:#383A42;--shiki-dark:#E06C75"> args</span><span style="color:#383A42;--shiki-dark:#ABB2BF">[</span><span style="color:#986801;--shiki-dark:#D19A66">1</span><span style="color:#383A42;--shiki-dark:#ABB2BF">].</span><span style="color:#4078F2;--shiki-dark:#61AFEF">trim</span><span style="color:#383A42;--shiki-dark:#ABB2BF">()</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">    &#125; </span><span style="color:#A626A4;--shiki-dark:#C678DD">else</span><span style="color:#A626A4;--shiki-dark:#C678DD"> if</span><span style="color:#383A42;--shiki-dark:#ABB2BF"> (</span><span style="color:#383A42;--shiki-dark:#E5C07B">args</span><span style="color:#383A42;--shiki-dark:#ABB2BF">.</span><span style="color:#E45649;--shiki-dark:#E06C75">length</span><span style="color:#0184BC;--shiki-dark:#56B6C2"> ==</span><span style="color:#986801;--shiki-dark:#D19A66"> 3</span><span style="color:#383A42;--shiki-dark:#ABB2BF">) &#123;</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#E06C75">        text</span><span style="color:#0184BC;--shiki-dark:#56B6C2"> =</span><span style="color:#383A42;--shiki-dark:#E06C75"> args</span><span style="color:#383A42;--shiki-dark:#ABB2BF">[</span><span style="color:#986801;--shiki-dark:#D19A66">0</span><span style="color:#383A42;--shiki-dark:#ABB2BF">].</span><span style="color:#4078F2;--shiki-dark:#61AFEF">trim</span><span style="color:#383A42;--shiki-dark:#ABB2BF">()</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#E06C75">        url</span><span style="color:#0184BC;--shiki-dark:#56B6C2"> =</span><span style="color:#383A42;--shiki-dark:#E06C75"> args</span><span style="color:#383A42;--shiki-dark:#ABB2BF">[</span><span style="color:#986801;--shiki-dark:#D19A66">1</span><span style="color:#383A42;--shiki-dark:#ABB2BF">].</span><span style="color:#4078F2;--shiki-dark:#61AFEF">trim</span><span style="color:#383A42;--shiki-dark:#ABB2BF">()</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#E06C75">        img</span><span style="color:#0184BC;--shiki-dark:#56B6C2"> =</span><span style="color:#383A42;--shiki-dark:#E06C75"> args</span><span style="color:#383A42;--shiki-dark:#ABB2BF">[</span><span style="color:#986801;--shiki-dark:#D19A66">2</span><span style="color:#383A42;--shiki-dark:#ABB2BF">].</span><span style="color:#4078F2;--shiki-dark:#61AFEF">trim</span><span style="color:#383A42;--shiki-dark:#ABB2BF">()</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">    &#125;</span></span><span class="line"><span style="color:#A626A4;--shiki-dark:#C678DD">    let</span><span style="color:#383A42;--shiki-dark:#E06C75"> result</span><span style="color:#0184BC;--shiki-dark:#56B6C2"> =</span><span style="color:#50A14F;--shiki-dark:#98C379"> ''</span><span style="color:#383A42;--shiki-dark:#ABB2BF">;</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#E06C75">    result</span><span style="color:#0184BC;--shiki-dark:#56B6C2"> +=</span><span style="color:#50A14F;--shiki-dark:#98C379"> '&#x3C;div class="tag linkcard">&#x3C;a class="link-card" title="'</span><span style="color:#0184BC;--shiki-dark:#56B6C2"> +</span><span style="color:#383A42;--shiki-dark:#E06C75"> text</span><span style="color:#0184BC;--shiki-dark:#56B6C2"> +</span><span style="color:#50A14F;--shiki-dark:#98C379"> '" href="'</span><span style="color:#0184BC;--shiki-dark:#56B6C2"> +</span><span style="color:#383A42;--shiki-dark:#E06C75"> url</span><span style="color:#0184BC;--shiki-dark:#56B6C2"> +</span><span style="color:#50A14F;--shiki-dark:#98C379"> '">'</span><span style="color:#383A42;--shiki-dark:#ABB2BF">;</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#E06C75">    result</span><span style="color:#0184BC;--shiki-dark:#56B6C2"> +=</span><span style="color:#50A14F;--shiki-dark:#98C379"> '&#x3C;div class="left">'</span><span style="color:#383A42;--shiki-dark:#ABB2BF">;</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#E06C75">    result</span><span style="color:#0184BC;--shiki-dark:#56B6C2"> +=</span><span style="color:#50A14F;--shiki-dark:#98C379"> '&#x3C;img src="'</span><span style="color:#0184BC;--shiki-dark:#56B6C2"> +</span><span style="color:#383A42;--shiki-dark:#ABB2BF"> (</span><span style="color:#383A42;--shiki-dark:#E06C75">img</span><span style="color:#0184BC;--shiki-dark:#56B6C2"> ||</span><span style="color:#383A42;--shiki-dark:#E5C07B"> configtemp</span><span style="color:#383A42;--shiki-dark:#ABB2BF">.</span><span style="color:#E45649;--shiki-dark:#E5C07B">link</span><span style="color:#383A42;--shiki-dark:#ABB2BF">.</span><span style="color:#E45649;--shiki-dark:#E06C75">placeholder</span><span style="color:#383A42;--shiki-dark:#ABB2BF">) </span><span style="color:#0184BC;--shiki-dark:#56B6C2">+</span><span style="color:#50A14F;--shiki-dark:#98C379"> '"/>'</span><span style="color:#383A42;--shiki-dark:#ABB2BF">;</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#E06C75">    result</span><span style="color:#0184BC;--shiki-dark:#56B6C2"> +=</span><span style="color:#50A14F;--shiki-dark:#98C379"> '&#x3C;/div>'</span><span style="color:#383A42;--shiki-dark:#ABB2BF">;</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#E06C75">    result</span><span style="color:#0184BC;--shiki-dark:#56B6C2"> +=</span><span style="color:#50A14F;--shiki-dark:#98C379"> '&#x3C;div class="right">&#x3C;p class="text">'</span><span style="color:#0184BC;--shiki-dark:#56B6C2"> +</span><span style="color:#383A42;--shiki-dark:#E06C75"> text</span><span style="color:#0184BC;--shiki-dark:#56B6C2"> +</span><span style="color:#50A14F;--shiki-dark:#98C379"> '&#x3C;/p>&#x3C;p class="url">'</span><span style="color:#0184BC;--shiki-dark:#56B6C2"> +</span><span style="color:#383A42;--shiki-dark:#E06C75"> url</span><span style="color:#0184BC;--shiki-dark:#56B6C2"> +</span><span style="color:#50A14F;--shiki-dark:#98C379"> '&#x3C;/p>&#x3C;/div>'</span><span style="color:#383A42;--shiki-dark:#ABB2BF">;</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#E06C75">    result</span><span style="color:#0184BC;--shiki-dark:#56B6C2"> +=</span><span style="color:#50A14F;--shiki-dark:#98C379"> '&#x3C;/a>&#x3C;/div>'</span><span style="color:#383A42;--shiki-dark:#ABB2BF">;</span></span><span class="line"></span><span class="line"><span style="color:#A626A4;--shiki-dark:#C678DD">    return</span><span style="color:#383A42;--shiki-dark:#E06C75"> result</span><span style="color:#383A42;--shiki-dark:#ABB2BF">;</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">&#125;);</span></span></code></pre></td></tr></tbody></table></figure></p><p>在 <code>source/custom/css/_tags</code> 中创建<code>linkcard.styl</code> 文件，添加如下内容： <figure class="highlight stylus"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br></pre></td><td class="code"><pre class="shiki shiki-themes one-light one-dark-pro"><span class="line"><span style="color:#986801;--shiki-dark:#D19A66">.tag.linkcard</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">  text-align </span><span style="color:#383A42;--shiki-dark:#D19A66">center</span></span><span class="line"></span><span class="line"><span style="color:#E45649;--shiki-dark:#E06C75">a</span></span><span class="line"><span style="color:#A626A4;--shiki-dark:#C678DD">  &#x26;</span><span style="color:#986801;--shiki-dark:#D19A66">.link-card</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">    margin </span><span style="color:#986801;--shiki-dark:#D19A66">0.25</span><span style="color:#986801;--shiki-dark:#E06C75">rem</span><span style="color:#383A42;--shiki-dark:#D19A66"> auto</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">    background </span><span style="color:#986801;--shiki-dark:#D19A66">#</span><span style="color:#0184BC;--shiki-dark:#D19A66">f6f6f6</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">    display inline-flex</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">    align-items </span><span style="color:#383A42;--shiki-dark:#D19A66">center</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">    cursor </span><span style="color:#383A42;--shiki-dark:#D19A66">pointer</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">    text-align </span><span style="color:#383A42;--shiki-dark:#D19A66">center</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">    min-width </span><span style="color:#986801;--shiki-dark:#D19A66">200</span><span style="color:#986801;--shiki-dark:#E06C75">px</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">    max-width </span><span style="color:#986801;--shiki-dark:#D19A66">361</span><span style="color:#986801;--shiki-dark:#E06C75">px</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">    color </span><span style="color:#986801;--shiki-dark:#D19A66">#</span><span style="color:#0184BC;--shiki-dark:#D19A66">444</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">    border-radius </span><span style="color:#986801;--shiki-dark:#D19A66">12</span><span style="color:#986801;--shiki-dark:#E06C75">px</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">    text-decoration </span><span style="color:#383A42;--shiki-dark:#D19A66">none</span></span><span class="line"><span style="color:#A626A4;--shiki-dark:#C678DD">    &#x26;</span><span style="color:#986801;--shiki-dark:#56B6C2">:hover</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">      box-shadow </span><span style="color:#986801;--shiki-dark:#D19A66">0</span><span style="color:#986801;--shiki-dark:#D19A66"> 4</span><span style="color:#986801;--shiki-dark:#E06C75">px</span><span style="color:#986801;--shiki-dark:#D19A66"> 8</span><span style="color:#986801;--shiki-dark:#E06C75">px</span><span style="color:#986801;--shiki-dark:#D19A66"> 0</span><span style="color:#4078F2;--shiki-dark:#61AFEF"> rgba</span><span style="color:#383A42;--shiki-dark:#ABB2BF">(</span><span style="color:#986801;--shiki-dark:#D19A66">0</span><span style="color:#383A42;--shiki-dark:#ABB2BF">, </span><span style="color:#986801;--shiki-dark:#D19A66">0</span><span style="color:#383A42;--shiki-dark:#ABB2BF">, </span><span style="color:#986801;--shiki-dark:#D19A66">0</span><span style="color:#383A42;--shiki-dark:#ABB2BF">, </span><span style="color:#986801;--shiki-dark:#D19A66">0.1</span><span style="color:#383A42;--shiki-dark:#ABB2BF">)</span></span><span class="line"><span style="color:#E45649;--shiki-dark:#E06C75">    div</span></span><span class="line"><span style="color:#A626A4;--shiki-dark:#C678DD">      &#x26;</span><span style="color:#986801;--shiki-dark:#D19A66">.left</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">        width </span><span style="color:#986801;--shiki-dark:#D19A66">48</span><span style="color:#986801;--shiki-dark:#E06C75">px</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">        height </span><span style="color:#986801;--shiki-dark:#D19A66">48</span><span style="color:#986801;--shiki-dark:#E06C75">px</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">        margin </span><span style="color:#986801;--shiki-dark:#D19A66">12</span><span style="color:#986801;--shiki-dark:#E06C75">px</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">        overflow </span><span style="color:#383A42;--shiki-dark:#D19A66">hidden</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">        flex-shrink </span><span style="color:#986801;--shiki-dark:#D19A66">0</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">        position </span><span style="color:#383A42;--shiki-dark:#D19A66">relative</span></span><span class="line"><span style="color:#E45649;--shiki-dark:#E06C75">        i</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">          font-size </span><span style="color:#986801;--shiki-dark:#D19A66">32</span><span style="color:#986801;--shiki-dark:#E06C75">px</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">          line-height </span><span style="color:#986801;--shiki-dark:#D19A66">48</span><span style="color:#986801;--shiki-dark:#E06C75">px</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">          margin-left </span><span style="color:#986801;--shiki-dark:#D19A66">4</span><span style="color:#986801;--shiki-dark:#E06C75">px</span></span><span class="line"><span style="color:#E45649;--shiki-dark:#E06C75">        img</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">          display </span><span style="color:#383A42;--shiki-dark:#D19A66">block</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">          position </span><span style="color:#383A42;--shiki-dark:#D19A66">absolute</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">          border-radius </span><span style="color:#986801;--shiki-dark:#D19A66">2</span><span style="color:#986801;--shiki-dark:#E06C75">px</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">          top </span><span style="color:#986801;--shiki-dark:#D19A66">50</span><span style="color:#986801;--shiki-dark:#E06C75">%</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">          left </span><span style="color:#986801;--shiki-dark:#D19A66">50</span><span style="color:#986801;--shiki-dark:#E06C75">%</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">          transform </span><span style="color:#0184BC;--shiki-dark:#56B6C2">translate</span><span style="color:#383A42;--shiki-dark:#ABB2BF">(</span><span style="color:#986801;--shiki-dark:#D19A66">-50</span><span style="color:#986801;--shiki-dark:#E06C75">%</span><span style="color:#383A42;--shiki-dark:#ABB2BF">, </span><span style="color:#986801;--shiki-dark:#D19A66">-50</span><span style="color:#986801;--shiki-dark:#E06C75">%</span><span style="color:#383A42;--shiki-dark:#ABB2BF">)</span></span><span class="line"><span style="color:#A626A4;--shiki-dark:#C678DD">      &#x26;</span><span style="color:#986801;--shiki-dark:#D19A66">.right</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">        overflow </span><span style="color:#383A42;--shiki-dark:#D19A66">hidden</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">        margin-right </span><span style="color:#986801;--shiki-dark:#D19A66">12</span><span style="color:#986801;--shiki-dark:#E06C75">px</span></span><span class="line"><span style="color:#E45649;--shiki-dark:#E06C75">    p</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">      margin </span><span style="color:#986801;--shiki-dark:#D19A66">0</span></span><span class="line"><span style="color:#A626A4;--shiki-dark:#C678DD">      &#x26;</span><span style="color:#986801;--shiki-dark:#D19A66">.text</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">        font-weight </span><span style="color:#383A42;--shiki-dark:#D19A66">bold</span></span><span class="line"><span style="color:#A626A4;--shiki-dark:#C678DD">      &#x26;</span><span style="color:#986801;--shiki-dark:#D19A66">.url</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">        flex-shrink </span><span style="color:#986801;--shiki-dark:#D19A66">0</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">        color </span><span style="color:#4078F2;--shiki-dark:#61AFEF">rgba</span><span style="color:#383A42;--shiki-dark:#ABB2BF">(</span><span style="color:#986801;--shiki-dark:#D19A66">68</span><span style="color:#383A42;--shiki-dark:#ABB2BF">, </span><span style="color:#986801;--shiki-dark:#D19A66">68</span><span style="color:#383A42;--shiki-dark:#ABB2BF">, </span><span style="color:#986801;--shiki-dark:#D19A66">68</span><span style="color:#383A42;--shiki-dark:#ABB2BF">, </span><span style="color:#986801;--shiki-dark:#D19A66">0.65</span><span style="color:#383A42;--shiki-dark:#ABB2BF">)</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">        font-size </span><span style="color:#986801;--shiki-dark:#D19A66">13</span><span style="color:#986801;--shiki-dark:#E06C75">px</span></span><span class="line"></span><span class="line"><span style="color:#A626A4;--shiki-dark:#C678DD">@media</span><span style="color:#986801;--shiki-dark:#ABB2BF"> screen</span><span style="color:#383A42;--shiki-dark:#ABB2BF"> and (max-width: </span><span style="color:#986801;--shiki-dark:#D19A66">425</span><span style="color:#986801;--shiki-dark:#E06C75">px</span><span style="color:#383A42;--shiki-dark:#ABB2BF">)</span></span><span class="line"><span style="color:#E45649;--shiki-dark:#E06C75">  a</span></span><span class="line"><span style="color:#A626A4;--shiki-dark:#C678DD">    &#x26;</span><span style="color:#986801;--shiki-dark:#D19A66">.link-card</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">      max-width </span><span style="color:#986801;--shiki-dark:#D19A66">100</span><span style="color:#986801;--shiki-dark:#E06C75">%</span></span><span class="line"></span><span class="line"><span style="color:#A626A4;--shiki-dark:#C678DD">@media</span><span style="color:#986801;--shiki-dark:#ABB2BF"> screen</span><span style="color:#383A42;--shiki-dark:#ABB2BF"> and (max-width: </span><span style="color:#986801;--shiki-dark:#D19A66">375</span><span style="color:#986801;--shiki-dark:#E06C75">px</span><span style="color:#383A42;--shiki-dark:#ABB2BF">)</span></span><span class="line"><span style="color:#E45649;--shiki-dark:#E06C75">  a</span></span><span class="line"><span style="color:#A626A4;--shiki-dark:#C678DD">    &#x26;</span><span style="color:#986801;--shiki-dark:#D19A66">.link-card</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">      width </span><span style="color:#986801;--shiki-dark:#D19A66">100</span><span style="color:#986801;--shiki-dark:#E06C75">%</span></span><span class="line"></span><span class="line"><span style="color:#E45649;--shiki-dark:#E06C75">a</span><span style="color:#986801;--shiki-dark:#D19A66">.link-card</span><span style="color:#E45649;--shiki-dark:#E06C75"> div</span><span style="color:#986801;--shiki-dark:#D19A66">.left</span><span style="color:#A626A4;--shiki-dark:#C678DD">,</span></span><span class="line"><span style="color:#E45649;--shiki-dark:#E06C75">a</span><span style="color:#986801;--shiki-dark:#D19A66">.link-card</span><span style="color:#E45649;--shiki-dark:#E06C75"> div</span><span style="color:#986801;--shiki-dark:#D19A66">.right</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">  pointer-events </span><span style="color:#383A42;--shiki-dark:#D19A66">none</span></span><span class="line"></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">[</span><span style="color:#986801;--shiki-dark:#D19A66">data-user-color-scheme</span><span style="color:#383A42;--shiki-dark:#ABB2BF">=</span><span style="color:#50A14F;--shiki-dark:#98C379">"dark"</span><span style="color:#383A42;--shiki-dark:#ABB2BF">]</span></span><span class="line"><span style="color:#E45649;--shiki-dark:#E06C75">  a</span></span><span class="line"><span style="color:#A626A4;--shiki-dark:#C678DD">    &#x26;</span><span style="color:#986801;--shiki-dark:#D19A66">.link-card</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">      filter </span><span style="color:#0184BC;--shiki-dark:#56B6C2">brightness</span><span style="color:#383A42;--shiki-dark:#ABB2BF">(</span><span style="color:#986801;--shiki-dark:#D19A66">0.7</span><span style="color:#383A42;--shiki-dark:#ABB2BF">)</span></span><span class="line"><span style="color:#E45649;--shiki-dark:#E06C75">      img</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">        filter </span><span style="color:#0184BC;--shiki-dark:#56B6C2">brightness</span><span style="color:#383A42;--shiki-dark:#ABB2BF">(</span><span style="color:#986801;--shiki-dark:#D19A66">1</span><span style="color:#383A42;--shiki-dark:#ABB2BF">)</span></span></code></pre></td></tr></tbody></table></figure></p><p>使用 <code>hexo cl &amp;&amp; hexo g &amp;&amp; hexo s</code>三连，即可正常渲染并使用链接卡片了。</p><h2 id="时间轴">时间轴</h2><p>这个标签移植自 <ahref="https://github.com/Akilarlxh/hexo-butterfly-tag-plugins-plus"><code>hexo-butterfly-tag-plugins-plus</code></a>插件的 1.0.15 版本，基本属于复制过来就完事。</p><h3 id="效果演示-2">效果演示</h3><div class="tabs" id="时间轴,"><ul class="nav-tabs"><li class="tab"><button type="button" data-href="#时间轴,-0">标签语法</button></li><li class="tab"><button type="button" data-href="#时间轴,-1">样式预览</button></li><li class="tab active"><button type="button" data-href="#时间轴,-2">示例源码</button></li></ul><div class="tab-contents"><div class="tab-item-content" id="时间轴,-0"><figure class="highlight markdown"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre class="shiki shiki-themes one-light one-dark-pro"><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">&#123;% timeline </span><span style="color:#986801;--shiki-dark:#ABB2BF">[</span><span style="color:#4078F2;--shiki-dark:#61AFEF">时间轴标题（可选）</span><span style="color:#986801;--shiki-dark:#ABB2BF">]</span><span style="color:#383A42;--shiki-dark:#ABB2BF"> %&#125;</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">&#123;% timenode </span><span style="color:#986801;--shiki-dark:#ABB2BF">[</span><span style="color:#4078F2;--shiki-dark:#61AFEF">时间节点标题（可选）</span><span style="color:#986801;--shiki-dark:#ABB2BF">]</span><span style="color:#383A42;--shiki-dark:#ABB2BF"> %&#125;</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">内容</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">&#123;% endtimenode %&#125;</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">&#123;% timenode </span><span style="color:#986801;--shiki-dark:#ABB2BF">[</span><span style="color:#4078F2;--shiki-dark:#61AFEF">时间节点标题（可选）</span><span style="color:#986801;--shiki-dark:#ABB2BF">]</span><span style="color:#383A42;--shiki-dark:#ABB2BF"> %&#125;</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">内容</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">&#123;% endtimenode %&#125;</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">&#123;% endtimeline %&#125;</span></span></code></pre></td></tr></tbody></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="solitude fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="时间轴,-1"><div class="timeline"><span class="timeline-title">时间轴样式预览</span><div class="timenode"><div class="meta"><p>2024-09-03</p></div><div class="body"><p>更新时间线标签。更新了选项卡相关内容，修复了 BUG 解决部分中mathjax相关的修复方式无法生效的问题。</p></div></div><div class="timenode"><div class="meta"><p>2024-08-30</p></div><div class="body"><p>更新了选项卡相关内容，将避坑提醒转移到 BUG 解决部分。</p></div></div><div class="timenode"><div class="meta"><p>2024-08-28</p></div><div class="body"><p>更新了选项卡相关内容，新增避坑提醒。新增链接卡片相关内容。</p></div></div><div class="timenode"><div class="meta"><p>2024-08-27</p></div><div class="body"><p>发布文章。</p></div></div></div><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="solitude fas fa-arrow-up"></i></button></div><div class="tab-item-content active" id="时间轴,-2"><figure class="highlight markdown"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre class="shiki shiki-themes one-light one-dark-pro"><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">&#123;% timeline 时间轴样式预览 %&#125;</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">&#123;% timenode 2024-09-03 %&#125;</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">更新时间线标签。更新了选项卡相关内容，修复了 BUG 解决部分中 mathjax 相关的修复方式无法生效的问题。</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">&#123;% endtimenode %&#125;</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">&#123;% timenode 2024-08-30 %&#125;</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">更新了选项卡相关内容，将避坑提醒转移到 BUG 解决部分。</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">&#123;% endtimenode %&#125;</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">&#123;% timenode 2024-08-28 %&#125;</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">更新了选项卡相关内容，新增避坑提醒。新增链接卡片相关内容。</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">&#123;% endtimenode %&#125;</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">&#123;% timenode 2024-08-27 %&#125;</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">发布文章。</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">&#123;% endtimenode %&#125;</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">&#123;% endtimeline %&#125;</span></span></code></pre></td></tr></tbody></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="solitude fas fa-arrow-up"></i></button></div></div></div><h3 id="配置-2">配置</h3><p>在 <code>scripts\tags</code> 目录下新建 <code>timeline.js</code>文件，添加如下内容： <figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre class="shiki shiki-themes one-light one-dark-pro"><span class="line"><span style="color:#50A14F;--shiki-dark:#98C379">'use strict'</span><span style="color:#383A42;--shiki-dark:#ABB2BF">;</span></span><span class="line"></span><span class="line"><span style="color:#A626A4;--shiki-dark:#C678DD">function</span><span style="color:#4078F2;--shiki-dark:#61AFEF"> postTimeline</span><span style="color:#383A42;--shiki-dark:#ABB2BF">(</span><span style="color:#383A42;font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic">args</span><span style="color:#383A42;--shiki-dark:#ABB2BF">, </span><span style="color:#383A42;font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic">content</span><span style="color:#383A42;--shiki-dark:#ABB2BF">) &#123;</span></span><span class="line"><span style="color:#A626A4;--shiki-dark:#C678DD">  if</span><span style="color:#383A42;--shiki-dark:#ABB2BF"> (</span><span style="color:#383A42;--shiki-dark:#E5C07B">args</span><span style="color:#383A42;--shiki-dark:#ABB2BF">.</span><span style="color:#E45649;--shiki-dark:#E06C75">length</span><span style="color:#0184BC;--shiki-dark:#56B6C2"> ></span><span style="color:#986801;--shiki-dark:#D19A66"> 0</span><span style="color:#383A42;--shiki-dark:#ABB2BF">) &#123;</span></span><span class="line"><span style="color:#A626A4;--shiki-dark:#C678DD">    return</span><span style="color:#50A14F;--shiki-dark:#98C379"> `&#x3C;div class="timeline">&#x3C;p class='p h3'></span><span style="color:#CA1243;--shiki-dark:#C678DD">$&#123;</span><span style="color:#383A42;--shiki-dark:#E06C75">args</span><span style="color:#CA1243;--shiki-dark:#C678DD">&#125;</span><span style="color:#50A14F;--shiki-dark:#98C379">&#x3C;/p></span><span style="color:#CA1243;--shiki-dark:#C678DD">$&#123;</span><span style="color:#383A42;--shiki-dark:#E06C75">content</span><span style="color:#CA1243;--shiki-dark:#C678DD">&#125;</span><span style="color:#50A14F;--shiki-dark:#98C379">&#x3C;/div>`</span><span style="color:#383A42;--shiki-dark:#ABB2BF">;</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">  &#125; </span><span style="color:#A626A4;--shiki-dark:#C678DD">else</span><span style="color:#383A42;--shiki-dark:#ABB2BF"> &#123;</span></span><span class="line"><span style="color:#A626A4;--shiki-dark:#C678DD">    return</span><span style="color:#50A14F;--shiki-dark:#98C379"> `&#x3C;div class="timeline"></span><span style="color:#CA1243;--shiki-dark:#C678DD">$&#123;</span><span style="color:#383A42;--shiki-dark:#E06C75">content</span><span style="color:#CA1243;--shiki-dark:#C678DD">&#125;</span><span style="color:#50A14F;--shiki-dark:#98C379">&#x3C;/div>`</span><span style="color:#383A42;--shiki-dark:#ABB2BF">;</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">  &#125;</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">&#125;</span></span><span class="line"></span><span class="line"><span style="color:#A626A4;--shiki-dark:#C678DD">function</span><span style="color:#4078F2;--shiki-dark:#61AFEF"> postTimenode</span><span style="color:#383A42;--shiki-dark:#ABB2BF">(</span><span style="color:#383A42;font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic">args</span><span style="color:#383A42;--shiki-dark:#ABB2BF">, </span><span style="color:#383A42;font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic">content</span><span style="color:#383A42;--shiki-dark:#ABB2BF">) &#123;</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#E06C75">  args</span><span style="color:#0184BC;--shiki-dark:#56B6C2"> =</span><span style="color:#383A42;--shiki-dark:#E5C07B"> args</span><span style="color:#383A42;--shiki-dark:#ABB2BF">.</span><span style="color:#4078F2;--shiki-dark:#61AFEF">join</span><span style="color:#383A42;--shiki-dark:#ABB2BF">(</span><span style="color:#50A14F;--shiki-dark:#98C379">' '</span><span style="color:#383A42;--shiki-dark:#ABB2BF">).</span><span style="color:#4078F2;--shiki-dark:#61AFEF">split</span><span style="color:#383A42;--shiki-dark:#ABB2BF">(</span><span style="color:#50A14F;--shiki-dark:#98C379">','</span><span style="color:#383A42;--shiki-dark:#ABB2BF">)</span></span><span class="line"><span style="color:#A626A4;--shiki-dark:#C678DD">  var</span><span style="color:#383A42;--shiki-dark:#E06C75"> time</span><span style="color:#0184BC;--shiki-dark:#56B6C2"> =</span><span style="color:#383A42;--shiki-dark:#E06C75"> args</span><span style="color:#383A42;--shiki-dark:#ABB2BF">[</span><span style="color:#986801;--shiki-dark:#D19A66">0</span><span style="color:#383A42;--shiki-dark:#ABB2BF">]</span></span><span class="line"><span style="color:#A626A4;--shiki-dark:#C678DD">  return</span><span style="color:#50A14F;--shiki-dark:#98C379"> `&#x3C;div class="timenode">&#x3C;div class="meta">&#x3C;p></span><span style="color:#CA1243;--shiki-dark:#C678DD">$&#123;</span><span style="color:#383A42;--shiki-dark:#E5C07B">hexo</span><span style="color:#50A14F;--shiki-dark:#ABB2BF">.</span><span style="color:#E45649;--shiki-dark:#E5C07B">render</span><span style="color:#50A14F;--shiki-dark:#ABB2BF">.</span><span style="color:#4078F2;--shiki-dark:#61AFEF">renderSync</span><span style="color:#383A42;--shiki-dark:#ABB2BF">(&#123;</span><span style="color:#E45649;--shiki-dark:#E06C75">text</span><span style="color:#0184BC;--shiki-dark:#ABB2BF">:</span><span style="color:#383A42;--shiki-dark:#E06C75"> time</span><span style="color:#383A42;--shiki-dark:#ABB2BF">,</span><span style="color:#E45649;--shiki-dark:#E06C75"> engine</span><span style="color:#0184BC;--shiki-dark:#ABB2BF">:</span><span style="color:#CA1243;--shiki-dark:#98C379"> '</span><span style="color:#50A14F;--shiki-dark:#98C379">markdown</span><span style="color:#CA1243;--shiki-dark:#98C379">'</span><span style="color:#383A42;--shiki-dark:#ABB2BF">&#125;)</span><span style="color:#CA1243;--shiki-dark:#C678DD">&#125;</span><span style="color:#50A14F;--shiki-dark:#98C379">&#x3C;/p>&#x3C;/div>&#x3C;div class="body"></span><span style="color:#CA1243;--shiki-dark:#C678DD">$&#123;</span><span style="color:#383A42;--shiki-dark:#E5C07B">hexo</span><span style="color:#50A14F;--shiki-dark:#ABB2BF">.</span><span style="color:#E45649;--shiki-dark:#E5C07B">render</span><span style="color:#50A14F;--shiki-dark:#ABB2BF">.</span><span style="color:#4078F2;--shiki-dark:#61AFEF">renderSync</span><span style="color:#383A42;--shiki-dark:#ABB2BF">(&#123;</span><span style="color:#E45649;--shiki-dark:#E06C75">text</span><span style="color:#0184BC;--shiki-dark:#ABB2BF">:</span><span style="color:#383A42;--shiki-dark:#E06C75"> content</span><span style="color:#383A42;--shiki-dark:#ABB2BF">,</span><span style="color:#E45649;--shiki-dark:#E06C75"> engine</span><span style="color:#0184BC;--shiki-dark:#ABB2BF">:</span><span style="color:#CA1243;--shiki-dark:#98C379"> '</span><span style="color:#50A14F;--shiki-dark:#98C379">markdown</span><span style="color:#CA1243;--shiki-dark:#98C379">'</span><span style="color:#383A42;--shiki-dark:#ABB2BF">&#125;)</span><span style="color:#50A14F;--shiki-dark:#ABB2BF">.</span><span style="color:#4078F2;--shiki-dark:#61AFEF">split</span><span style="color:#383A42;--shiki-dark:#ABB2BF">(</span><span style="color:#CA1243;--shiki-dark:#98C379">'</span><span style="color:#0184BC;--shiki-dark:#56B6C2">\n</span><span style="color:#CA1243;--shiki-dark:#98C379">'</span><span style="color:#383A42;--shiki-dark:#ABB2BF">)</span><span style="color:#50A14F;--shiki-dark:#ABB2BF">.</span><span style="color:#4078F2;--shiki-dark:#61AFEF">join</span><span style="color:#383A42;--shiki-dark:#ABB2BF">(</span><span style="color:#CA1243;--shiki-dark:#98C379">''</span><span style="color:#383A42;--shiki-dark:#ABB2BF">)</span><span style="color:#CA1243;--shiki-dark:#C678DD">&#125;</span><span style="color:#50A14F;--shiki-dark:#98C379">&#x3C;/div>&#x3C;/div>`</span><span style="color:#383A42;--shiki-dark:#ABB2BF">;</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">&#125;</span></span><span class="line"></span><span class="line"></span><span class="line"><span style="color:#A0A1A7;font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">// &#123;% timeline %&#125;</span></span><span class="line"><span style="color:#A0A1A7;font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">// ... timenode ...</span></span><span class="line"><span style="color:#A0A1A7;font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">// &#123;% endtimeline %&#125;</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#E5C07B">hexo</span><span style="color:#383A42;--shiki-dark:#ABB2BF">.</span><span style="color:#E45649;--shiki-dark:#E5C07B">extend</span><span style="color:#383A42;--shiki-dark:#ABB2BF">.</span><span style="color:#E45649;--shiki-dark:#E5C07B">tag</span><span style="color:#383A42;--shiki-dark:#ABB2BF">.</span><span style="color:#4078F2;--shiki-dark:#61AFEF">register</span><span style="color:#383A42;--shiki-dark:#ABB2BF">(</span><span style="color:#50A14F;--shiki-dark:#98C379">'timeline'</span><span style="color:#383A42;--shiki-dark:#ABB2BF">, </span><span style="color:#383A42;--shiki-dark:#E06C75">postTimeline</span><span style="color:#383A42;--shiki-dark:#ABB2BF">, &#123;</span><span style="color:#E45649;--shiki-dark:#E06C75">ends</span><span style="color:#0184BC;--shiki-dark:#ABB2BF">:</span><span style="color:#986801;--shiki-dark:#D19A66"> true</span><span style="color:#383A42;--shiki-dark:#ABB2BF">&#125;);</span></span><span class="line"></span><span class="line"><span style="color:#A0A1A7;font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">// &#123;% timenode time %&#125;</span></span><span class="line"><span style="color:#A0A1A7;font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">// what happened</span></span><span class="line"><span style="color:#A0A1A7;font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">// &#123;% endtimenode %&#125;</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#E5C07B">hexo</span><span style="color:#383A42;--shiki-dark:#ABB2BF">.</span><span style="color:#E45649;--shiki-dark:#E5C07B">extend</span><span style="color:#383A42;--shiki-dark:#ABB2BF">.</span><span style="color:#E45649;--shiki-dark:#E5C07B">tag</span><span style="color:#383A42;--shiki-dark:#ABB2BF">.</span><span style="color:#4078F2;--shiki-dark:#61AFEF">register</span><span style="color:#383A42;--shiki-dark:#ABB2BF">(</span><span style="color:#50A14F;--shiki-dark:#98C379">'timenode'</span><span style="color:#383A42;--shiki-dark:#ABB2BF">, </span><span style="color:#383A42;--shiki-dark:#E06C75">postTimenode</span><span style="color:#383A42;--shiki-dark:#ABB2BF">, &#123;</span><span style="color:#E45649;--shiki-dark:#E06C75">ends</span><span style="color:#0184BC;--shiki-dark:#ABB2BF">:</span><span style="color:#986801;--shiki-dark:#D19A66"> true</span><span style="color:#383A42;--shiki-dark:#ABB2BF">&#125;);</span></span></code></pre></td></tr></tbody></table></figure></p><p>在 <code>source/custom/css/_tags</code> 中创建<code>timeline.styl</code> 文件，添加如下内容： <figure class="highlight stylus"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br></pre></td><td class="code"><pre class="shiki shiki-themes one-light one-dark-pro"><span class="line"><span style="color:#E45649;--shiki-dark:#E06C75">div</span></span><span class="line"><span style="color:#A626A4;--shiki-dark:#C678DD">  &#x26;</span><span style="color:#986801;--shiki-dark:#D19A66">.timenode</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">    position </span><span style="color:#383A42;--shiki-dark:#D19A66">relative</span></span><span class="line"><span style="color:#A626A4;--shiki-dark:#C678DD">    &#x26;</span><span style="color:#986801;--shiki-dark:#56B6C2">:before</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">      top </span><span style="color:#986801;--shiki-dark:#D19A66">0</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">      height </span><span style="color:#986801;--shiki-dark:#D19A66">6</span><span style="color:#986801;--shiki-dark:#E06C75">px</span></span><span class="line"><span style="color:#A626A4;--shiki-dark:#C678DD">    &#x26;</span><span style="color:#986801;--shiki-dark:#56B6C2">:after</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">      top </span><span style="color:#986801;--shiki-dark:#D19A66">26</span><span style="color:#986801;--shiki-dark:#E06C75">px</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">      height </span><span style="color:#0184BC;--shiki-dark:#56B6C2">calc</span><span style="color:#383A42;--shiki-dark:#ABB2BF">(</span><span style="color:#986801;--shiki-dark:#D19A66">100</span><span style="color:#986801;--shiki-dark:#E06C75">%</span><span style="color:#383A42;--shiki-dark:#ABB2BF"> - </span><span style="color:#986801;--shiki-dark:#D19A66">26</span><span style="color:#986801;--shiki-dark:#E06C75">px</span><span style="color:#383A42;--shiki-dark:#ABB2BF">)</span></span><span class="line"><span style="color:#A626A4;--shiki-dark:#C678DD">    &#x26;</span><span style="color:#986801;--shiki-dark:#56B6C2">:last-child</span></span><span class="line"><span style="color:#A626A4;--shiki-dark:#C678DD">      &#x26;</span><span style="color:#986801;--shiki-dark:#56B6C2">:after</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">        height </span><span style="color:#0184BC;--shiki-dark:#56B6C2">calc</span><span style="color:#383A42;--shiki-dark:#ABB2BF">(</span><span style="color:#986801;--shiki-dark:#D19A66">100</span><span style="color:#986801;--shiki-dark:#E06C75">%</span><span style="color:#383A42;--shiki-dark:#ABB2BF"> - </span><span style="color:#986801;--shiki-dark:#D19A66">26</span><span style="color:#986801;--shiki-dark:#E06C75">px</span><span style="color:#383A42;--shiki-dark:#ABB2BF"> - </span><span style="color:#986801;--shiki-dark:#D19A66">16</span><span style="color:#986801;--shiki-dark:#E06C75">px</span><span style="color:#383A42;--shiki-dark:#ABB2BF">)</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">        border-bottom-left-radius </span><span style="color:#986801;--shiki-dark:#D19A66">2</span><span style="color:#986801;--shiki-dark:#E06C75">px</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">        border-bottom-right-radius </span><span style="color:#986801;--shiki-dark:#D19A66">2</span><span style="color:#986801;--shiki-dark:#E06C75">px</span></span><span class="line"><span style="color:#986801;--shiki-dark:#D19A66">    .meta</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">      position </span><span style="color:#383A42;--shiki-dark:#D19A66">relative</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">      color </span><span style="color:#4078F2;--shiki-dark:#61AFEF">var</span><span style="color:#383A42;--shiki-dark:#ABB2BF">(</span><span style="color:#E45649;--shiki-dark:#E06C75">--text-color</span><span style="color:#383A42;--shiki-dark:#ABB2BF">)</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">      font-size </span><span style="color:#986801;--shiki-dark:#D19A66">0.75</span><span style="color:#986801;--shiki-dark:#E06C75">rem</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">      line-height </span><span style="color:#986801;--shiki-dark:#D19A66">32</span><span style="color:#986801;--shiki-dark:#E06C75">px</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">      height </span><span style="color:#986801;--shiki-dark:#D19A66">32</span><span style="color:#986801;--shiki-dark:#E06C75">px</span></span><span class="line"><span style="color:#A626A4;--shiki-dark:#C678DD">      &#x26;</span><span style="color:#986801;--shiki-dark:#56B6C2">:before</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">        background </span><span style="color:#4078F2;--shiki-dark:#61AFEF">rgba</span><span style="color:#383A42;--shiki-dark:#ABB2BF">(</span><span style="color:#986801;--shiki-dark:#D19A66">68</span><span style="color:#383A42;--shiki-dark:#ABB2BF">, </span><span style="color:#986801;--shiki-dark:#D19A66">215</span><span style="color:#383A42;--shiki-dark:#ABB2BF">, </span><span style="color:#986801;--shiki-dark:#D19A66">182</span><span style="color:#383A42;--shiki-dark:#ABB2BF">, </span><span style="color:#986801;--shiki-dark:#D19A66">0.5</span><span style="color:#383A42;--shiki-dark:#ABB2BF">)</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">        width </span><span style="color:#986801;--shiki-dark:#D19A66">16</span><span style="color:#986801;--shiki-dark:#E06C75">px</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">        height </span><span style="color:#986801;--shiki-dark:#D19A66">16</span><span style="color:#986801;--shiki-dark:#E06C75">px</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">        border-radius </span><span style="color:#986801;--shiki-dark:#D19A66">8</span><span style="color:#986801;--shiki-dark:#E06C75">px</span></span><span class="line"><span style="color:#A626A4;--shiki-dark:#C678DD">      &#x26;</span><span style="color:#986801;--shiki-dark:#56B6C2">:after</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">        background </span><span style="color:#986801;--shiki-dark:#D19A66">#</span><span style="color:#0184BC;--shiki-dark:#D19A66">44d7b6</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">        margin-left </span><span style="color:#986801;--shiki-dark:#D19A66">2</span><span style="color:#986801;--shiki-dark:#E06C75">px</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">        margin-top </span><span style="color:#986801;--shiki-dark:#D19A66">2</span><span style="color:#986801;--shiki-dark:#E06C75">px</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">        width </span><span style="color:#986801;--shiki-dark:#D19A66">12</span><span style="color:#986801;--shiki-dark:#E06C75">px</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">        height </span><span style="color:#986801;--shiki-dark:#D19A66">12</span><span style="color:#986801;--shiki-dark:#E06C75">px</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">        border-radius </span><span style="color:#986801;--shiki-dark:#D19A66">6</span><span style="color:#986801;--shiki-dark:#E06C75">px</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">        transform </span><span style="color:#0184BC;--shiki-dark:#56B6C2">scale</span><span style="color:#383A42;--shiki-dark:#ABB2BF">(</span><span style="color:#986801;--shiki-dark:#D19A66">0.5</span><span style="color:#383A42;--shiki-dark:#ABB2BF">)</span></span><span class="line"><span style="color:#E45649;--shiki-dark:#E06C75">      p</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">        font-weight </span><span style="color:#383A42;--shiki-dark:#D19A66">bold</span><span style="color:#A626A4;--shiki-dark:#C678DD"> !important</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">        margin </span><span style="color:#986801;--shiki-dark:#D19A66">0</span><span style="color:#986801;--shiki-dark:#D19A66"> 0</span><span style="color:#986801;--shiki-dark:#D19A66"> 0</span><span style="color:#986801;--shiki-dark:#D19A66"> 24</span><span style="color:#986801;--shiki-dark:#E06C75">px</span><span style="color:#A626A4;--shiki-dark:#C678DD"> !important</span></span><span class="line"><span style="color:#986801;--shiki-dark:#D19A66">    .body</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">      margin </span><span style="color:#986801;--shiki-dark:#D19A66">4</span><span style="color:#986801;--shiki-dark:#E06C75">px</span><span style="color:#986801;--shiki-dark:#D19A66"> 0</span><span style="color:#986801;--shiki-dark:#D19A66"> 10</span><span style="color:#986801;--shiki-dark:#E06C75">px</span><span style="color:#986801;--shiki-dark:#D19A66"> 24</span><span style="color:#986801;--shiki-dark:#E06C75">px</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">      padding </span><span style="color:#986801;--shiki-dark:#D19A66">10</span><span style="color:#986801;--shiki-dark:#E06C75">px</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">      border-radius </span><span style="color:#986801;--shiki-dark:#D19A66">12</span><span style="color:#986801;--shiki-dark:#E06C75">px</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">      background </span><span style="color:#4078F2;--shiki-dark:#61AFEF">rgba</span><span style="color:#383A42;--shiki-dark:#ABB2BF">(</span><span style="color:#986801;--shiki-dark:#D19A66">127</span><span style="color:#383A42;--shiki-dark:#ABB2BF">, </span><span style="color:#986801;--shiki-dark:#D19A66">127</span><span style="color:#383A42;--shiki-dark:#ABB2BF">, </span><span style="color:#986801;--shiki-dark:#D19A66">127</span><span style="color:#383A42;--shiki-dark:#ABB2BF">, </span><span style="color:#986801;--shiki-dark:#D19A66">0.1</span><span style="color:#383A42;--shiki-dark:#ABB2BF">)</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">      display </span><span style="color:#383A42;--shiki-dark:#D19A66">inline-block</span></span><span class="line"><span style="color:#E45649;--shiki-dark:#E06C75">      p</span></span><span class="line"><span style="color:#A626A4;--shiki-dark:#C678DD">        &#x26;</span><span style="color:#986801;--shiki-dark:#56B6C2">:first-child</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">          margin-top </span><span style="color:#986801;--shiki-dark:#D19A66">0</span><span style="color:#A626A4;--shiki-dark:#C678DD"> !important</span></span><span class="line"><span style="color:#A626A4;--shiki-dark:#C678DD">        &#x26;</span><span style="color:#986801;--shiki-dark:#56B6C2">:last-child</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">          margin-bottom </span><span style="color:#986801;--shiki-dark:#D19A66">0</span><span style="color:#A626A4;--shiki-dark:#C678DD"> !important</span></span><span class="line"><span style="color:#986801;--shiki-dark:#D19A66">      .highlight</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">        background </span><span style="color:#986801;--shiki-dark:#D19A66">#</span><span style="color:#0184BC;--shiki-dark:#D19A66">fff7ea</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">        filter </span><span style="color:#0184BC;--shiki-dark:#56B6C2">grayscale</span><span style="color:#383A42;--shiki-dark:#ABB2BF">(</span><span style="color:#986801;--shiki-dark:#D19A66">0</span><span style="color:#986801;--shiki-dark:#E06C75">%</span><span style="color:#383A42;--shiki-dark:#ABB2BF">)</span></span><span class="line"><span style="color:#E45649;--shiki-dark:#E06C75">        figcaption</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">          background </span><span style="color:#986801;--shiki-dark:#D19A66">#</span><span style="color:#0184BC;--shiki-dark:#D19A66">ffeed2</span></span><span class="line"><span style="color:#986801;--shiki-dark:#D19A66">        .gutter</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">          background </span><span style="color:#986801;--shiki-dark:#D19A66">#</span><span style="color:#0184BC;--shiki-dark:#D19A66">ffedd0</span></span><span class="line"><span style="color:#A626A4;--shiki-dark:#C678DD">    &#x26;</span><span style="color:#986801;--shiki-dark:#56B6C2">:hover</span></span><span class="line"><span style="color:#986801;--shiki-dark:#D19A66">      .meta</span></span><span class="line"><span style="color:#A626A4;--shiki-dark:#C678DD">        &#x26;</span><span style="color:#986801;--shiki-dark:#56B6C2">:before</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">          background </span><span style="color:#4078F2;--shiki-dark:#61AFEF">rgba</span><span style="color:#383A42;--shiki-dark:#ABB2BF">(</span><span style="color:#986801;--shiki-dark:#D19A66">68</span><span style="color:#383A42;--shiki-dark:#ABB2BF">, </span><span style="color:#986801;--shiki-dark:#D19A66">215</span><span style="color:#383A42;--shiki-dark:#ABB2BF">, </span><span style="color:#986801;--shiki-dark:#D19A66">182</span><span style="color:#383A42;--shiki-dark:#ABB2BF">, </span><span style="color:#986801;--shiki-dark:#D19A66">0.5</span><span style="color:#383A42;--shiki-dark:#ABB2BF">)</span></span><span class="line"><span style="color:#A626A4;--shiki-dark:#C678DD">        &#x26;</span><span style="color:#986801;--shiki-dark:#56B6C2">:after</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">          background </span><span style="color:#986801;--shiki-dark:#D19A66">#</span><span style="color:#0184BC;--shiki-dark:#D19A66">96cec2</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">          transform </span><span style="color:#0184BC;--shiki-dark:#56B6C2">scale</span><span style="color:#383A42;--shiki-dark:#ABB2BF">(</span><span style="color:#986801;--shiki-dark:#D19A66">1</span><span style="color:#383A42;--shiki-dark:#ABB2BF">)</span></span><span class="line"></span><span class="line"><span style="color:#E45649;--shiki-dark:#E06C75">div</span><span style="color:#986801;--shiki-dark:#D19A66">.timenode</span><span style="color:#986801;--shiki-dark:#56B6C2">:before</span><span style="color:#A626A4;--shiki-dark:#C678DD">,</span></span><span class="line"><span style="color:#E45649;--shiki-dark:#E06C75">div</span><span style="color:#986801;--shiki-dark:#D19A66">.timenode</span><span style="color:#986801;--shiki-dark:#56B6C2">:after</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">  content </span><span style="color:#50A14F;--shiki-dark:#98C379">""</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">  z-index </span><span style="color:#986801;--shiki-dark:#D19A66">1</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">  position </span><span style="color:#383A42;--shiki-dark:#D19A66">absolute</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">  background </span><span style="color:#4078F2;--shiki-dark:#61AFEF">rgba</span><span style="color:#383A42;--shiki-dark:#ABB2BF">(</span><span style="color:#986801;--shiki-dark:#D19A66">68</span><span style="color:#383A42;--shiki-dark:#ABB2BF">, </span><span style="color:#986801;--shiki-dark:#D19A66">215</span><span style="color:#383A42;--shiki-dark:#ABB2BF">, </span><span style="color:#986801;--shiki-dark:#D19A66">182</span><span style="color:#383A42;--shiki-dark:#ABB2BF">, </span><span style="color:#986801;--shiki-dark:#D19A66">0.5</span><span style="color:#383A42;--shiki-dark:#ABB2BF">)</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">  width </span><span style="color:#986801;--shiki-dark:#D19A66">2</span><span style="color:#986801;--shiki-dark:#E06C75">px</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">  left </span><span style="color:#986801;--shiki-dark:#D19A66">7</span><span style="color:#986801;--shiki-dark:#E06C75">px</span></span><span class="line"></span><span class="line"><span style="color:#E45649;--shiki-dark:#E06C75">div</span><span style="color:#986801;--shiki-dark:#D19A66">.timenode</span><span style="color:#986801;--shiki-dark:#D19A66"> .meta</span><span style="color:#A626A4;--shiki-dark:#C678DD">,</span></span><span class="line"><span style="color:#E45649;--shiki-dark:#E06C75">div</span><span style="color:#986801;--shiki-dark:#D19A66">.timenode</span><span style="color:#986801;--shiki-dark:#D19A66"> .body</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">  max-width </span><span style="color:#0184BC;--shiki-dark:#56B6C2">calc</span><span style="color:#383A42;--shiki-dark:#ABB2BF">(</span><span style="color:#986801;--shiki-dark:#D19A66">100</span><span style="color:#986801;--shiki-dark:#E06C75">%</span><span style="color:#383A42;--shiki-dark:#ABB2BF"> - </span><span style="color:#986801;--shiki-dark:#D19A66">24</span><span style="color:#986801;--shiki-dark:#E06C75">px</span><span style="color:#383A42;--shiki-dark:#ABB2BF">)</span></span><span class="line"></span><span class="line"><span style="color:#E45649;--shiki-dark:#E06C75">div</span><span style="color:#986801;--shiki-dark:#D19A66">.timenode</span><span style="color:#986801;--shiki-dark:#D19A66"> .meta</span><span style="color:#986801;--shiki-dark:#56B6C2">:before</span><span style="color:#A626A4;--shiki-dark:#C678DD">,</span></span><span class="line"><span style="color:#E45649;--shiki-dark:#E06C75">div</span><span style="color:#986801;--shiki-dark:#D19A66">.timenode</span><span style="color:#986801;--shiki-dark:#D19A66"> .meta</span><span style="color:#986801;--shiki-dark:#56B6C2">:after</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">  content </span><span style="color:#50A14F;--shiki-dark:#98C379">""</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">  position </span><span style="color:#383A42;--shiki-dark:#D19A66">absolute</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">  top </span><span style="color:#986801;--shiki-dark:#D19A66">8</span><span style="color:#986801;--shiki-dark:#E06C75">px</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">  z-index </span><span style="color:#986801;--shiki-dark:#D19A66">2</span></span><span class="line"></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">[</span><span style="color:#986801;--shiki-dark:#D19A66">data-theme</span><span style="color:#383A42;--shiki-dark:#ABB2BF">=</span><span style="color:#50A14F;--shiki-dark:#98C379">"dark"</span><span style="color:#383A42;--shiki-dark:#ABB2BF">]</span></span><span class="line"><span style="color:#E45649;--shiki-dark:#E06C75">  div</span></span><span class="line"><span style="color:#A626A4;--shiki-dark:#C678DD">    &#x26;</span><span style="color:#986801;--shiki-dark:#D19A66">.timenode</span></span><span class="line"><span style="color:#986801;--shiki-dark:#D19A66">      .body</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">        background </span><span style="color:#986801;--shiki-dark:#D19A66">#</span><span style="color:#0184BC;--shiki-dark:#D19A66">2c2c2c</span></span><span class="line"><span style="color:#A626A4;--shiki-dark:#C678DD">      &#x26;</span><span style="color:#986801;--shiki-dark:#56B6C2">:hover</span></span><span class="line"><span style="color:#986801;--shiki-dark:#D19A66">        .meta</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">          color </span><span style="color:#986801;--shiki-dark:#D19A66">#</span><span style="color:#0184BC;--shiki-dark:#D19A66">ccd0d7</span></span><span class="line"><span style="color:#986801;--shiki-dark:#D19A66">      .meta</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">        color </span><span style="color:#4078F2;--shiki-dark:#61AFEF">rgba</span><span style="color:#383A42;--shiki-dark:#ABB2BF">(</span><span style="color:#986801;--shiki-dark:#D19A66">255</span><span style="color:#383A42;--shiki-dark:#ABB2BF">, </span><span style="color:#986801;--shiki-dark:#D19A66">255</span><span style="color:#383A42;--shiki-dark:#ABB2BF">, </span><span style="color:#986801;--shiki-dark:#D19A66">255</span><span style="color:#383A42;--shiki-dark:#ABB2BF">, </span><span style="color:#986801;--shiki-dark:#D19A66">0.6</span><span style="color:#383A42;--shiki-dark:#ABB2BF">)</span></span></code></pre></td></tr></tbody></table></figure></p><p>使用 <code>hexo cl &amp;&amp; hexo g &amp;&amp; hexo s</code>三连，即可正常渲染并使用时间轴了。</p><h2 id="更多标签">更多标签</h2><div class="note info no-icon modern"><p>会想办法移植更多好用的标签，敬请期待。</p></div>]]></content:encoded>
      
      
      <category domain="https://blog.hpcesia.com/categories/%E5%B0%8F%E5%B1%8B%E7%9B%B8%E5%85%B3/">小屋相关</category>
      
      
      <category domain="https://blog.hpcesia.com/tags/Hexo/">Hexo</category>
      
      <category domain="https://blog.hpcesia.com/tags/Fluid/">Fluid</category>
      
      <category domain="https://blog.hpcesia.com/tags/%E5%8D%9A%E5%AE%A2/">博客</category>
      
      <category domain="https://blog.hpcesia.com/tags/CSS/">CSS</category>
      
      <category domain="https://blog.hpcesia.com/tags/JavaScript/">JavaScript</category>
      
      
      <comments>https://blog.hpcesia.com/posts/a0486011/#disqus_thread</comments>
      
    </item>
    
    <item>
      <title>Fluid 主题无侵入改造记录</title>
      <link>https://blog.hpcesia.com/posts/a06e351a/</link>
      <guid>https://blog.hpcesia.com/posts/a06e351a/</guid>
      <pubDate>Mon, 26 Aug 2024 07:54:36 GMT</pubDate>
      
      <description>非侵入式改造 Hexo 的 Fluid 主题的经验记录</description>
      
      
      
      <content:encoded><![CDATA[<details><summary>更新日志</summary><div class="timeline"><span class="timeline-title"><div class="timenode"><div class="meta"><p>2024-09-07</p></div><div class="body"><p>更新主题更换提醒。</p></div></div><div class="timenode"><div class="meta"><p>2024-09-03</p></div><div class="body"><p>规范了更新日志格式。</p></div></div><div class="timenode"><div class="meta"><p>2024-08-27</p></div><div class="body"><p>新增「文章时效性显示」、「随机文章跳转」与「代码块美化」相关内容。</p></div></div><div class="timenode"><div class="meta"><p>2024-08-26</p></div><div class="body"><p>新增「顶部阅读进度条」与「建站时间显示」相关内容。</p></div></div><div class="timenode"><div class="meta"><p>2024-08-26</p></div><div class="body"><p>发布文章。</p></div></div></div></details><div class="note danger no-icon modern"><p>本博客已更换至 <a href="https://solitude.js.org/zh/" rel="external nofollow noreferrer">Solitude</a>主题，Fluid 主题相关内容仅供参考。</p></div><p><a href="https://hexo.io" rel="external nofollow noreferrer">Hexo</a> 的 <ahref="https://github.com/fluid-dev/hexo-theme-fluid">Fluid</a>主题是一个很好的主题，功能基本完整，页面简洁，加载浏览都很流畅。但是我对这个主题的页面仍有想修改的地方，特此记录。</p><p>同时为了保证在更新主题是不会影响我的修改，因此本文中所有修改都是<strong>非侵入式</strong>（不修改主题源代码）的。</p><h2 id="文章时效性提示">文章时效性提示</h2><p>在 <code>source/custom/js</code> 目录下新建<code>outdate-notice.js</code> 文件： <figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre class="shiki shiki-themes one-light one-dark-pro"><span class="line"><span style="color:#383A42;--shiki-dark:#E5C07B">window</span><span style="color:#383A42;--shiki-dark:#ABB2BF">.</span><span style="color:#4078F2;--shiki-dark:#61AFEF">onload</span><span style="color:#0184BC;--shiki-dark:#56B6C2"> =</span><span style="color:#A626A4;--shiki-dark:#C678DD"> function</span><span style="color:#383A42;--shiki-dark:#ABB2BF"> () &#123;</span></span><span class="line"><span style="color:#A0A1A7;font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">    //不同的日期显示不同的样式，200 天为黄色提示，400天为红色提示，可以自己定义。</span></span><span class="line"><span style="color:#A626A4;--shiki-dark:#C678DD">    let</span><span style="color:#383A42;--shiki-dark:#E06C75"> warningDay</span><span style="color:#0184BC;--shiki-dark:#56B6C2"> =</span><span style="color:#986801;--shiki-dark:#D19A66"> 200</span><span style="color:#383A42;--shiki-dark:#ABB2BF">;</span></span><span class="line"><span style="color:#A626A4;--shiki-dark:#C678DD">    let</span><span style="color:#383A42;--shiki-dark:#E06C75"> errorDay</span><span style="color:#0184BC;--shiki-dark:#56B6C2"> =</span><span style="color:#986801;--shiki-dark:#D19A66"> 600</span><span style="color:#383A42;--shiki-dark:#ABB2BF">;</span></span><span class="line"><span style="color:#A0A1A7;font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">    // 确保能够获取到文章时间以及在文章详情页</span></span><span class="line"><span style="color:#A626A4;--shiki-dark:#C678DD">    let</span><span style="color:#383A42;--shiki-dark:#E06C75"> times</span><span style="color:#0184BC;--shiki-dark:#56B6C2"> =</span><span style="color:#383A42;--shiki-dark:#E5C07B"> document</span><span style="color:#383A42;--shiki-dark:#ABB2BF">.</span><span style="color:#4078F2;--shiki-dark:#61AFEF">getElementsByTagName</span><span style="color:#383A42;--shiki-dark:#ABB2BF">(</span><span style="color:#50A14F;--shiki-dark:#98C379">'time'</span><span style="color:#383A42;--shiki-dark:#ABB2BF">);</span></span><span class="line"><span style="color:#A626A4;--shiki-dark:#C678DD">    if</span><span style="color:#383A42;--shiki-dark:#ABB2BF"> (</span><span style="color:#383A42;--shiki-dark:#E5C07B">times</span><span style="color:#383A42;--shiki-dark:#ABB2BF">.</span><span style="color:#E45649;--shiki-dark:#E06C75">length</span><span style="color:#0184BC;--shiki-dark:#56B6C2"> ===</span><span style="color:#986801;--shiki-dark:#D19A66"> 0</span><span style="color:#383A42;--shiki-dark:#ABB2BF">) &#123; </span><span style="color:#A626A4;--shiki-dark:#C678DD">return</span><span style="color:#383A42;--shiki-dark:#ABB2BF">; &#125;</span></span><span class="line"><span style="color:#A626A4;--shiki-dark:#C678DD">    let</span><span style="color:#383A42;--shiki-dark:#E06C75"> posts</span><span style="color:#0184BC;--shiki-dark:#56B6C2"> =</span><span style="color:#383A42;--shiki-dark:#E5C07B"> document</span><span style="color:#383A42;--shiki-dark:#ABB2BF">.</span><span style="color:#4078F2;--shiki-dark:#61AFEF">getElementsByClassName</span><span style="color:#383A42;--shiki-dark:#ABB2BF">(</span><span style="color:#50A14F;--shiki-dark:#98C379">'post-content'</span><span style="color:#383A42;--shiki-dark:#ABB2BF">);</span></span><span class="line"><span style="color:#A626A4;--shiki-dark:#C678DD">    if</span><span style="color:#383A42;--shiki-dark:#ABB2BF"> (</span><span style="color:#383A42;--shiki-dark:#E5C07B">posts</span><span style="color:#383A42;--shiki-dark:#ABB2BF">.</span><span style="color:#E45649;--shiki-dark:#E06C75">length</span><span style="color:#0184BC;--shiki-dark:#56B6C2"> ===</span><span style="color:#986801;--shiki-dark:#D19A66"> 0</span><span style="color:#383A42;--shiki-dark:#ABB2BF">) &#123; </span><span style="color:#A626A4;--shiki-dark:#C678DD">return</span><span style="color:#383A42;--shiki-dark:#ABB2BF">; &#125;</span></span><span class="line"></span><span class="line"><span style="color:#A0A1A7;font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">    // 获取系统当前的时间</span></span><span class="line"><span style="color:#A626A4;--shiki-dark:#C678DD">    let</span><span style="color:#383A42;--shiki-dark:#E06C75"> pubTime</span><span style="color:#0184BC;--shiki-dark:#56B6C2"> =</span><span style="color:#A626A4;--shiki-dark:#C678DD"> new</span><span style="color:#4078F2;--shiki-dark:#61AFEF"> Date</span><span style="color:#383A42;--shiki-dark:#ABB2BF">(</span><span style="color:#383A42;--shiki-dark:#E06C75">times</span><span style="color:#383A42;--shiki-dark:#ABB2BF">[</span><span style="color:#986801;--shiki-dark:#D19A66">0</span><span style="color:#383A42;--shiki-dark:#ABB2BF">].</span><span style="color:#E45649;--shiki-dark:#E06C75">dateTime</span><span style="color:#383A42;--shiki-dark:#ABB2BF">);  </span><span style="color:#A0A1A7;font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">/* 文章发布时间戳 */</span></span><span class="line"><span style="color:#A626A4;--shiki-dark:#C678DD">    let</span><span style="color:#383A42;--shiki-dark:#E06C75"> now</span><span style="color:#0184BC;--shiki-dark:#56B6C2"> =</span><span style="color:#383A42;--shiki-dark:#E5C07B"> Date</span><span style="color:#383A42;--shiki-dark:#ABB2BF">.</span><span style="color:#4078F2;--shiki-dark:#61AFEF">now</span><span style="color:#383A42;--shiki-dark:#ABB2BF">()  </span><span style="color:#A0A1A7;font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">/* 当前时间戳 */</span></span><span class="line"><span style="color:#A626A4;--shiki-dark:#C678DD">    let</span><span style="color:#383A42;--shiki-dark:#E06C75"> interval</span><span style="color:#0184BC;--shiki-dark:#56B6C2"> =</span><span style="color:#4078F2;--shiki-dark:#61AFEF"> parseInt</span><span style="color:#383A42;--shiki-dark:#ABB2BF">(</span><span style="color:#383A42;--shiki-dark:#E06C75">now</span><span style="color:#0184BC;--shiki-dark:#56B6C2"> -</span><span style="color:#383A42;--shiki-dark:#E06C75"> pubTime</span><span style="color:#383A42;--shiki-dark:#ABB2BF">)</span></span><span class="line"><span style="color:#A626A4;--shiki-dark:#C678DD">    let</span><span style="color:#383A42;--shiki-dark:#E06C75"> days</span><span style="color:#0184BC;--shiki-dark:#56B6C2"> =</span><span style="color:#4078F2;--shiki-dark:#61AFEF"> parseInt</span><span style="color:#383A42;--shiki-dark:#ABB2BF">(</span><span style="color:#383A42;--shiki-dark:#E06C75">interval</span><span style="color:#0184BC;--shiki-dark:#56B6C2"> /</span><span style="color:#986801;--shiki-dark:#D19A66"> 86400000</span><span style="color:#383A42;--shiki-dark:#ABB2BF">)</span></span><span class="line"><span style="color:#A0A1A7;font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">    /* 发布时间超过指定时间（毫秒） */</span></span><span class="line"><span style="color:#A0A1A7;font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">    //note warning 以及 note danger 是 Next 主题的自定义模板语法，如果使用其他主题，请自行更改样式以达到最佳显示效果</span></span><span class="line"><span style="color:#A626A4;--shiki-dark:#C678DD">    if</span><span style="color:#383A42;--shiki-dark:#ABB2BF"> (</span><span style="color:#383A42;--shiki-dark:#E06C75">interval</span><span style="color:#0184BC;--shiki-dark:#56B6C2"> ></span><span style="color:#383A42;--shiki-dark:#E06C75"> warningDay</span><span style="color:#0184BC;--shiki-dark:#56B6C2"> *</span><span style="color:#986801;--shiki-dark:#D19A66"> 3600</span><span style="color:#0184BC;--shiki-dark:#56B6C2"> *</span><span style="color:#986801;--shiki-dark:#D19A66"> 24</span><span style="color:#0184BC;--shiki-dark:#56B6C2"> *</span><span style="color:#986801;--shiki-dark:#D19A66"> 1000</span><span style="color:#0184BC;--shiki-dark:#56B6C2"> &#x26;&#x26;</span><span style="color:#383A42;--shiki-dark:#E06C75"> interval</span><span style="color:#0184BC;--shiki-dark:#56B6C2"> &#x3C;</span><span style="color:#383A42;--shiki-dark:#E06C75"> errorDay</span><span style="color:#0184BC;--shiki-dark:#56B6C2"> *</span><span style="color:#986801;--shiki-dark:#D19A66"> 3600</span><span style="color:#0184BC;--shiki-dark:#56B6C2"> *</span><span style="color:#986801;--shiki-dark:#D19A66"> 24</span><span style="color:#0184BC;--shiki-dark:#56B6C2"> *</span><span style="color:#986801;--shiki-dark:#D19A66"> 1000</span><span style="color:#383A42;--shiki-dark:#ABB2BF">) &#123;</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#E06C75">        posts</span><span style="color:#383A42;--shiki-dark:#ABB2BF">[</span><span style="color:#986801;--shiki-dark:#D19A66">0</span><span style="color:#383A42;--shiki-dark:#ABB2BF">].</span><span style="color:#E45649;--shiki-dark:#E06C75">innerHTML</span><span style="color:#0184BC;--shiki-dark:#56B6C2"> =</span><span style="color:#50A14F;--shiki-dark:#98C379"> '&#x3C;div class="note note-warning">'</span><span style="color:#0184BC;--shiki-dark:#56B6C2"> +</span></span><span class="line"><span style="color:#50A14F;--shiki-dark:#98C379">            '&#x3C;h5>文章时效性提示&#x3C;/h5>&#x3C;p>这是一篇发布于 '</span><span style="color:#0184BC;--shiki-dark:#56B6C2"> +</span><span style="color:#383A42;--shiki-dark:#E06C75"> days</span><span style="color:#0184BC;--shiki-dark:#56B6C2"> +</span><span style="color:#50A14F;--shiki-dark:#98C379"> ' 天前的文章，部分信息可能已发生改变，请注意甄别。&#x3C;/p>'</span><span style="color:#0184BC;--shiki-dark:#56B6C2"> +</span></span><span class="line"><span style="color:#50A14F;--shiki-dark:#98C379">            '&#x3C;/div>'</span><span style="color:#0184BC;--shiki-dark:#56B6C2"> +</span><span style="color:#383A42;--shiki-dark:#E06C75"> posts</span><span style="color:#383A42;--shiki-dark:#ABB2BF">[</span><span style="color:#986801;--shiki-dark:#D19A66">0</span><span style="color:#383A42;--shiki-dark:#ABB2BF">].</span><span style="color:#E45649;--shiki-dark:#E06C75">innerHTML</span><span style="color:#383A42;--shiki-dark:#ABB2BF">;</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">    &#125; </span><span style="color:#A626A4;--shiki-dark:#C678DD">else</span><span style="color:#A626A4;--shiki-dark:#C678DD"> if</span><span style="color:#383A42;--shiki-dark:#ABB2BF"> (</span><span style="color:#383A42;--shiki-dark:#E06C75">interval</span><span style="color:#0184BC;--shiki-dark:#56B6C2"> >=</span><span style="color:#383A42;--shiki-dark:#E06C75"> errorDay</span><span style="color:#0184BC;--shiki-dark:#56B6C2"> *</span><span style="color:#986801;--shiki-dark:#D19A66"> 3600</span><span style="color:#0184BC;--shiki-dark:#56B6C2"> *</span><span style="color:#986801;--shiki-dark:#D19A66"> 24</span><span style="color:#0184BC;--shiki-dark:#56B6C2"> *</span><span style="color:#986801;--shiki-dark:#D19A66"> 1000</span><span style="color:#383A42;--shiki-dark:#ABB2BF">) &#123;</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#E06C75">        posts</span><span style="color:#383A42;--shiki-dark:#ABB2BF">[</span><span style="color:#986801;--shiki-dark:#D19A66">0</span><span style="color:#383A42;--shiki-dark:#ABB2BF">].</span><span style="color:#E45649;--shiki-dark:#E06C75">innerHTML</span><span style="color:#0184BC;--shiki-dark:#56B6C2"> =</span><span style="color:#50A14F;--shiki-dark:#98C379"> '&#x3C;div class="note note-danger">'</span><span style="color:#0184BC;--shiki-dark:#56B6C2"> +</span></span><span class="line"><span style="color:#50A14F;--shiki-dark:#98C379">            '&#x3C;h5>文章时效性提示&#x3C;/h5>&#x3C;p>这是一篇发布于 '</span><span style="color:#0184BC;--shiki-dark:#56B6C2"> +</span><span style="color:#383A42;--shiki-dark:#E06C75"> days</span><span style="color:#0184BC;--shiki-dark:#56B6C2"> +</span><span style="color:#50A14F;--shiki-dark:#98C379"> ' 天前的文章，部分信息可能已发生改变，请注意甄别。&#x3C;/p>'</span><span style="color:#0184BC;--shiki-dark:#56B6C2"> +</span></span><span class="line"><span style="color:#50A14F;--shiki-dark:#98C379">            '&#x3C;/div>'</span><span style="color:#0184BC;--shiki-dark:#56B6C2"> +</span><span style="color:#383A42;--shiki-dark:#E06C75"> posts</span><span style="color:#383A42;--shiki-dark:#ABB2BF">[</span><span style="color:#986801;--shiki-dark:#D19A66">0</span><span style="color:#383A42;--shiki-dark:#ABB2BF">].</span><span style="color:#E45649;--shiki-dark:#E06C75">innerHTML</span><span style="color:#383A42;--shiki-dark:#ABB2BF">;</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">    &#125;</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">&#125;;</span></span></code></pre></td></tr></tbody></table></figure> 在之前创建的<code>scripts/injector.js</code> 中新增： <figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre class="shiki shiki-themes one-light one-dark-pro"><span class="line"><span style="color:#A0A1A7;font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">// 注入文章时效性提示</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#E5C07B">hexo</span><span style="color:#383A42;--shiki-dark:#ABB2BF">.</span><span style="color:#E45649;--shiki-dark:#E5C07B">extend</span><span style="color:#383A42;--shiki-dark:#ABB2BF">.</span><span style="color:#E45649;--shiki-dark:#E5C07B">injector</span><span style="color:#383A42;--shiki-dark:#ABB2BF">.</span><span style="color:#4078F2;--shiki-dark:#61AFEF">register</span><span style="color:#383A42;--shiki-dark:#ABB2BF">(</span></span><span class="line"><span style="color:#50A14F;--shiki-dark:#98C379">    'body_end'</span><span style="color:#383A42;--shiki-dark:#ABB2BF">, </span><span style="color:#50A14F;--shiki-dark:#98C379">`&#x3C;script src="custom/js/outdate-notice.js">&#x3C;/script>`</span><span style="color:#383A42;--shiki-dark:#ABB2BF">, </span><span style="color:#50A14F;--shiki-dark:#98C379">'post'</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">);</span></span></code></pre></td></tr></tbody></table></figure> 使用<code>hexo cl</code> + <code>hexo d -g</code> 重新生成并部署即可。</p><h2 id="代码块美化">代码块美化</h2><p>在 <code>scripts</code> 目录下新建 <code>code-pretty.js</code> 文件：<figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre class="shiki shiki-themes one-light one-dark-pro"><span class="line"><span style="color:#50A14F;--shiki-dark:#98C379">"use strict"</span><span style="color:#383A42;--shiki-dark:#ABB2BF">;</span></span><span class="line"></span><span class="line"><span style="color:#A0A1A7;font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">// 获取唯一 ID</span></span><span class="line"><span style="color:#A626A4;--shiki-dark:#C678DD">function</span><span style="color:#4078F2;--shiki-dark:#61AFEF"> getUuid</span><span style="color:#383A42;--shiki-dark:#ABB2BF">() &#123;</span></span><span class="line"><span style="color:#A626A4;--shiki-dark:#C678DD">    return</span><span style="color:#383A42;--shiki-dark:#E5C07B"> Math</span><span style="color:#383A42;--shiki-dark:#ABB2BF">.</span><span style="color:#4078F2;--shiki-dark:#61AFEF">random</span><span style="color:#383A42;--shiki-dark:#ABB2BF">().</span><span style="color:#4078F2;--shiki-dark:#61AFEF">toString</span><span style="color:#383A42;--shiki-dark:#ABB2BF">(</span><span style="color:#986801;--shiki-dark:#D19A66">36</span><span style="color:#383A42;--shiki-dark:#ABB2BF">).</span><span style="color:#4078F2;--shiki-dark:#61AFEF">substring</span><span style="color:#383A42;--shiki-dark:#ABB2BF">(</span><span style="color:#986801;--shiki-dark:#D19A66">2</span><span style="color:#383A42;--shiki-dark:#ABB2BF">, </span><span style="color:#986801;--shiki-dark:#D19A66">8</span><span style="color:#383A42;--shiki-dark:#ABB2BF">) </span><span style="color:#0184BC;--shiki-dark:#56B6C2">+</span><span style="color:#383A42;--shiki-dark:#E5C07B"> Date</span><span style="color:#383A42;--shiki-dark:#ABB2BF">.</span><span style="color:#4078F2;--shiki-dark:#61AFEF">now</span><span style="color:#383A42;--shiki-dark:#ABB2BF">().</span><span style="color:#4078F2;--shiki-dark:#61AFEF">toString</span><span style="color:#383A42;--shiki-dark:#ABB2BF">(</span><span style="color:#986801;--shiki-dark:#D19A66">36</span><span style="color:#383A42;--shiki-dark:#ABB2BF">);</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">&#125;</span></span><span class="line"></span><span class="line"><span style="color:#383A42;--shiki-dark:#E5C07B">hexo</span><span style="color:#383A42;--shiki-dark:#ABB2BF">.</span><span style="color:#E45649;--shiki-dark:#E5C07B">extend</span><span style="color:#383A42;--shiki-dark:#ABB2BF">.</span><span style="color:#E45649;--shiki-dark:#E5C07B">filter</span><span style="color:#383A42;--shiki-dark:#ABB2BF">.</span><span style="color:#4078F2;--shiki-dark:#61AFEF">register</span><span style="color:#383A42;--shiki-dark:#ABB2BF">(</span></span><span class="line"><span style="color:#50A14F;--shiki-dark:#98C379">    "after_post_render"</span><span style="color:#383A42;--shiki-dark:#ABB2BF">,</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">    (</span><span style="color:#383A42;font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic">data</span><span style="color:#383A42;--shiki-dark:#ABB2BF">) </span><span style="color:#A626A4;--shiki-dark:#C678DD">=></span><span style="color:#383A42;--shiki-dark:#ABB2BF"> &#123;</span></span><span class="line"><span style="color:#A626A4;--shiki-dark:#C678DD">        const</span><span style="color:#383A42;--shiki-dark:#ABB2BF"> &#123; </span><span style="color:#986801;--shiki-dark:#E5C07B">line_number</span><span style="color:#383A42;--shiki-dark:#ABB2BF">, </span><span style="color:#986801;--shiki-dark:#E5C07B">lib</span><span style="color:#383A42;--shiki-dark:#ABB2BF"> &#125; </span><span style="color:#0184BC;--shiki-dark:#56B6C2">=</span><span style="color:#383A42;--shiki-dark:#E5C07B"> hexo</span><span style="color:#383A42;--shiki-dark:#ABB2BF">.</span><span style="color:#E45649;--shiki-dark:#E5C07B">theme</span><span style="color:#383A42;--shiki-dark:#ABB2BF">.</span><span style="color:#E45649;--shiki-dark:#E5C07B">config</span><span style="color:#383A42;--shiki-dark:#ABB2BF">.</span><span style="color:#E45649;--shiki-dark:#E5C07B">code</span><span style="color:#383A42;--shiki-dark:#ABB2BF">.</span><span style="color:#E45649;--shiki-dark:#E06C75">highlight</span><span style="color:#383A42;--shiki-dark:#ABB2BF">;</span></span><span class="line"></span><span class="line"><span style="color:#A626A4;--shiki-dark:#C678DD">        let</span><span style="color:#383A42;--shiki-dark:#E06C75"> reg</span><span style="color:#383A42;--shiki-dark:#ABB2BF">;</span></span><span class="line"><span style="color:#A626A4;--shiki-dark:#C678DD">        if</span><span style="color:#383A42;--shiki-dark:#ABB2BF"> (</span><span style="color:#383A42;--shiki-dark:#E06C75">lib</span><span style="color:#0184BC;--shiki-dark:#56B6C2"> ===</span><span style="color:#50A14F;--shiki-dark:#98C379"> "highlightjs"</span><span style="color:#383A42;--shiki-dark:#ABB2BF">) &#123;</span></span><span class="line"><span style="color:#A626A4;--shiki-dark:#C678DD">            if</span><span style="color:#383A42;--shiki-dark:#ABB2BF"> (</span><span style="color:#383A42;--shiki-dark:#E06C75">line_number</span><span style="color:#383A42;--shiki-dark:#ABB2BF">) &#123;</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#E06C75">                reg</span><span style="color:#0184BC;--shiki-dark:#56B6C2"> =</span><span style="color:#0184BC;--shiki-dark:#E06C75"> /(&#x3C;figure class="highlight</span><span style="color:#986801;--shiki-dark:#E06C75">.</span><span style="color:#0184BC;--shiki-dark:#D19A66">+?</span><span style="color:#0184BC;--shiki-dark:#E06C75">>)(</span><span style="color:#986801;--shiki-dark:#E06C75">.</span><span style="color:#0184BC;--shiki-dark:#D19A66">+?</span><span style="color:#0184BC;--shiki-dark:#E06C75">hljs (</span><span style="color:#986801;--shiki-dark:#E06C75">.</span><span style="color:#0184BC;--shiki-dark:#D19A66">*?</span><span style="color:#0184BC;--shiki-dark:#E06C75">)"</span><span style="color:#986801;--shiki-dark:#E06C75">.</span><span style="color:#0184BC;--shiki-dark:#D19A66">+?</span><span style="color:#0184BC;--shiki-dark:#E06C75">)(&#x3C;</span><span style="color:#0184BC;--shiki-dark:#56B6C2">\/</span><span style="color:#0184BC;--shiki-dark:#E06C75">figure>)/</span><span style="color:#A626A4;--shiki-dark:#C678DD">gims</span><span style="color:#383A42;--shiki-dark:#ABB2BF">;</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">            &#125; </span><span style="color:#A626A4;--shiki-dark:#C678DD">else</span><span style="color:#383A42;--shiki-dark:#ABB2BF"> &#123;</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#E06C75">                reg</span><span style="color:#0184BC;--shiki-dark:#56B6C2"> =</span><span style="color:#0184BC;--shiki-dark:#E06C75"> /(&#x3C;div class="code-wrapper</span><span style="color:#986801;--shiki-dark:#E06C75">.</span><span style="color:#0184BC;--shiki-dark:#D19A66">+?</span><span style="color:#0184BC;--shiki-dark:#E06C75">>)(</span><span style="color:#986801;--shiki-dark:#E06C75">.</span><span style="color:#0184BC;--shiki-dark:#D19A66">+?</span><span style="color:#0184BC;--shiki-dark:#E06C75">hljs (</span><span style="color:#986801;--shiki-dark:#E06C75">.</span><span style="color:#0184BC;--shiki-dark:#D19A66">*?</span><span style="color:#0184BC;--shiki-dark:#E06C75">)"</span><span style="color:#986801;--shiki-dark:#E06C75">.</span><span style="color:#0184BC;--shiki-dark:#D19A66">+?</span><span style="color:#0184BC;--shiki-dark:#E06C75">)(&#x3C;</span><span style="color:#0184BC;--shiki-dark:#56B6C2">\/</span><span style="color:#0184BC;--shiki-dark:#E06C75">div>)/</span><span style="color:#A626A4;--shiki-dark:#C678DD">gims</span><span style="color:#383A42;--shiki-dark:#ABB2BF">;</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">            &#125;</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">        &#125; </span><span style="color:#A626A4;--shiki-dark:#C678DD">else</span><span style="color:#A626A4;--shiki-dark:#C678DD"> if</span><span style="color:#383A42;--shiki-dark:#ABB2BF"> (</span><span style="color:#383A42;--shiki-dark:#E06C75">lib</span><span style="color:#0184BC;--shiki-dark:#56B6C2"> ===</span><span style="color:#50A14F;--shiki-dark:#98C379"> "prismjs"</span><span style="color:#383A42;--shiki-dark:#ABB2BF">) &#123;</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#E06C75">            reg</span><span style="color:#0184BC;--shiki-dark:#56B6C2"> =</span><span style="color:#0184BC;--shiki-dark:#E06C75"> /(&#x3C;div class="code-wrapper</span><span style="color:#986801;--shiki-dark:#E06C75">.</span><span style="color:#0184BC;--shiki-dark:#D19A66">+?</span><span style="color:#0184BC;--shiki-dark:#E06C75">>)(</span><span style="color:#986801;--shiki-dark:#E06C75">.</span><span style="color:#0184BC;--shiki-dark:#D19A66">+?</span><span style="color:#0184BC;--shiki-dark:#E06C75">data-language="(</span><span style="color:#986801;--shiki-dark:#E06C75">.</span><span style="color:#0184BC;--shiki-dark:#D19A66">*?</span><span style="color:#0184BC;--shiki-dark:#E06C75">)"</span><span style="color:#986801;--shiki-dark:#E06C75">.</span><span style="color:#0184BC;--shiki-dark:#D19A66">+?</span><span style="color:#0184BC;--shiki-dark:#E06C75">)(&#x3C;</span><span style="color:#0184BC;--shiki-dark:#56B6C2">\/</span><span style="color:#0184BC;--shiki-dark:#E06C75">div>)/</span><span style="color:#A626A4;--shiki-dark:#C678DD">gims</span><span style="color:#383A42;--shiki-dark:#ABB2BF">;</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">        &#125;</span></span><span class="line"></span><span class="line"><span style="color:#383A42;--shiki-dark:#E5C07B">        data</span><span style="color:#383A42;--shiki-dark:#ABB2BF">.</span><span style="color:#E45649;--shiki-dark:#E06C75">content</span><span style="color:#0184BC;--shiki-dark:#56B6C2"> =</span><span style="color:#383A42;--shiki-dark:#E5C07B"> data</span><span style="color:#383A42;--shiki-dark:#ABB2BF">.</span><span style="color:#E45649;--shiki-dark:#E5C07B">content</span><span style="color:#383A42;--shiki-dark:#ABB2BF">.</span><span style="color:#4078F2;--shiki-dark:#61AFEF">replace</span><span style="color:#383A42;--shiki-dark:#ABB2BF">(</span><span style="color:#383A42;--shiki-dark:#E06C75">reg</span><span style="color:#383A42;--shiki-dark:#ABB2BF">, (</span><span style="color:#383A42;font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic">match</span><span style="color:#383A42;--shiki-dark:#ABB2BF">, </span><span style="color:#383A42;font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic">begin</span><span style="color:#383A42;--shiki-dark:#ABB2BF">, </span><span style="color:#383A42;font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic">inner</span><span style="color:#383A42;--shiki-dark:#ABB2BF">, </span><span style="color:#383A42;font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic">lang</span><span style="color:#383A42;--shiki-dark:#ABB2BF">, </span><span style="color:#383A42;font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic">end</span><span style="color:#383A42;--shiki-dark:#ABB2BF">, </span><span style="color:#383A42;font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic">offset</span><span style="color:#383A42;--shiki-dark:#ABB2BF">, </span><span style="color:#383A42;font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic">string</span><span style="color:#383A42;--shiki-dark:#ABB2BF">) </span><span style="color:#A626A4;--shiki-dark:#C678DD">=></span><span style="color:#383A42;--shiki-dark:#ABB2BF"> &#123;</span></span><span class="line"><span style="color:#A626A4;--shiki-dark:#C678DD">            const</span><span style="color:#986801;--shiki-dark:#E5C07B"> collapseId</span><span style="color:#0184BC;--shiki-dark:#56B6C2"> =</span><span style="color:#50A14F;--shiki-dark:#98C379"> `collapse-</span><span style="color:#CA1243;--shiki-dark:#C678DD">$&#123;</span><span style="color:#4078F2;--shiki-dark:#61AFEF">getUuid</span><span style="color:#383A42;--shiki-dark:#ABB2BF">()</span><span style="color:#CA1243;--shiki-dark:#C678DD">&#125;</span><span style="color:#50A14F;--shiki-dark:#98C379">`</span><span style="color:#383A42;--shiki-dark:#ABB2BF">;</span></span><span class="line"><span style="color:#A626A4;--shiki-dark:#C678DD">            const</span><span style="color:#986801;--shiki-dark:#E5C07B"> collapseBtn</span><span style="color:#0184BC;--shiki-dark:#56B6C2"> =</span><span style="color:#50A14F;--shiki-dark:#98C379"> `&#x3C;i class="iconfont icon-code" type="button" data-toggle="collapse" data-target="#</span><span style="color:#CA1243;--shiki-dark:#C678DD">$&#123;</span><span style="color:#383A42;--shiki-dark:#E06C75">collapseId</span><span style="color:#CA1243;--shiki-dark:#C678DD">&#125;</span><span style="color:#50A14F;--shiki-dark:#98C379">">&#x3C;/i>`</span><span style="color:#383A42;--shiki-dark:#ABB2BF">;</span></span><span class="line"><span style="color:#A626A4;--shiki-dark:#C678DD">            const</span><span style="color:#986801;--shiki-dark:#E5C07B"> collapseDiv</span><span style="color:#0184BC;--shiki-dark:#56B6C2"> =</span><span style="color:#50A14F;--shiki-dark:#98C379"> `&#x3C;div class="collapse show" id="</span><span style="color:#CA1243;--shiki-dark:#C678DD">$&#123;</span><span style="color:#383A42;--shiki-dark:#E06C75">collapseId</span><span style="color:#CA1243;--shiki-dark:#C678DD">&#125;</span><span style="color:#50A14F;--shiki-dark:#98C379">"></span><span style="color:#CA1243;--shiki-dark:#C678DD">$&#123;</span><span style="color:#383A42;--shiki-dark:#E06C75">inner</span><span style="color:#CA1243;--shiki-dark:#C678DD">&#125;</span><span style="color:#50A14F;--shiki-dark:#98C379">&#x3C;/div>`</span><span style="color:#383A42;--shiki-dark:#ABB2BF">;</span></span><span class="line"><span style="color:#A626A4;--shiki-dark:#C678DD">            const</span><span style="color:#986801;--shiki-dark:#E5C07B"> langSpan</span><span style="color:#0184BC;--shiki-dark:#56B6C2"> =</span><span style="color:#50A14F;--shiki-dark:#98C379"> `&#x3C;span></span><span style="color:#CA1243;--shiki-dark:#C678DD">$&#123;</span><span style="color:#383A42;--shiki-dark:#E5C07B">lang</span><span style="color:#50A14F;--shiki-dark:#ABB2BF">.</span><span style="color:#4078F2;--shiki-dark:#61AFEF">toUpperCase</span><span style="color:#383A42;--shiki-dark:#ABB2BF">()</span><span style="color:#CA1243;--shiki-dark:#C678DD">&#125;</span><span style="color:#50A14F;--shiki-dark:#98C379">&#x3C;/span>`</span><span style="color:#383A42;--shiki-dark:#ABB2BF">;</span></span><span class="line"><span style="color:#A626A4;--shiki-dark:#C678DD">            return</span><span style="color:#383A42;--shiki-dark:#E06C75"> begin</span><span style="color:#0184BC;--shiki-dark:#56B6C2"> +</span><span style="color:#383A42;--shiki-dark:#E06C75"> collapseBtn</span><span style="color:#0184BC;--shiki-dark:#56B6C2"> +</span><span style="color:#383A42;--shiki-dark:#E06C75"> langSpan</span><span style="color:#0184BC;--shiki-dark:#56B6C2"> +</span><span style="color:#383A42;--shiki-dark:#E06C75"> collapseDiv</span><span style="color:#0184BC;--shiki-dark:#56B6C2"> +</span><span style="color:#383A42;--shiki-dark:#E06C75"> end</span><span style="color:#383A42;--shiki-dark:#ABB2BF">;</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">        &#125;);</span></span><span class="line"></span><span class="line"><span style="color:#A626A4;--shiki-dark:#C678DD">        return</span><span style="color:#383A42;--shiki-dark:#E06C75"> data</span><span style="color:#383A42;--shiki-dark:#ABB2BF">;</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">    &#125;,</span></span><span class="line"><span style="color:#986801;--shiki-dark:#D19A66">    10000</span><span style="color:#A0A1A7;font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic"> // 应该在完成其他渲染后执行，因此将优先级设大一点</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">);</span></span></code></pre></td></tr></tbody></table></figure> <div class="note info no-icon modern"><p>如果需要修改代码块右上角图标，请更换 <code>collapseBtn</code> 的 icon部分 <code>"iconfont icon-code"</code>。</p></div> 再在 <code>custom/css</code> 中新建<code>code-pretty.styl</code> 文件 <figure class="highlight stylus"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br></pre></td><td class="code"><pre class="shiki shiki-themes one-light one-dark-pro"><span class="line"><span style="color:#986801;--shiki-dark:#D19A66">.markdown-body</span><span style="color:#986801;--shiki-dark:#D19A66"> .highlight</span><span style="color:#E45649;--shiki-dark:#E06C75"> table</span><span style="color:#A626A4;--shiki-dark:#C678DD">,</span></span><span class="line"><span style="color:#986801;--shiki-dark:#D19A66">.markdown-body</span><span style="color:#986801;--shiki-dark:#D19A66"> .code-wrapper</span><span style="color:#E45649;--shiki-dark:#E06C75"> pre</span><span style="color:#383A42;--shiki-dark:#ABB2BF"> &#123;</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">  border-radius: </span><span style="color:#986801;--shiki-dark:#D19A66">0</span><span style="color:#986801;--shiki-dark:#D19A66"> 0</span><span style="color:#986801;--shiki-dark:#D19A66"> 0.5</span><span style="color:#986801;--shiki-dark:#E06C75">rem</span><span style="color:#986801;--shiki-dark:#D19A66"> 0.5</span><span style="color:#986801;--shiki-dark:#E06C75">rem</span><span style="color:#383A42;--shiki-dark:#ABB2BF">;</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">&#125;</span></span><span class="line"></span><span class="line"><span style="color:#986801;--shiki-dark:#D19A66">.markdown-body</span><span style="color:#986801;--shiki-dark:#D19A66"> .highlight</span><span style="color:#A626A4;--shiki-dark:#C678DD">,</span></span><span class="line"><span style="color:#986801;--shiki-dark:#D19A66">.markdown-body</span><span style="color:#986801;--shiki-dark:#D19A66"> .code-wrapper</span><span style="color:#383A42;--shiki-dark:#ABB2BF"> &#123;</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">  background-color: </span><span style="color:#986801;--shiki-dark:#D19A66">#</span><span style="color:#0184BC;--shiki-dark:#D19A66">e6ebf1</span><span style="color:#383A42;--shiki-dark:#ABB2BF">;</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">  border-radius: </span><span style="color:#986801;--shiki-dark:#D19A66">0.625</span><span style="color:#986801;--shiki-dark:#E06C75">rem</span><span style="color:#383A42;--shiki-dark:#ABB2BF">;</span></span><span class="line"></span><span class="line"><span style="color:#A0A1A7;font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">  // 折叠图标</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">  > </span><span style="color:#E45649;--shiki-dark:#E06C75">i</span><span style="color:#383A42;--shiki-dark:#ABB2BF"> &#123;</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">    color: </span><span style="color:#986801;--shiki-dark:#D19A66">#</span><span style="color:#0184BC;--shiki-dark:#D19A66">777777</span><span style="color:#383A42;--shiki-dark:#ABB2BF">;</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">    margin-left: </span><span style="color:#986801;--shiki-dark:#D19A66">10</span><span style="color:#986801;--shiki-dark:#E06C75">px</span><span style="color:#383A42;--shiki-dark:#ABB2BF">;</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">    line-height: </span><span style="color:#986801;--shiki-dark:#D19A66">2</span><span style="color:#986801;--shiki-dark:#E06C75">rem</span><span style="color:#383A42;--shiki-dark:#ABB2BF">;</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">    transform: </span><span style="color:#383A42;--shiki-dark:#D19A66">none</span><span style="color:#383A42;--shiki-dark:#ABB2BF">;</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">    transition: </span><span style="color:#383A42;--shiki-dark:#D19A66">color</span><span style="color:#986801;--shiki-dark:#D19A66"> 0.2</span><span style="color:#986801;--shiki-dark:#E06C75">s</span><span style="color:#383A42;--shiki-dark:#D19A66"> ease-in-out</span><span style="color:#383A42;--shiki-dark:#ABB2BF">, </span><span style="color:#383A42;--shiki-dark:#D19A66">transform</span><span style="color:#986801;--shiki-dark:#D19A66"> 0.2</span><span style="color:#986801;--shiki-dark:#E06C75">s</span><span style="color:#383A42;--shiki-dark:#D19A66"> ease-in-out</span><span style="color:#383A42;--shiki-dark:#ABB2BF">;</span></span><span class="line"></span><span class="line"><span style="color:#A0A1A7;font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">    // &#x26;.collapsed &#123;</span></span><span class="line"><span style="color:#A0A1A7;font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">    //   transform: rotate(-90deg);</span></span><span class="line"><span style="color:#A0A1A7;font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">    // &#125;</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">  &#125;</span></span><span class="line"></span><span class="line"><span style="color:#A0A1A7;font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">  // 代码语言</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">  > </span><span style="color:#E45649;--shiki-dark:#E06C75">span</span><span style="color:#383A42;--shiki-dark:#ABB2BF"> &#123;</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">    color: </span><span style="color:#986801;--shiki-dark:#D19A66">#</span><span style="color:#0184BC;--shiki-dark:#D19A66">777777</span><span style="color:#383A42;--shiki-dark:#ABB2BF">;</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">    margin-left: </span><span style="color:#986801;--shiki-dark:#D19A66">10</span><span style="color:#986801;--shiki-dark:#E06C75">px</span><span style="color:#383A42;--shiki-dark:#ABB2BF">;</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">    font-weight: </span><span style="color:#383A42;--shiki-dark:#D19A66">bold</span><span style="color:#383A42;--shiki-dark:#ABB2BF">;</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">  &#125;</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">&#125;</span></span><span class="line"></span><span class="line"><span style="color:#986801;--shiki-dark:#D19A66">.copy-btn</span><span style="color:#383A42;--shiki-dark:#ABB2BF"> &#123;</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">  font-size: </span><span style="color:#986801;--shiki-dark:#D19A66">1</span><span style="color:#986801;--shiki-dark:#E06C75">rem</span><span style="color:#383A42;--shiki-dark:#ABB2BF">;</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">  color: </span><span style="color:#986801;--shiki-dark:#ABB2BF">darkslategrey</span><span style="color:#383A42;--shiki-dark:#ABB2BF">;</span></span><span class="line"></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">  > </span><span style="color:#E45649;--shiki-dark:#E06C75">i</span><span style="color:#383A42;--shiki-dark:#ABB2BF"> &#123;</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">    font-size: </span><span style="color:#986801;--shiki-dark:#D19A66">1</span><span style="color:#986801;--shiki-dark:#E06C75">rem</span><span style="color:#A626A4;--shiki-dark:#C678DD"> !important</span><span style="color:#383A42;--shiki-dark:#ABB2BF">;</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">    font-weight: </span><span style="color:#383A42;--shiki-dark:#D19A66">bold</span><span style="color:#383A42;--shiki-dark:#ABB2BF">;</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">  &#125;</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">&#125;</span></span><span class="line"></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">[</span><span style="color:#986801;--shiki-dark:#D19A66">data-user-color-scheme</span><span style="color:#383A42;--shiki-dark:#ABB2BF">=</span><span style="color:#50A14F;--shiki-dark:#98C379">'dark'</span><span style="color:#383A42;--shiki-dark:#ABB2BF">] &#123;</span></span><span class="line"><span style="color:#986801;--shiki-dark:#D19A66">  .copy-btn</span><span style="color:#383A42;--shiki-dark:#ABB2BF"> &#123;</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">    color: </span><span style="color:#986801;--shiki-dark:#D19A66">#</span><span style="color:#0184BC;--shiki-dark:#D19A66">c4c6c9</span><span style="color:#383A42;--shiki-dark:#ABB2BF">;</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">    transition: </span><span style="color:#383A42;--shiki-dark:#D19A66">color</span><span style="color:#986801;--shiki-dark:#D19A66"> 0.2</span><span style="color:#986801;--shiki-dark:#E06C75">s</span><span style="color:#383A42;--shiki-dark:#D19A66"> ease-in-out</span><span style="color:#383A42;--shiki-dark:#ABB2BF">;</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">  &#125;</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">&#125;</span></span><span class="line"></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">[</span><span style="color:#986801;--shiki-dark:#D19A66">data-user-color-scheme</span><span style="color:#383A42;--shiki-dark:#ABB2BF">=</span><span style="color:#50A14F;--shiki-dark:#98C379">'dark'</span><span style="color:#383A42;--shiki-dark:#ABB2BF">] &#123;</span></span><span class="line"><span style="color:#986801;--shiki-dark:#D19A66">  .markdown-body</span><span style="color:#986801;--shiki-dark:#D19A66"> .highlight</span><span style="color:#A626A4;--shiki-dark:#C678DD">,</span></span><span class="line"><span style="color:#986801;--shiki-dark:#D19A66">  .markdown-body</span><span style="color:#986801;--shiki-dark:#D19A66"> .code-wrapper</span><span style="color:#383A42;--shiki-dark:#ABB2BF"> &#123;</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">    background-color: </span><span style="color:#986801;--shiki-dark:#D19A66">#</span><span style="color:#0184BC;--shiki-dark:#D19A66">696969</span><span style="color:#383A42;--shiki-dark:#ABB2BF">;</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">    transition: background-color </span><span style="color:#986801;--shiki-dark:#D19A66">0.2</span><span style="color:#986801;--shiki-dark:#E06C75">s</span><span style="color:#383A42;--shiki-dark:#D19A66"> ease-in-out</span><span style="color:#383A42;--shiki-dark:#ABB2BF">;</span></span><span class="line"></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">    > </span><span style="color:#E45649;--shiki-dark:#E06C75">i</span><span style="color:#383A42;--shiki-dark:#ABB2BF"> &#123;</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">      color: </span><span style="color:#986801;--shiki-dark:#D19A66">#</span><span style="color:#0184BC;--shiki-dark:#D19A66">c4c6c9</span><span style="color:#383A42;--shiki-dark:#ABB2BF">;</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">    &#125;</span></span><span class="line"></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">    > </span><span style="color:#E45649;--shiki-dark:#E06C75">span</span><span style="color:#383A42;--shiki-dark:#ABB2BF"> &#123;</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">      color: </span><span style="color:#986801;--shiki-dark:#D19A66">#</span><span style="color:#0184BC;--shiki-dark:#D19A66">c4c6c9</span><span style="color:#383A42;--shiki-dark:#ABB2BF">;</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">      transition: </span><span style="color:#383A42;--shiki-dark:#D19A66">color</span><span style="color:#986801;--shiki-dark:#D19A66"> 0.2</span><span style="color:#986801;--shiki-dark:#E06C75">s</span><span style="color:#383A42;--shiki-dark:#D19A66"> ease-in-out</span><span style="color:#383A42;--shiki-dark:#ABB2BF">;</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">    &#125;</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">  &#125;</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">&#125;</span></span></code></pre></td></tr></tbody></table></figure> 在<code>_config.fluid.yml</code> 中的 <code>custom_css</code>配置项中添加： <figure class="highlight yaml"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre class="shiki shiki-themes one-light one-dark-pro"><span class="line"><span style="color:#E45649;--shiki-dark:#E06C75">custom_css</span><span style="color:#383A42;--shiki-dark:#ABB2BF">:</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">  - </span><span style="color:#50A14F;--shiki-dark:#98C379">custom/css/code-pretty</span></span></code></pre></td></tr></tbody></table></figure> 使用 <code>hexo cl</code> +<code>hexo d -g</code> 重新生成并部署即可。</p><h2 id="浏览器恶搞标签">浏览器恶搞标签</h2><p>在 <code>source</code> 目录下新建 <code>custom/js</code>目录，再在其中新建 <code>label-page.js</code> 文件，内容为：<figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre class="shiki shiki-themes one-light one-dark-pro"><span class="line"><span style="color:#A0A1A7;font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">// 浏览器搞笑标题</span></span><span class="line"><span style="color:#A626A4;--shiki-dark:#C678DD">var</span><span style="color:#383A42;--shiki-dark:#E06C75"> OriginTitle</span><span style="color:#0184BC;--shiki-dark:#56B6C2"> =</span><span style="color:#383A42;--shiki-dark:#E5C07B"> document</span><span style="color:#383A42;--shiki-dark:#ABB2BF">.</span><span style="color:#E45649;--shiki-dark:#E06C75">title</span><span style="color:#383A42;--shiki-dark:#ABB2BF">;</span></span><span class="line"><span style="color:#A626A4;--shiki-dark:#C678DD">var</span><span style="color:#383A42;--shiki-dark:#E06C75"> titleTime</span><span style="color:#383A42;--shiki-dark:#ABB2BF">;</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#E5C07B">document</span><span style="color:#383A42;--shiki-dark:#ABB2BF">.</span><span style="color:#4078F2;--shiki-dark:#61AFEF">addEventListener</span><span style="color:#383A42;--shiki-dark:#ABB2BF">(</span><span style="color:#50A14F;--shiki-dark:#98C379">'visibilitychange'</span><span style="color:#383A42;--shiki-dark:#ABB2BF">, </span><span style="color:#A626A4;--shiki-dark:#C678DD">function</span><span style="color:#383A42;--shiki-dark:#ABB2BF"> () &#123;</span></span><span class="line"><span style="color:#A626A4;--shiki-dark:#C678DD">  if</span><span style="color:#383A42;--shiki-dark:#ABB2BF"> (</span><span style="color:#383A42;--shiki-dark:#E5C07B">document</span><span style="color:#383A42;--shiki-dark:#ABB2BF">.</span><span style="color:#E45649;--shiki-dark:#E06C75">hidden</span><span style="color:#383A42;--shiki-dark:#ABB2BF">) &#123;</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#E5C07B">    document</span><span style="color:#383A42;--shiki-dark:#ABB2BF">.</span><span style="color:#E45649;--shiki-dark:#E06C75">title</span><span style="color:#0184BC;--shiki-dark:#56B6C2"> =</span><span style="color:#50A14F;--shiki-dark:#98C379"> '(´;ω;｀) 你不要我了吗 - '</span><span style="color:#0184BC;--shiki-dark:#56B6C2"> +</span><span style="color:#383A42;--shiki-dark:#E06C75"> OriginTitle</span><span style="color:#383A42;--shiki-dark:#ABB2BF">;</span></span><span class="line"><span style="color:#4078F2;--shiki-dark:#61AFEF">    clearTimeout</span><span style="color:#383A42;--shiki-dark:#ABB2BF">(</span><span style="color:#383A42;--shiki-dark:#E06C75">titleTime</span><span style="color:#383A42;--shiki-dark:#ABB2BF">);</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">  &#125; </span><span style="color:#A626A4;--shiki-dark:#C678DD">else</span><span style="color:#383A42;--shiki-dark:#ABB2BF"> &#123;</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#E5C07B">    document</span><span style="color:#383A42;--shiki-dark:#ABB2BF">.</span><span style="color:#E45649;--shiki-dark:#E06C75">title</span><span style="color:#0184BC;--shiki-dark:#56B6C2"> =</span><span style="color:#383A42;--shiki-dark:#E06C75"> OriginTitle</span><span style="color:#383A42;--shiki-dark:#ABB2BF">;</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#E06C75">    titleTime</span><span style="color:#0184BC;--shiki-dark:#56B6C2"> =</span><span style="color:#4078F2;--shiki-dark:#61AFEF"> setTimeout</span><span style="color:#383A42;--shiki-dark:#ABB2BF">(</span><span style="color:#A626A4;--shiki-dark:#C678DD">function</span><span style="color:#383A42;--shiki-dark:#ABB2BF"> () &#123;</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#E5C07B">      document</span><span style="color:#383A42;--shiki-dark:#ABB2BF">.</span><span style="color:#E45649;--shiki-dark:#E06C75">title</span><span style="color:#0184BC;--shiki-dark:#56B6C2"> =</span><span style="color:#383A42;--shiki-dark:#E06C75"> OriginTitle</span><span style="color:#383A42;--shiki-dark:#ABB2BF">;</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">    &#125;, </span><span style="color:#986801;--shiki-dark:#D19A66">2000</span><span style="color:#383A42;--shiki-dark:#ABB2BF">);</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">  &#125;</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">&#125;);</span></span></code></pre></td></tr></tbody></table></figure> 随后在 <code>_config.fluid.yml</code> 中的<code>custom_js</code> 配置项中添加： <figure class="highlight yaml"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre class="shiki shiki-themes one-light one-dark-pro"><span class="line"><span style="color:#E45649;--shiki-dark:#E06C75">custom_js</span><span style="color:#383A42;--shiki-dark:#ABB2BF">:</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">  - </span><span style="color:#50A14F;--shiki-dark:#98C379">/custom/js/label-page.js</span><span style="color:#A0A1A7;font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic"> # 浏览器恶搞标题</span></span></code></pre></td></tr></tbody></table></figure> 使用<code>hexo cl</code> + <code>hexo d -g</code> 重新生成并部署即可。</p><h2 id="背景动态线条">背景动态线条</h2><h3 id="简单版">简单版</h3><p>添加<ahref="https://github.com/hustcc/canvas-nest.js">背景动态线条</a>只需要在<code>_config.fluid.yml</code> 中新增 <code>custom_html</code>配置项并添加如下内容： <figure class="highlight yaml"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre class="shiki shiki-themes one-light one-dark-pro"><span class="line"><span style="color:#E45649;--shiki-dark:#E06C75">custom_html</span><span style="color:#383A42;--shiki-dark:#ABB2BF">:</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">  - </span><span style="color:#50A14F;--shiki-dark:#98C379">&#x3C;script type="text/javascript" color="255,255,255" opacity="1.0" zIndex="-1" count="110" src="https://cdn.jsdelivr.net/npm/canvas-nest.js@1.0.1/dist/canvas-nest.js">&#x3C;/script></span></span></code></pre></td></tr></tbody></table></figure> 使用 <code>hexo cl</code> +<code>hexo d -g</code> 重新生成并部署即可。</p><h3 id="修改版">修改版</h3><p>由于 <code>canvas-nest.js</code> 的 <code>2.0.0</code>以后所有版本都与 Fluid 主题有冲突，而 <code>1.0.1</code>版本不能修改点的颜色，只能修改线条颜色，因此还可以选择将<code>1.0.1</code> 版本的 <code>js</code> 文件下载到本地进行修改。</p><p>下载<ahref="https://cdn.jsdelivr.net/npm/canvas-nest.js@1.0.1/dist/canvas-nest.js">源文件</a>到本地<code>source/custom/js</code> 目录下，分别修改以下内容：</p><ul><li>在 <code>c: get_attribute(script, "color", "0,0,0"),</code>后新增一行</li></ul><figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre class="shiki shiki-themes one-light one-dark-pro"><span class="line"><span style="color:#383A42;--shiki-dark:#E06C75">p</span><span style="color:#383A42;--shiki-dark:#ABB2BF">: </span><span style="color:#4078F2;--shiki-dark:#61AFEF">get_attribute</span><span style="color:#383A42;--shiki-dark:#ABB2BF">(</span><span style="color:#383A42;--shiki-dark:#E06C75">script</span><span style="color:#383A42;--shiki-dark:#ABB2BF">, </span><span style="color:#50A14F;--shiki-dark:#98C379">"pointColor"</span><span style="color:#383A42;--shiki-dark:#ABB2BF">, </span><span style="color:#50A14F;--shiki-dark:#98C379">"0,0,0"</span><span style="color:#383A42;--shiki-dark:#ABB2BF">), </span><span style="color:#A0A1A7;font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">//pointColor</span></span></code></pre></td></tr></tbody></table></figure><ul><li>在<code>context.strokeStyle = "rgba(" + config.c + "," + (d + 0.2) + ")"</code>后新增一行</li></ul><figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre class="shiki shiki-themes one-light one-dark-pro"><span class="line"><span style="color:#383A42;--shiki-dark:#E5C07B">context</span><span style="color:#383A42;--shiki-dark:#ABB2BF">.</span><span style="color:#E45649;--shiki-dark:#E06C75">fillStyle</span><span style="color:#0184BC;--shiki-dark:#56B6C2"> =</span><span style="color:#50A14F;--shiki-dark:#98C379"> "rgba("</span><span style="color:#0184BC;--shiki-dark:#56B6C2"> +</span><span style="color:#383A42;--shiki-dark:#E5C07B"> config</span><span style="color:#383A42;--shiki-dark:#ABB2BF">.</span><span style="color:#E45649;--shiki-dark:#E06C75">p</span><span style="color:#0184BC;--shiki-dark:#56B6C2"> +</span><span style="color:#50A14F;--shiki-dark:#98C379"> ")"</span><span style="color:#383A42;--shiki-dark:#ABB2BF">,</span></span></code></pre></td></tr></tbody></table></figure><p>然后在 <code>_config.fluid.yml</code> 中新增 <code>custom_html</code>配置项并添加如下内容： <figure class="highlight yaml"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre class="shiki shiki-themes one-light one-dark-pro"><span class="line"><span style="color:#E45649;--shiki-dark:#E06C75">custom_html</span><span style="color:#383A42;--shiki-dark:#ABB2BF">:</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">   - </span><span style="color:#50A14F;--shiki-dark:#98C379">&#x3C;script type="text/javascript" color="255,255,255" pointColor="252,228,236" opacity="1.0" zIndex="-1" count="110" src="/custom/js/canvas-nest.js">&#x3C;/script></span></span></code></pre></td></tr></tbody></table></figure> 使用 <code>hexo cl</code> +<code>hexo d -g</code> 重新生成并部署即可。</p><h2 id="顶部阅读进度条">顶部阅读进度条</h2><p>在 <code>source/custom/js</code> 目录下新建<code>read-progress-bar.js</code> 文件： <figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre class="shiki shiki-themes one-light one-dark-pro"><span class="line"><span style="color:#383A42;--shiki-dark:#E5C07B">document</span><span style="color:#383A42;--shiki-dark:#ABB2BF">.</span><span style="color:#4078F2;--shiki-dark:#61AFEF">addEventListener</span><span style="color:#383A42;--shiki-dark:#ABB2BF">(</span><span style="color:#50A14F;--shiki-dark:#98C379">'DOMContentLoaded'</span><span style="color:#383A42;--shiki-dark:#ABB2BF">, </span><span style="color:#A626A4;--shiki-dark:#C678DD">function</span><span style="color:#383A42;--shiki-dark:#ABB2BF"> () &#123;</span></span><span class="line"><span style="color:#A626A4;--shiki-dark:#C678DD">    var</span><span style="color:#383A42;--shiki-dark:#E06C75"> winHeight</span><span style="color:#0184BC;--shiki-dark:#56B6C2"> =</span><span style="color:#383A42;--shiki-dark:#E5C07B"> window</span><span style="color:#383A42;--shiki-dark:#ABB2BF">.</span><span style="color:#E45649;--shiki-dark:#E06C75">innerHeight</span><span style="color:#383A42;--shiki-dark:#ABB2BF">,</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#E06C75">        docHeight</span><span style="color:#0184BC;--shiki-dark:#56B6C2"> =</span><span style="color:#383A42;--shiki-dark:#E5C07B"> document</span><span style="color:#383A42;--shiki-dark:#ABB2BF">.</span><span style="color:#E45649;--shiki-dark:#E5C07B">documentElement</span><span style="color:#383A42;--shiki-dark:#ABB2BF">.</span><span style="color:#E45649;--shiki-dark:#E06C75">scrollHeight</span><span style="color:#383A42;--shiki-dark:#ABB2BF">,</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#E06C75">        progressBar</span><span style="color:#0184BC;--shiki-dark:#56B6C2"> =</span><span style="color:#383A42;--shiki-dark:#E5C07B"> document</span><span style="color:#383A42;--shiki-dark:#ABB2BF">.</span><span style="color:#4078F2;--shiki-dark:#61AFEF">querySelector</span><span style="color:#383A42;--shiki-dark:#ABB2BF">(</span><span style="color:#50A14F;--shiki-dark:#98C379">'#content_progress'</span><span style="color:#383A42;--shiki-dark:#ABB2BF">);</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#E5C07B">    progressBar</span><span style="color:#383A42;--shiki-dark:#ABB2BF">.</span><span style="color:#E45649;--shiki-dark:#E06C75">max</span><span style="color:#0184BC;--shiki-dark:#56B6C2"> =</span><span style="color:#383A42;--shiki-dark:#E06C75"> docHeight</span><span style="color:#0184BC;--shiki-dark:#56B6C2"> -</span><span style="color:#383A42;--shiki-dark:#E06C75"> winHeight</span><span style="color:#383A42;--shiki-dark:#ABB2BF">;</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#E5C07B">    progressBar</span><span style="color:#383A42;--shiki-dark:#ABB2BF">.</span><span style="color:#E45649;--shiki-dark:#E06C75">value</span><span style="color:#0184BC;--shiki-dark:#56B6C2"> =</span><span style="color:#383A42;--shiki-dark:#E5C07B"> window</span><span style="color:#383A42;--shiki-dark:#ABB2BF">.</span><span style="color:#E45649;--shiki-dark:#E06C75">scrollY</span><span style="color:#383A42;--shiki-dark:#ABB2BF">;</span></span><span class="line"></span><span class="line"><span style="color:#383A42;--shiki-dark:#E5C07B">    document</span><span style="color:#383A42;--shiki-dark:#ABB2BF">.</span><span style="color:#4078F2;--shiki-dark:#61AFEF">addEventListener</span><span style="color:#383A42;--shiki-dark:#ABB2BF">(</span><span style="color:#50A14F;--shiki-dark:#98C379">'scroll'</span><span style="color:#383A42;--shiki-dark:#ABB2BF">, </span><span style="color:#A626A4;--shiki-dark:#C678DD">function</span><span style="color:#383A42;--shiki-dark:#ABB2BF"> () &#123;</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#E5C07B">        progressBar</span><span style="color:#383A42;--shiki-dark:#ABB2BF">.</span><span style="color:#E45649;--shiki-dark:#E06C75">max</span><span style="color:#0184BC;--shiki-dark:#56B6C2"> =</span><span style="color:#383A42;--shiki-dark:#E5C07B"> document</span><span style="color:#383A42;--shiki-dark:#ABB2BF">.</span><span style="color:#E45649;--shiki-dark:#E5C07B">documentElement</span><span style="color:#383A42;--shiki-dark:#ABB2BF">.</span><span style="color:#E45649;--shiki-dark:#E06C75">scrollHeight</span><span style="color:#0184BC;--shiki-dark:#56B6C2"> -</span><span style="color:#383A42;--shiki-dark:#E5C07B"> window</span><span style="color:#383A42;--shiki-dark:#ABB2BF">.</span><span style="color:#E45649;--shiki-dark:#E06C75">innerHeight</span><span style="color:#383A42;--shiki-dark:#ABB2BF">;</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#E5C07B">        progressBar</span><span style="color:#383A42;--shiki-dark:#ABB2BF">.</span><span style="color:#E45649;--shiki-dark:#E06C75">value</span><span style="color:#0184BC;--shiki-dark:#56B6C2"> =</span><span style="color:#383A42;--shiki-dark:#E5C07B"> window</span><span style="color:#383A42;--shiki-dark:#ABB2BF">.</span><span style="color:#E45649;--shiki-dark:#E06C75">scrollY</span><span style="color:#383A42;--shiki-dark:#ABB2BF">;</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">    &#125;);</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">&#125;);</span></span></code></pre></td></tr></tbody></table></figure> 再在<code>source/custom/css</code> 目录下新建<code>read-progress-bar.css</code> 文件： <figure class="highlight css"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre class="shiki shiki-themes one-light one-dark-pro"><span class="line"><span style="color:#4078F2;--shiki-dark:#61AFEF">#content_progress</span><span style="color:#383A42;--shiki-dark:#ABB2BF"> &#123;</span></span><span class="line"><span style="color:#A0A1A7;font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">    /* Positioning */</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">    position: </span><span style="color:#383A42;--shiki-dark:#D19A66">fixed</span><span style="color:#383A42;--shiki-dark:#ABB2BF">;</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">    left: </span><span style="color:#986801;--shiki-dark:#D19A66">0</span><span style="color:#383A42;--shiki-dark:#ABB2BF">;</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">    top: </span><span style="color:#986801;--shiki-dark:#D19A66">0</span><span style="color:#383A42;--shiki-dark:#ABB2BF">;</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">    z-index: </span><span style="color:#986801;--shiki-dark:#D19A66">32766</span><span style="color:#383A42;--shiki-dark:#ABB2BF">;</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">    width: </span><span style="color:#986801;--shiki-dark:#D19A66">100</span><span style="color:#986801;--shiki-dark:#E06C75">%</span><span style="color:#383A42;--shiki-dark:#ABB2BF">;</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">    height: </span><span style="color:#986801;--shiki-dark:#D19A66">6</span><span style="color:#986801;--shiki-dark:#E06C75">px</span><span style="color:#383A42;--shiki-dark:#ABB2BF">;</span></span><span class="line"><span style="color:#0184BC;--shiki-dark:#56B6C2">    -webkit-appearance</span><span style="color:#383A42;--shiki-dark:#ABB2BF">: </span><span style="color:#383A42;--shiki-dark:#D19A66">none</span><span style="color:#383A42;--shiki-dark:#ABB2BF">;</span></span><span class="line"><span style="color:#0184BC;--shiki-dark:#56B6C2">    -moz-appearance</span><span style="color:#383A42;--shiki-dark:#ABB2BF">: </span><span style="color:#383A42;--shiki-dark:#D19A66">none</span><span style="color:#383A42;--shiki-dark:#ABB2BF">;</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">    appearance: </span><span style="color:#383A42;--shiki-dark:#D19A66">none</span><span style="color:#383A42;--shiki-dark:#ABB2BF">;</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">    border: </span><span style="color:#383A42;--shiki-dark:#D19A66">none</span><span style="color:#383A42;--shiki-dark:#ABB2BF">;</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">    background-color: </span><span style="color:#383A42;--shiki-dark:#D19A66">transparent</span><span style="color:#383A42;--shiki-dark:#ABB2BF">;</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">    color: </span><span style="color:#986801;--shiki-dark:#D19A66">#</span><span style="color:#0184BC;--shiki-dark:#D19A66">ffffff80</span><span style="color:#383A42;--shiki-dark:#ABB2BF">; </span><span style="color:#A0A1A7;font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">/* 使用半透明白色，适配夜间模式 */</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">&#125;</span></span><span class="line"></span><span class="line"><span style="color:#4078F2;--shiki-dark:#61AFEF">#content_progress</span><span style="color:#986801;--shiki-dark:#56B6C2">::-webkit-progress-bar</span><span style="color:#383A42;--shiki-dark:#ABB2BF"> &#123;</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">    background-color: </span><span style="color:#383A42;--shiki-dark:#D19A66">transparent</span><span style="color:#383A42;--shiki-dark:#ABB2BF">;</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">&#125;</span></span><span class="line"></span><span class="line"><span style="color:#4078F2;--shiki-dark:#61AFEF">#content_progress</span><span style="color:#986801;--shiki-dark:#56B6C2">::-webkit-progress-value</span><span style="color:#383A42;--shiki-dark:#ABB2BF"> &#123;</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">    background-color: </span><span style="color:#986801;--shiki-dark:#D19A66">#</span><span style="color:#0184BC;--shiki-dark:#D19A66">ffffff80</span><span style="color:#383A42;--shiki-dark:#ABB2BF">;</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">&#125;</span></span><span class="line"></span><span class="line"><span style="color:#4078F2;--shiki-dark:#61AFEF">#content_progress</span><span style="color:#986801;--shiki-dark:#56B6C2">::-moz-progress-bar</span><span style="color:#383A42;--shiki-dark:#ABB2BF"> &#123;</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">    background-color: </span><span style="color:#986801;--shiki-dark:#D19A66">#</span><span style="color:#0184BC;--shiki-dark:#D19A66">ffffff80</span><span style="color:#383A42;--shiki-dark:#ABB2BF">;</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">&#125;</span></span></code></pre></td></tr></tbody></table></figure> 接着在<code>scripts</code> 目录下新建 <code>injector.js</code> 文件：<figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre class="shiki shiki-themes one-light one-dark-pro"><span class="line"><span style="color:#A0A1A7;font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">// 注入阅读进度条</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#E5C07B">hexo</span><span style="color:#383A42;--shiki-dark:#ABB2BF">.</span><span style="color:#E45649;--shiki-dark:#E5C07B">extend</span><span style="color:#383A42;--shiki-dark:#ABB2BF">.</span><span style="color:#E45649;--shiki-dark:#E5C07B">injector</span><span style="color:#383A42;--shiki-dark:#ABB2BF">.</span><span style="color:#4078F2;--shiki-dark:#61AFEF">register</span><span style="color:#383A42;--shiki-dark:#ABB2BF">(</span></span><span class="line"><span style="color:#50A14F;--shiki-dark:#98C379">    'head_begin'</span><span style="color:#383A42;--shiki-dark:#ABB2BF">, </span><span style="color:#50A14F;--shiki-dark:#98C379">'&#x3C;progress id="content_progress" value="0">&#x3C;/progress>'</span><span style="color:#383A42;--shiki-dark:#ABB2BF">, </span><span style="color:#50A14F;--shiki-dark:#98C379">'post'</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">);</span></span></code></pre></td></tr></tbody></table></figure> 最后在 <code>_config.fluid.yml</code> 中的<code>custom_js</code> 和 <code>custom_css</code> 配置项中添加：<figure class="highlight yaml"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre class="shiki shiki-themes one-light one-dark-pro"><span class="line"><span style="color:#E45649;--shiki-dark:#E06C75">custom_js</span><span style="color:#383A42;--shiki-dark:#ABB2BF">:</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">  - </span><span style="color:#50A14F;--shiki-dark:#98C379">custom/js/read-progress-bar.js</span></span><span class="line"><span style="color:#E45649;--shiki-dark:#E06C75">custom_css</span><span style="color:#383A42;--shiki-dark:#ABB2BF">:</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">  - </span><span style="color:#50A14F;--shiki-dark:#98C379">custom/css/read-progress-bar.css</span></span></code></pre></td></tr></tbody></table></figure> 使用 <code>hexo cl</code> + <code>hexo d -g</code>重新生成并部署即可。</p><h2 id="建站时间">建站时间</h2><p>在 <code>source/custom/js</code> 目录下新建<code>create-time.js</code> 文件： <figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre class="shiki shiki-themes one-light one-dark-pro"><span class="line"><span style="color:#A626A4;--shiki-dark:#C678DD">var</span><span style="color:#383A42;--shiki-dark:#E06C75"> now</span><span style="color:#0184BC;--shiki-dark:#56B6C2"> =</span><span style="color:#A626A4;--shiki-dark:#C678DD"> new</span><span style="color:#4078F2;--shiki-dark:#61AFEF"> Date</span><span style="color:#383A42;--shiki-dark:#ABB2BF">();</span></span><span class="line"><span style="color:#A626A4;--shiki-dark:#C678DD">function</span><span style="color:#4078F2;--shiki-dark:#61AFEF"> createtime</span><span style="color:#383A42;--shiki-dark:#ABB2BF">() &#123;</span></span><span class="line"><span style="color:#A626A4;--shiki-dark:#C678DD">    var</span><span style="color:#383A42;--shiki-dark:#E06C75"> grt</span><span style="color:#0184BC;--shiki-dark:#56B6C2"> =</span><span style="color:#A626A4;--shiki-dark:#C678DD"> new</span><span style="color:#4078F2;--shiki-dark:#61AFEF"> Date</span><span style="color:#383A42;--shiki-dark:#ABB2BF">(</span><span style="color:#50A14F;--shiki-dark:#98C379">"08/19/2024 12:00:00"</span><span style="color:#383A42;--shiki-dark:#ABB2BF">);</span><span style="color:#A0A1A7;font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">//在此处修改你的建站时间，格式：月/日/年 时:分:秒</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#E5C07B">    now</span><span style="color:#383A42;--shiki-dark:#ABB2BF">.</span><span style="color:#4078F2;--shiki-dark:#61AFEF">setTime</span><span style="color:#383A42;--shiki-dark:#ABB2BF">(</span><span style="color:#383A42;--shiki-dark:#E5C07B">now</span><span style="color:#383A42;--shiki-dark:#ABB2BF">.</span><span style="color:#4078F2;--shiki-dark:#61AFEF">getTime</span><span style="color:#383A42;--shiki-dark:#ABB2BF">() </span><span style="color:#0184BC;--shiki-dark:#56B6C2">+</span><span style="color:#986801;--shiki-dark:#D19A66"> 250</span><span style="color:#383A42;--shiki-dark:#ABB2BF">);</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#E06C75">    days</span><span style="color:#0184BC;--shiki-dark:#56B6C2"> =</span><span style="color:#383A42;--shiki-dark:#ABB2BF"> (</span><span style="color:#383A42;--shiki-dark:#E06C75">now</span><span style="color:#0184BC;--shiki-dark:#56B6C2"> -</span><span style="color:#383A42;--shiki-dark:#E06C75"> grt</span><span style="color:#383A42;--shiki-dark:#ABB2BF">) </span><span style="color:#0184BC;--shiki-dark:#56B6C2">/</span><span style="color:#986801;--shiki-dark:#D19A66"> 1000</span><span style="color:#0184BC;--shiki-dark:#56B6C2"> /</span><span style="color:#986801;--shiki-dark:#D19A66"> 60</span><span style="color:#0184BC;--shiki-dark:#56B6C2"> /</span><span style="color:#986801;--shiki-dark:#D19A66"> 60</span><span style="color:#0184BC;--shiki-dark:#56B6C2"> /</span><span style="color:#986801;--shiki-dark:#D19A66"> 24</span><span style="color:#383A42;--shiki-dark:#ABB2BF">; </span><span style="color:#383A42;--shiki-dark:#E06C75">dnum</span><span style="color:#0184BC;--shiki-dark:#56B6C2"> =</span><span style="color:#383A42;--shiki-dark:#E5C07B"> Math</span><span style="color:#383A42;--shiki-dark:#ABB2BF">.</span><span style="color:#4078F2;--shiki-dark:#61AFEF">floor</span><span style="color:#383A42;--shiki-dark:#ABB2BF">(</span><span style="color:#383A42;--shiki-dark:#E06C75">days</span><span style="color:#383A42;--shiki-dark:#ABB2BF">);</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#E06C75">    hours</span><span style="color:#0184BC;--shiki-dark:#56B6C2"> =</span><span style="color:#383A42;--shiki-dark:#ABB2BF"> (</span><span style="color:#383A42;--shiki-dark:#E06C75">now</span><span style="color:#0184BC;--shiki-dark:#56B6C2"> -</span><span style="color:#383A42;--shiki-dark:#E06C75"> grt</span><span style="color:#383A42;--shiki-dark:#ABB2BF">) </span><span style="color:#0184BC;--shiki-dark:#56B6C2">/</span><span style="color:#986801;--shiki-dark:#D19A66"> 1000</span><span style="color:#0184BC;--shiki-dark:#56B6C2"> /</span><span style="color:#986801;--shiki-dark:#D19A66"> 60</span><span style="color:#0184BC;--shiki-dark:#56B6C2"> /</span><span style="color:#986801;--shiki-dark:#D19A66"> 60</span><span style="color:#0184BC;--shiki-dark:#56B6C2"> -</span><span style="color:#383A42;--shiki-dark:#ABB2BF"> (</span><span style="color:#986801;--shiki-dark:#D19A66">24</span><span style="color:#0184BC;--shiki-dark:#56B6C2"> *</span><span style="color:#383A42;--shiki-dark:#E06C75"> dnum</span><span style="color:#383A42;--shiki-dark:#ABB2BF">); </span><span style="color:#383A42;--shiki-dark:#E06C75">hnum</span><span style="color:#0184BC;--shiki-dark:#56B6C2"> =</span><span style="color:#383A42;--shiki-dark:#E5C07B"> Math</span><span style="color:#383A42;--shiki-dark:#ABB2BF">.</span><span style="color:#4078F2;--shiki-dark:#61AFEF">floor</span><span style="color:#383A42;--shiki-dark:#ABB2BF">(</span><span style="color:#383A42;--shiki-dark:#E06C75">hours</span><span style="color:#383A42;--shiki-dark:#ABB2BF">);</span></span><span class="line"><span style="color:#A626A4;--shiki-dark:#C678DD">    if</span><span style="color:#383A42;--shiki-dark:#ABB2BF"> (</span><span style="color:#4078F2;--shiki-dark:#61AFEF">String</span><span style="color:#383A42;--shiki-dark:#ABB2BF">(</span><span style="color:#383A42;--shiki-dark:#E06C75">hnum</span><span style="color:#383A42;--shiki-dark:#ABB2BF">).</span><span style="color:#E45649;--shiki-dark:#E06C75">length</span><span style="color:#0184BC;--shiki-dark:#56B6C2"> ==</span><span style="color:#986801;--shiki-dark:#D19A66"> 1</span><span style="color:#383A42;--shiki-dark:#ABB2BF">) &#123; </span><span style="color:#383A42;--shiki-dark:#E06C75">hnum</span><span style="color:#0184BC;--shiki-dark:#56B6C2"> =</span><span style="color:#50A14F;--shiki-dark:#98C379"> "0"</span><span style="color:#0184BC;--shiki-dark:#56B6C2"> +</span><span style="color:#383A42;--shiki-dark:#E06C75"> hnum</span><span style="color:#383A42;--shiki-dark:#ABB2BF">; &#125; </span><span style="color:#383A42;--shiki-dark:#E06C75">minutes</span><span style="color:#0184BC;--shiki-dark:#56B6C2"> =</span><span style="color:#383A42;--shiki-dark:#ABB2BF"> (</span><span style="color:#383A42;--shiki-dark:#E06C75">now</span><span style="color:#0184BC;--shiki-dark:#56B6C2"> -</span><span style="color:#383A42;--shiki-dark:#E06C75"> grt</span><span style="color:#383A42;--shiki-dark:#ABB2BF">) </span><span style="color:#0184BC;--shiki-dark:#56B6C2">/</span><span style="color:#986801;--shiki-dark:#D19A66"> 1000</span><span style="color:#0184BC;--shiki-dark:#56B6C2"> /</span><span style="color:#986801;--shiki-dark:#D19A66"> 60</span><span style="color:#0184BC;--shiki-dark:#56B6C2"> -</span><span style="color:#383A42;--shiki-dark:#ABB2BF"> (</span><span style="color:#986801;--shiki-dark:#D19A66">24</span><span style="color:#0184BC;--shiki-dark:#56B6C2"> *</span><span style="color:#986801;--shiki-dark:#D19A66"> 60</span><span style="color:#0184BC;--shiki-dark:#56B6C2"> *</span><span style="color:#383A42;--shiki-dark:#E06C75"> dnum</span><span style="color:#383A42;--shiki-dark:#ABB2BF">) </span><span style="color:#0184BC;--shiki-dark:#56B6C2">-</span><span style="color:#383A42;--shiki-dark:#ABB2BF"> (</span><span style="color:#986801;--shiki-dark:#D19A66">60</span><span style="color:#0184BC;--shiki-dark:#56B6C2"> *</span><span style="color:#383A42;--shiki-dark:#E06C75"> hnum</span><span style="color:#383A42;--shiki-dark:#ABB2BF">);</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#E06C75">    mnum</span><span style="color:#0184BC;--shiki-dark:#56B6C2"> =</span><span style="color:#383A42;--shiki-dark:#E5C07B"> Math</span><span style="color:#383A42;--shiki-dark:#ABB2BF">.</span><span style="color:#4078F2;--shiki-dark:#61AFEF">floor</span><span style="color:#383A42;--shiki-dark:#ABB2BF">(</span><span style="color:#383A42;--shiki-dark:#E06C75">minutes</span><span style="color:#383A42;--shiki-dark:#ABB2BF">); </span><span style="color:#A626A4;--shiki-dark:#C678DD">if</span><span style="color:#383A42;--shiki-dark:#ABB2BF"> (</span><span style="color:#4078F2;--shiki-dark:#61AFEF">String</span><span style="color:#383A42;--shiki-dark:#ABB2BF">(</span><span style="color:#383A42;--shiki-dark:#E06C75">mnum</span><span style="color:#383A42;--shiki-dark:#ABB2BF">).</span><span style="color:#E45649;--shiki-dark:#E06C75">length</span><span style="color:#0184BC;--shiki-dark:#56B6C2"> ==</span><span style="color:#986801;--shiki-dark:#D19A66"> 1</span><span style="color:#383A42;--shiki-dark:#ABB2BF">) &#123; </span><span style="color:#383A42;--shiki-dark:#E06C75">mnum</span><span style="color:#0184BC;--shiki-dark:#56B6C2"> =</span><span style="color:#50A14F;--shiki-dark:#98C379"> "0"</span><span style="color:#0184BC;--shiki-dark:#56B6C2"> +</span><span style="color:#383A42;--shiki-dark:#E06C75"> mnum</span><span style="color:#383A42;--shiki-dark:#ABB2BF">; &#125;</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#E06C75">    seconds</span><span style="color:#0184BC;--shiki-dark:#56B6C2"> =</span><span style="color:#383A42;--shiki-dark:#ABB2BF"> (</span><span style="color:#383A42;--shiki-dark:#E06C75">now</span><span style="color:#0184BC;--shiki-dark:#56B6C2"> -</span><span style="color:#383A42;--shiki-dark:#E06C75"> grt</span><span style="color:#383A42;--shiki-dark:#ABB2BF">) </span><span style="color:#0184BC;--shiki-dark:#56B6C2">/</span><span style="color:#986801;--shiki-dark:#D19A66"> 1000</span><span style="color:#0184BC;--shiki-dark:#56B6C2"> -</span><span style="color:#383A42;--shiki-dark:#ABB2BF"> (</span><span style="color:#986801;--shiki-dark:#D19A66">24</span><span style="color:#0184BC;--shiki-dark:#56B6C2"> *</span><span style="color:#986801;--shiki-dark:#D19A66"> 60</span><span style="color:#0184BC;--shiki-dark:#56B6C2"> *</span><span style="color:#986801;--shiki-dark:#D19A66"> 60</span><span style="color:#0184BC;--shiki-dark:#56B6C2"> *</span><span style="color:#383A42;--shiki-dark:#E06C75"> dnum</span><span style="color:#383A42;--shiki-dark:#ABB2BF">) </span><span style="color:#0184BC;--shiki-dark:#56B6C2">-</span><span style="color:#383A42;--shiki-dark:#ABB2BF"> (</span><span style="color:#986801;--shiki-dark:#D19A66">60</span><span style="color:#0184BC;--shiki-dark:#56B6C2"> *</span><span style="color:#986801;--shiki-dark:#D19A66"> 60</span><span style="color:#0184BC;--shiki-dark:#56B6C2"> *</span><span style="color:#383A42;--shiki-dark:#E06C75"> hnum</span><span style="color:#383A42;--shiki-dark:#ABB2BF">) </span><span style="color:#0184BC;--shiki-dark:#56B6C2">-</span><span style="color:#383A42;--shiki-dark:#ABB2BF"> (</span><span style="color:#986801;--shiki-dark:#D19A66">60</span><span style="color:#0184BC;--shiki-dark:#56B6C2"> *</span><span style="color:#383A42;--shiki-dark:#E06C75"> mnum</span><span style="color:#383A42;--shiki-dark:#ABB2BF">);</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#E06C75">    snum</span><span style="color:#0184BC;--shiki-dark:#56B6C2"> =</span><span style="color:#383A42;--shiki-dark:#E5C07B"> Math</span><span style="color:#383A42;--shiki-dark:#ABB2BF">.</span><span style="color:#4078F2;--shiki-dark:#61AFEF">round</span><span style="color:#383A42;--shiki-dark:#ABB2BF">(</span><span style="color:#383A42;--shiki-dark:#E06C75">seconds</span><span style="color:#383A42;--shiki-dark:#ABB2BF">); </span><span style="color:#A626A4;--shiki-dark:#C678DD">if</span><span style="color:#383A42;--shiki-dark:#ABB2BF"> (</span><span style="color:#4078F2;--shiki-dark:#61AFEF">String</span><span style="color:#383A42;--shiki-dark:#ABB2BF">(</span><span style="color:#383A42;--shiki-dark:#E06C75">snum</span><span style="color:#383A42;--shiki-dark:#ABB2BF">).</span><span style="color:#E45649;--shiki-dark:#E06C75">length</span><span style="color:#0184BC;--shiki-dark:#56B6C2"> ==</span><span style="color:#986801;--shiki-dark:#D19A66"> 1</span><span style="color:#383A42;--shiki-dark:#ABB2BF">) &#123; </span><span style="color:#383A42;--shiki-dark:#E06C75">snum</span><span style="color:#0184BC;--shiki-dark:#56B6C2"> =</span><span style="color:#50A14F;--shiki-dark:#98C379"> "0"</span><span style="color:#0184BC;--shiki-dark:#56B6C2"> +</span><span style="color:#383A42;--shiki-dark:#E06C75"> snum</span><span style="color:#383A42;--shiki-dark:#ABB2BF">; &#125;</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#E5C07B">    document</span><span style="color:#383A42;--shiki-dark:#ABB2BF">.</span><span style="color:#4078F2;--shiki-dark:#61AFEF">getElementById</span><span style="color:#383A42;--shiki-dark:#ABB2BF">(</span><span style="color:#50A14F;--shiki-dark:#98C379">"timeDate"</span><span style="color:#383A42;--shiki-dark:#ABB2BF">).</span><span style="color:#E45649;--shiki-dark:#E06C75">innerHTML</span><span style="color:#0184BC;--shiki-dark:#56B6C2"> =</span><span style="color:#50A14F;--shiki-dark:#98C379"> "本站已创建 "</span><span style="color:#0184BC;--shiki-dark:#56B6C2"> +</span><span style="color:#383A42;--shiki-dark:#E06C75"> dnum</span><span style="color:#0184BC;--shiki-dark:#56B6C2"> +</span><span style="color:#50A14F;--shiki-dark:#98C379"> " 天 "</span><span style="color:#383A42;--shiki-dark:#ABB2BF">;</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#E5C07B">    document</span><span style="color:#383A42;--shiki-dark:#ABB2BF">.</span><span style="color:#4078F2;--shiki-dark:#61AFEF">getElementById</span><span style="color:#383A42;--shiki-dark:#ABB2BF">(</span><span style="color:#50A14F;--shiki-dark:#98C379">"times"</span><span style="color:#383A42;--shiki-dark:#ABB2BF">).</span><span style="color:#E45649;--shiki-dark:#E06C75">innerHTML</span><span style="color:#0184BC;--shiki-dark:#56B6C2"> =</span><span style="color:#383A42;--shiki-dark:#E06C75"> hnum</span><span style="color:#0184BC;--shiki-dark:#56B6C2"> +</span><span style="color:#50A14F;--shiki-dark:#98C379"> " 小时 "</span><span style="color:#0184BC;--shiki-dark:#56B6C2"> +</span><span style="color:#383A42;--shiki-dark:#E06C75"> mnum</span><span style="color:#0184BC;--shiki-dark:#56B6C2"> +</span><span style="color:#50A14F;--shiki-dark:#98C379"> " 分 "</span><span style="color:#0184BC;--shiki-dark:#56B6C2"> +</span><span style="color:#383A42;--shiki-dark:#E06C75"> snum</span><span style="color:#0184BC;--shiki-dark:#56B6C2"> +</span><span style="color:#50A14F;--shiki-dark:#98C379"> " 秒"</span><span style="color:#383A42;--shiki-dark:#ABB2BF">;</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">&#125;</span></span><span class="line"><span style="color:#4078F2;--shiki-dark:#61AFEF">setInterval</span><span style="color:#383A42;--shiki-dark:#ABB2BF">(</span><span style="color:#50A14F;--shiki-dark:#98C379">"createtime()"</span><span style="color:#383A42;--shiki-dark:#ABB2BF">, </span><span style="color:#986801;--shiki-dark:#D19A66">250</span><span style="color:#383A42;--shiki-dark:#ABB2BF">);</span></span></code></pre></td></tr></tbody></table></figure> 在<code>_config.fluid.yml</code> 中的 <code>custom_js</code>配置项中添加： <figure class="highlight yaml"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre class="shiki shiki-themes one-light one-dark-pro"><span class="line"><span style="color:#E45649;--shiki-dark:#E06C75">custom_js</span><span style="color:#383A42;--shiki-dark:#ABB2BF">:</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">  - </span><span style="color:#50A14F;--shiki-dark:#98C379">custom/js/create-time.js</span></span></code></pre></td></tr></tbody></table></figure> 最后在 <code>_config.fluid.yml</code>中修改 <code>footer/content</code> 配置项，新增一行 <figure class="highlight html"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre class="shiki shiki-themes one-light one-dark-pro"><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">&#x3C;</span><span style="color:#E45649;--shiki-dark:#E06C75">br</span><span style="color:#383A42;--shiki-dark:#ABB2BF">>&#x3C;</span><span style="color:#E45649;--shiki-dark:#E06C75">span</span><span style="color:#986801;--shiki-dark:#D19A66"> id</span><span style="color:#383A42;--shiki-dark:#ABB2BF">=</span><span style="color:#50A14F;--shiki-dark:#98C379">"timeDate"</span><span style="color:#383A42;--shiki-dark:#ABB2BF">>天数载入中&#x3C;/</span><span style="color:#E45649;--shiki-dark:#E06C75">span</span><span style="color:#383A42;--shiki-dark:#ABB2BF">>&#x3C;</span><span style="color:#E45649;--shiki-dark:#E06C75">span</span><span style="color:#986801;--shiki-dark:#D19A66"> id</span><span style="color:#383A42;--shiki-dark:#ABB2BF">=</span><span style="color:#50A14F;--shiki-dark:#98C379">"times"</span><span style="color:#383A42;--shiki-dark:#ABB2BF">>...&#x3C;/</span><span style="color:#E45649;--shiki-dark:#E06C75">span</span><span style="color:#383A42;--shiki-dark:#ABB2BF">>&#x3C;</span><span style="color:#E45649;--shiki-dark:#E06C75">br</span><span style="color:#383A42;--shiki-dark:#ABB2BF">></span></span></code></pre></td></tr></tbody></table></figure> 即将<code>footer/content</code> 配置项修改为如下形式： <figure class="highlight yaml"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre class="shiki shiki-themes one-light one-dark-pro"><span class="line"><span style="color:#E45649;--shiki-dark:#E06C75">footer</span><span style="color:#383A42;--shiki-dark:#ABB2BF">:</span></span><span class="line"><span style="color:#E45649;--shiki-dark:#E06C75">  content</span><span style="color:#383A42;--shiki-dark:#ABB2BF">: </span><span style="color:#50A14F;--shiki-dark:#98C379">'</span></span><span class="line"><span style="color:#50A14F;--shiki-dark:#98C379">    &#x3C;a href="https://hexo.io" target="_blank" rel="nofollow noopener">&#x3C;span>Hexo&#x3C;/span>&#x3C;/a></span></span><span class="line"><span style="color:#50A14F;--shiki-dark:#98C379">    &#x3C;i class="iconfont icon-love">&#x3C;/i></span></span><span class="line"><span style="color:#50A14F;--shiki-dark:#98C379">    &#x3C;a href="https://github.com/fluid-dev/hexo-theme-fluid" target="_blank" rel="nofollow noopener">&#x3C;span>Fluid&#x3C;/span>&#x3C;/a></span></span><span class="line"><span style="color:#50A14F;--shiki-dark:#98C379">    &#x3C;br>&#x3C;span id="timeDate">天数载入中&#x3C;/span>&#x3C;span id="times">...&#x3C;/span>&#x3C;br></span></span><span class="line"><span style="color:#50A14F;--shiki-dark:#98C379">  '</span></span></code></pre></td></tr></tbody></table></figure> 使用<code>hexo cl</code> + <code>hexo d -g</code> 重新生成并部署即可。</p><h2 id="随机文章跳转">随机文章跳转</h2><p>该方法需要先<a href="#添加网站地图">生成sitemap</a>。</p><p>先在 <code>source/custom/js</code> 目录下新建<code>random-post.js</code> 文件： <figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre class="shiki shiki-themes one-light one-dark-pro"><span class="line"><span style="color:#A626A4;--shiki-dark:#C678DD">function</span><span style="color:#4078F2;--shiki-dark:#61AFEF"> randomPost</span><span style="color:#383A42;--shiki-dark:#ABB2BF">() &#123;</span></span><span class="line"><span style="color:#4078F2;--shiki-dark:#61AFEF">    fetch</span><span style="color:#383A42;--shiki-dark:#ABB2BF">(</span><span style="color:#50A14F;--shiki-dark:#98C379">'/sitemap.xml'</span><span style="color:#383A42;--shiki-dark:#ABB2BF">).</span><span style="color:#4078F2;--shiki-dark:#61AFEF">then</span><span style="color:#383A42;--shiki-dark:#ABB2BF">(</span><span style="color:#383A42;font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic">res</span><span style="color:#A626A4;--shiki-dark:#C678DD"> =></span><span style="color:#383A42;--shiki-dark:#E5C07B"> res</span><span style="color:#383A42;--shiki-dark:#ABB2BF">.</span><span style="color:#4078F2;--shiki-dark:#61AFEF">text</span><span style="color:#383A42;--shiki-dark:#ABB2BF">()).</span><span style="color:#4078F2;--shiki-dark:#61AFEF">then</span><span style="color:#383A42;--shiki-dark:#ABB2BF">(</span><span style="color:#383A42;font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic">str</span><span style="color:#A626A4;--shiki-dark:#C678DD"> =></span><span style="color:#383A42;--shiki-dark:#ABB2BF"> (</span><span style="color:#A626A4;--shiki-dark:#C678DD">new</span><span style="color:#383A42;--shiki-dark:#E5C07B"> window</span><span style="color:#383A42;--shiki-dark:#ABB2BF">.</span><span style="color:#4078F2;--shiki-dark:#61AFEF">DOMParser</span><span style="color:#383A42;--shiki-dark:#ABB2BF">()).</span><span style="color:#4078F2;--shiki-dark:#61AFEF">parseFromString</span><span style="color:#383A42;--shiki-dark:#ABB2BF">(</span><span style="color:#383A42;--shiki-dark:#E06C75">str</span><span style="color:#383A42;--shiki-dark:#ABB2BF">, </span><span style="color:#50A14F;--shiki-dark:#98C379">"text/xml"</span><span style="color:#383A42;--shiki-dark:#ABB2BF">)).</span><span style="color:#4078F2;--shiki-dark:#61AFEF">then</span><span style="color:#383A42;--shiki-dark:#ABB2BF">(</span><span style="color:#383A42;font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic">data</span><span style="color:#A626A4;--shiki-dark:#C678DD"> =></span><span style="color:#383A42;--shiki-dark:#ABB2BF"> &#123;</span></span><span class="line"><span style="color:#A626A4;--shiki-dark:#C678DD">        let</span><span style="color:#383A42;--shiki-dark:#E06C75"> ls</span><span style="color:#0184BC;--shiki-dark:#56B6C2"> =</span><span style="color:#383A42;--shiki-dark:#E5C07B"> data</span><span style="color:#383A42;--shiki-dark:#ABB2BF">.</span><span style="color:#4078F2;--shiki-dark:#61AFEF">querySelectorAll</span><span style="color:#383A42;--shiki-dark:#ABB2BF">(</span><span style="color:#50A14F;--shiki-dark:#98C379">'url loc'</span><span style="color:#383A42;--shiki-dark:#ABB2BF">);</span></span><span class="line"><span style="color:#A626A4;--shiki-dark:#C678DD">        let</span><span style="color:#383A42;--shiki-dark:#E06C75"> locationHref</span><span style="color:#383A42;--shiki-dark:#ABB2BF">, </span><span style="color:#383A42;--shiki-dark:#E06C75">locSplit</span><span style="color:#383A42;--shiki-dark:#ABB2BF">;</span></span><span class="line"><span style="color:#A626A4;--shiki-dark:#C678DD">        do</span><span style="color:#383A42;--shiki-dark:#ABB2BF"> &#123;</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#E06C75">            locationHref</span><span style="color:#0184BC;--shiki-dark:#56B6C2"> =</span><span style="color:#383A42;--shiki-dark:#E06C75"> ls</span><span style="color:#383A42;--shiki-dark:#ABB2BF">[</span><span style="color:#383A42;--shiki-dark:#E5C07B">Math</span><span style="color:#383A42;--shiki-dark:#ABB2BF">.</span><span style="color:#4078F2;--shiki-dark:#61AFEF">floor</span><span style="color:#383A42;--shiki-dark:#ABB2BF">(</span><span style="color:#383A42;--shiki-dark:#E5C07B">Math</span><span style="color:#383A42;--shiki-dark:#ABB2BF">.</span><span style="color:#4078F2;--shiki-dark:#61AFEF">random</span><span style="color:#383A42;--shiki-dark:#ABB2BF">() </span><span style="color:#0184BC;--shiki-dark:#56B6C2">*</span><span style="color:#383A42;--shiki-dark:#E5C07B"> ls</span><span style="color:#383A42;--shiki-dark:#ABB2BF">.</span><span style="color:#E45649;--shiki-dark:#E06C75">length</span><span style="color:#383A42;--shiki-dark:#ABB2BF">)].</span><span style="color:#E45649;--shiki-dark:#E06C75">innerHTML</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#E06C75">            locSplit</span><span style="color:#0184BC;--shiki-dark:#56B6C2"> =</span><span style="color:#383A42;--shiki-dark:#E5C07B"> locationHref</span><span style="color:#383A42;--shiki-dark:#ABB2BF">.</span><span style="color:#4078F2;--shiki-dark:#61AFEF">split</span><span style="color:#383A42;--shiki-dark:#ABB2BF">(</span><span style="color:#50A14F;--shiki-dark:#98C379">'/'</span><span style="color:#383A42;--shiki-dark:#ABB2BF">)[</span><span style="color:#986801;--shiki-dark:#D19A66">3</span><span style="color:#383A42;--shiki-dark:#ABB2BF">] </span><span style="color:#0184BC;--shiki-dark:#56B6C2">||</span><span style="color:#50A14F;--shiki-dark:#98C379"> ''</span></span><span class="line"><span style="color:#A0A1A7;font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">            // &#125; while (locSplit == '' || locSplit == 'tags');</span></span><span class="line"><span style="color:#A0A1A7;font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">            //若所有文章都如 https://…….com/posts/2022/07/…… 格式，主域名后字符是 posts，则循环条件改为：</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">        &#125; </span><span style="color:#A626A4;--shiki-dark:#C678DD">while</span><span style="color:#383A42;--shiki-dark:#ABB2BF"> (</span><span style="color:#383A42;--shiki-dark:#E06C75">locSplit</span><span style="color:#0184BC;--shiki-dark:#56B6C2"> !==</span><span style="color:#50A14F;--shiki-dark:#98C379"> 'posts'</span><span style="color:#383A42;--shiki-dark:#ABB2BF">);</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#E5C07B">        location</span><span style="color:#383A42;--shiki-dark:#ABB2BF">.</span><span style="color:#E45649;--shiki-dark:#E06C75">href</span><span style="color:#0184BC;--shiki-dark:#56B6C2"> =</span><span style="color:#383A42;--shiki-dark:#E06C75"> locationHref</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">    &#125;)</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">&#125;</span></span></code></pre></td></tr></tbody></table></figure> 在<code>_config.fluid.yml</code> 中的 <code>custom_js</code>配置项中添加： <figure class="highlight yaml"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre class="shiki shiki-themes one-light one-dark-pro"><span class="line"><span style="color:#E45649;--shiki-dark:#E06C75">custom_js</span><span style="color:#383A42;--shiki-dark:#ABB2BF">:</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">  - </span><span style="color:#50A14F;--shiki-dark:#98C379">custom/js/random-post.js</span></span></code></pre></td></tr></tbody></table></figure> 随后在喜欢的位置放上<code>javascript:randomPost();</code> 的跳转链接，例如在导航栏：<figure class="highlight yaml"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre class="shiki shiki-themes one-light one-dark-pro"><span class="line"><span style="color:#E45649;--shiki-dark:#E06C75">menu</span><span style="color:#383A42;--shiki-dark:#ABB2BF">:</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">  - &#123; </span><span style="color:#E45649;--shiki-dark:#E06C75">key</span><span style="color:#383A42;--shiki-dark:#ABB2BF">: </span><span style="color:#50A14F;--shiki-dark:#98C379">"random"</span><span style="color:#383A42;--shiki-dark:#ABB2BF">, </span><span style="color:#E45649;--shiki-dark:#E06C75">name</span><span style="color:#383A42;--shiki-dark:#ABB2BF">: </span><span style="color:#50A14F;--shiki-dark:#98C379">"随机文章"</span><span style="color:#383A42;--shiki-dark:#ABB2BF">, </span><span style="color:#E45649;--shiki-dark:#E06C75">link</span><span style="color:#383A42;--shiki-dark:#ABB2BF">: </span><span style="color:#50A14F;--shiki-dark:#98C379">"javascript:randomPost();"</span><span style="color:#383A42;--shiki-dark:#ABB2BF">, </span><span style="color:#E45649;--shiki-dark:#E06C75">icon</span><span style="color:#383A42;--shiki-dark:#ABB2BF">: </span><span style="color:#50A14F;--shiki-dark:#98C379">"iconfont icon-random"</span><span style="color:#383A42;--shiki-dark:#ABB2BF"> &#125;</span></span></code></pre></td></tr></tbody></table></figure> 使用 <code>hexo cl</code> + <code>hexo d -g</code>重新生成并部署即可。 <div class="note info no-icon modern"><p>以上代码中 <code>icon: "iconfont icon-random"</code> 使用了我自己的Iconfont 图标库而非<ahref="https://hexo.fluid-dev.com/docs/icon/">主题内置 Iconfont图标库</a>，有需要请自行到 <ahref="https://www.iconfont.cn/">Iconfont</a> 创建自己的图标库。</p></div></p><h2 id="新增标签语法">新增标签语法</h2><p>参看<a href="/posts/a0486011/" title="Fluid 移植其他主题的标签语法">另一篇文章</a></p><h2 id="参考资料">参考资料</h2><p>本篇文章内容参考了类似的大量文章内容，特此感谢（排名不分先后） - <ahref="https://zeyulong.com/posts/3edad46f">Hexo博客美化 -龙泽雨的博客</a> - <ahref="https://wakutsu0223.top/2023/02/24/Hexo-Fluid%E6%90%AD%E5%BB%BA%E4%B8%8E%E9%AD%94%E6%94%B9%E7%BA%AA%E5%BD%95">Hexo-Fluid搭建与魔改纪录- 弥冬のBlog</a> - <ahref="https://www.eurekady.com/article/Fluid/e3b7f02954e5">Hexo-3-Fluid主题魔改- 遥望</a> - <ahref="https://blog.kevinchu.top/2023/07/17/hexo-theme-fluid-modify">Hexo博客Fluid主题魔改记录- KEVIN’S BLOG</a> - <ahref="https://www.cnblogs.com/qq597585136/p/7019755.html">网页动态背景——随鼠标变换的动态线条- 孤独的飞行者 - 博客园</a> - <ahref="https://github.com/fluid-dev/hexo-theme-fluid/issues/1051">建议添加“文章时效性”提示· Issue #1051 · fluid-dev/hexo-theme-fluid</a> - <ahref="https://kiyanyang.github.io/posts/f92be1eb/">Hexo-Fluid博客美化和修改 | Kiyan’s Blog</a> - <ahref="https://kiyanyang.github.io/posts/c4dd4019/">使用 Hexo 过滤器实现Fluid 主题的代码折叠 | Kiyan’s Blog</a> - <ahref="https://immmmm.com/randompost-by-sitemap/">利用 SiteMap随机访问站内页面：：木木木木木</a></p>]]></content:encoded>
      
      
      <category domain="https://blog.hpcesia.com/categories/%E5%B0%8F%E5%B1%8B%E7%9B%B8%E5%85%B3/">小屋相关</category>
      
      
      <category domain="https://blog.hpcesia.com/tags/Hexo/">Hexo</category>
      
      <category domain="https://blog.hpcesia.com/tags/Fluid/">Fluid</category>
      
      <category domain="https://blog.hpcesia.com/tags/%E5%8D%9A%E5%AE%A2/">博客</category>
      
      <category domain="https://blog.hpcesia.com/tags/CSS/">CSS</category>
      
      <category domain="https://blog.hpcesia.com/tags/JavaScript/">JavaScript</category>
      
      <category domain="https://blog.hpcesia.com/tags/HTML/">HTML</category>
      
      
      <comments>https://blog.hpcesia.com/posts/a06e351a/#disqus_thread</comments>
      
    </item>
    
    <item>
      <title>考研数据结构笔记 - KMP 算法</title>
      <link>https://blog.hpcesia.com/posts/fc617a15/</link>
      <guid>https://blog.hpcesia.com/posts/fc617a15/</guid>
      <pubDate>Thu, 22 Aug 2024 04:02:34 GMT</pubDate>
      
      <description>考研复习数据结构的 KMP 算法的笔记。</description>
      
      
      
      <content:encoded><![CDATA[<div class="note info modern"><i class="solitude fas fa-info-circle"></i><p>本文基于考研 408 的 KMP 算法编写。</p></div><p>KMP 算法核心思想：<strong>主字符串指针只进不退</strong></p><h2 id="kmp-匹配算法">KMP 匹配算法</h2><p>这个比较简单，基于 <code>next</code> 数组进行计算即可。</p><p>匹配使用双指针进行，主字符串的指针只进不退，当模式串指针指向的字符与主字符串指针指向的字符匹配时，两个指针一起+1；当模式串的某个字符不匹配时，则根据 <code>next</code>数组中的对应值，将模式串指针移动到相应的地方。直接看代码更简单：</p><figure class="highlight cpp"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre class="shiki shiki-themes one-light one-dark-pro"><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">std::</span><span style="color:#C18401;--shiki-dark:#E5C07B">optional</span><span style="color:#383A42;--shiki-dark:#ABB2BF">&#x3C;</span><span style="color:#A626A4;--shiki-dark:#C678DD">size_t</span><span style="color:#383A42;--shiki-dark:#ABB2BF">> </span><span style="color:#4078F2;--shiki-dark:#61AFEF">kmpMatch</span><span style="color:#383A42;--shiki-dark:#ABB2BF">(</span><span style="color:#A626A4;--shiki-dark:#C678DD">const</span><span style="color:#383A42;--shiki-dark:#ABB2BF"> std::</span><span style="color:#C18401;--shiki-dark:#E5C07B">string</span><span style="color:#A626A4;--shiki-dark:#C678DD">&#x26;</span><span style="color:#383A42;font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic"> str</span><span style="color:#383A42;--shiki-dark:#ABB2BF">, </span><span style="color:#A626A4;--shiki-dark:#C678DD">const</span><span style="color:#383A42;--shiki-dark:#ABB2BF"> std::</span><span style="color:#C18401;--shiki-dark:#E5C07B">string</span><span style="color:#A626A4;--shiki-dark:#C678DD">&#x26;</span><span style="color:#383A42;font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic"> pattern</span><span style="color:#383A42;--shiki-dark:#ABB2BF">) &#123;</span></span><span class="line"><span style="color:#A626A4;--shiki-dark:#C678DD">    if</span><span style="color:#383A42;--shiki-dark:#ABB2BF"> (</span><span style="color:#E45649;--shiki-dark:#E5C07B">pattern</span><span style="color:#383A42;--shiki-dark:#ABB2BF">.</span><span style="color:#4078F2;--shiki-dark:#61AFEF">empty</span><span style="color:#383A42;--shiki-dark:#ABB2BF">()) &#123;</span></span><span class="line"><span style="color:#A626A4;--shiki-dark:#C678DD">        return</span><span style="color:#986801;--shiki-dark:#D19A66"> 0</span><span style="color:#383A42;--shiki-dark:#ABB2BF">;</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">    &#125;</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">    std::vector</span><span style="color:#A626A4;--shiki-dark:#C678DD">&#x3C;size_t></span><span style="color:#383A42;--shiki-dark:#ABB2BF"> next </span><span style="color:#A626A4;--shiki-dark:#C678DD">=</span><span style="color:#4078F2;--shiki-dark:#61AFEF"> generateNext</span><span style="color:#383A42;--shiki-dark:#ABB2BF">(pattern);</span></span><span class="line"><span style="color:#A0A1A7;font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">    // pattern无符号，需要额外+1来处理首字符不匹配的情况</span></span><span class="line"><span style="color:#A626A4;--shiki-dark:#C678DD">    size_t</span><span style="color:#383A42;--shiki-dark:#ABB2BF"> str_ptr </span><span style="color:#A626A4;--shiki-dark:#C678DD">=</span><span style="color:#986801;--shiki-dark:#D19A66"> 0</span><span style="color:#383A42;--shiki-dark:#ABB2BF">, pattern_ptr </span><span style="color:#A626A4;--shiki-dark:#C678DD">=</span><span style="color:#986801;--shiki-dark:#D19A66"> 1</span><span style="color:#383A42;--shiki-dark:#ABB2BF">;</span></span><span class="line"><span style="color:#A626A4;--shiki-dark:#C678DD">    while</span><span style="color:#383A42;--shiki-dark:#ABB2BF"> (str_ptr </span><span style="color:#A626A4;--shiki-dark:#C678DD">&#x3C;</span><span style="color:#E45649;--shiki-dark:#E5C07B"> str</span><span style="color:#383A42;--shiki-dark:#ABB2BF">.</span><span style="color:#4078F2;--shiki-dark:#61AFEF">size</span><span style="color:#383A42;--shiki-dark:#ABB2BF">() </span><span style="color:#A626A4;--shiki-dark:#56B6C2">&#x26;&#x26;</span><span style="color:#383A42;--shiki-dark:#ABB2BF"> pattern_ptr </span><span style="color:#A626A4;--shiki-dark:#C678DD">&#x3C;=</span><span style="color:#E45649;--shiki-dark:#E5C07B"> pattern</span><span style="color:#383A42;--shiki-dark:#ABB2BF">.</span><span style="color:#4078F2;--shiki-dark:#61AFEF">size</span><span style="color:#383A42;--shiki-dark:#ABB2BF">()) &#123;</span></span><span class="line"><span style="color:#A626A4;--shiki-dark:#C678DD">        if</span><span style="color:#383A42;--shiki-dark:#ABB2BF"> (pattern_ptr </span><span style="color:#A626A4;--shiki-dark:#C678DD">==</span><span style="color:#986801;--shiki-dark:#D19A66"> 0</span><span style="color:#A626A4;--shiki-dark:#56B6C2"> ||</span><span style="color:#E45649;--shiki-dark:#E5C07B"> str</span><span style="color:#383A42;--shiki-dark:#ABB2BF">[str_ptr] </span><span style="color:#A626A4;--shiki-dark:#C678DD">==</span><span style="color:#E45649;--shiki-dark:#E5C07B"> pattern</span><span style="color:#383A42;--shiki-dark:#ABB2BF">[pattern_ptr </span><span style="color:#A626A4;--shiki-dark:#C678DD">-</span><span style="color:#986801;--shiki-dark:#D19A66"> 1</span><span style="color:#383A42;--shiki-dark:#ABB2BF">]) &#123;</span></span><span class="line"><span style="color:#A0A1A7;font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">            // 匹配时，指针都后移</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">            str_ptr</span><span style="color:#A626A4;--shiki-dark:#C678DD">++</span><span style="color:#383A42;--shiki-dark:#ABB2BF">;</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">            pattern_ptr</span><span style="color:#A626A4;--shiki-dark:#C678DD">++</span><span style="color:#383A42;--shiki-dark:#ABB2BF">;</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">        &#125; </span><span style="color:#A626A4;--shiki-dark:#C678DD">else</span><span style="color:#383A42;--shiki-dark:#ABB2BF"> &#123;</span></span><span class="line"><span style="color:#A0A1A7;font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">            // 不匹配时，模式串指针回到next数组中对应位置</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">            pattern_ptr </span><span style="color:#A626A4;--shiki-dark:#C678DD">=</span><span style="color:#E45649;--shiki-dark:#E5C07B"> next</span><span style="color:#383A42;--shiki-dark:#ABB2BF">[pattern_ptr </span><span style="color:#A626A4;--shiki-dark:#C678DD">-</span><span style="color:#986801;--shiki-dark:#D19A66"> 1</span><span style="color:#383A42;--shiki-dark:#ABB2BF">];</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">        &#125;</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">    &#125;</span></span><span class="line"><span style="color:#A626A4;--shiki-dark:#C678DD">    if</span><span style="color:#383A42;--shiki-dark:#ABB2BF"> (pattern_ptr </span><span style="color:#A626A4;--shiki-dark:#C678DD">></span><span style="color:#E45649;--shiki-dark:#E5C07B"> pattern</span><span style="color:#383A42;--shiki-dark:#ABB2BF">.</span><span style="color:#4078F2;--shiki-dark:#61AFEF">size</span><span style="color:#383A42;--shiki-dark:#ABB2BF">()) &#123;</span></span><span class="line"><span style="color:#A0A1A7;font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">        // 匹配成功，返回匹配的首个字符位置</span></span><span class="line"><span style="color:#A626A4;--shiki-dark:#C678DD">        return</span><span style="color:#383A42;--shiki-dark:#ABB2BF"> str_ptr </span><span style="color:#A626A4;--shiki-dark:#C678DD">-</span><span style="color:#383A42;--shiki-dark:#ABB2BF"> (pattern_ptr </span><span style="color:#A626A4;--shiki-dark:#C678DD">-</span><span style="color:#986801;--shiki-dark:#D19A66"> 1</span><span style="color:#383A42;--shiki-dark:#ABB2BF">);</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">    &#125; </span><span style="color:#A626A4;--shiki-dark:#C678DD">else</span><span style="color:#383A42;--shiki-dark:#ABB2BF"> &#123;</span></span><span class="line"><span style="color:#A0A1A7;font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">        // 匹配失败，返回空</span></span><span class="line"><span style="color:#A626A4;--shiki-dark:#C678DD">        return</span><span style="color:#383A42;--shiki-dark:#ABB2BF"> &#123;&#125;;</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">    &#125;</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">&#125;</span></span></code></pre></td></tr></tbody></table></figure><h2 id="kmp-next-数组生成算法">KMP next 数组生成算法</h2><p>这个才是重中之重。先上算法代码： <figure class="highlight cpp"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre class="shiki shiki-themes one-light one-dark-pro"><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">std::</span><span style="color:#C18401;--shiki-dark:#E5C07B">vector</span><span style="color:#383A42;--shiki-dark:#ABB2BF">&#x3C;</span><span style="color:#A626A4;--shiki-dark:#C678DD">size_t</span><span style="color:#383A42;--shiki-dark:#ABB2BF">> </span><span style="color:#4078F2;--shiki-dark:#61AFEF">generateNext</span><span style="color:#383A42;--shiki-dark:#ABB2BF">(</span><span style="color:#A626A4;--shiki-dark:#C678DD">const</span><span style="color:#383A42;--shiki-dark:#ABB2BF"> std::</span><span style="color:#C18401;--shiki-dark:#E5C07B">string</span><span style="color:#A626A4;--shiki-dark:#C678DD">&#x26;</span><span style="color:#383A42;font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic"> pattern</span><span style="color:#383A42;--shiki-dark:#ABB2BF">) &#123;</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">    std::vector</span><span style="color:#A626A4;--shiki-dark:#C678DD">&#x3C;size_t></span><span style="color:#4078F2;--shiki-dark:#61AFEF"> next</span><span style="color:#383A42;--shiki-dark:#ABB2BF">(</span><span style="color:#E45649;--shiki-dark:#E5C07B">pattern</span><span style="color:#383A42;--shiki-dark:#ABB2BF">.</span><span style="color:#4078F2;--shiki-dark:#61AFEF">size</span><span style="color:#383A42;--shiki-dark:#ABB2BF">(), </span><span style="color:#986801;--shiki-dark:#D19A66">0</span><span style="color:#383A42;--shiki-dark:#ABB2BF">);</span></span><span class="line"><span style="color:#A626A4;--shiki-dark:#C678DD">    for</span><span style="color:#383A42;--shiki-dark:#ABB2BF"> (</span><span style="color:#A626A4;--shiki-dark:#C678DD">size_t</span><span style="color:#383A42;--shiki-dark:#ABB2BF"> i </span><span style="color:#A626A4;--shiki-dark:#C678DD">=</span><span style="color:#986801;--shiki-dark:#D19A66"> 0</span><span style="color:#383A42;--shiki-dark:#ABB2BF">, j </span><span style="color:#A626A4;--shiki-dark:#C678DD">=</span><span style="color:#986801;--shiki-dark:#D19A66"> 0</span><span style="color:#383A42;--shiki-dark:#ABB2BF">; i </span><span style="color:#A626A4;--shiki-dark:#C678DD">&#x3C;</span><span style="color:#E45649;--shiki-dark:#E5C07B"> next</span><span style="color:#383A42;--shiki-dark:#ABB2BF">.</span><span style="color:#4078F2;--shiki-dark:#61AFEF">size</span><span style="color:#383A42;--shiki-dark:#ABB2BF">() </span><span style="color:#A626A4;--shiki-dark:#C678DD">-</span><span style="color:#986801;--shiki-dark:#D19A66"> 1</span><span style="color:#383A42;--shiki-dark:#ABB2BF">;) &#123;</span></span><span class="line"><span style="color:#A626A4;--shiki-dark:#C678DD">        if</span><span style="color:#383A42;--shiki-dark:#ABB2BF"> (j </span><span style="color:#A626A4;--shiki-dark:#C678DD">==</span><span style="color:#986801;--shiki-dark:#D19A66"> 0</span><span style="color:#A626A4;--shiki-dark:#56B6C2"> ||</span><span style="color:#E45649;--shiki-dark:#E5C07B"> pattern</span><span style="color:#383A42;--shiki-dark:#ABB2BF">[i] </span><span style="color:#A626A4;--shiki-dark:#C678DD">==</span><span style="color:#E45649;--shiki-dark:#E5C07B"> pattern</span><span style="color:#383A42;--shiki-dark:#ABB2BF">[j </span><span style="color:#A626A4;--shiki-dark:#C678DD">-</span><span style="color:#986801;--shiki-dark:#D19A66"> 1</span><span style="color:#383A42;--shiki-dark:#ABB2BF">]) &#123;</span></span><span class="line"><span style="color:#E45649;--shiki-dark:#E5C07B">            next</span><span style="color:#383A42;--shiki-dark:#ABB2BF">[i </span><span style="color:#A626A4;--shiki-dark:#C678DD">+</span><span style="color:#986801;--shiki-dark:#D19A66"> 1</span><span style="color:#383A42;--shiki-dark:#ABB2BF">] </span><span style="color:#A626A4;--shiki-dark:#C678DD">=</span><span style="color:#A626A4;--shiki-dark:#C678DD"> ++</span><span style="color:#383A42;--shiki-dark:#ABB2BF">j;</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">            i</span><span style="color:#A626A4;--shiki-dark:#C678DD">++</span><span style="color:#383A42;--shiki-dark:#ABB2BF">;</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">        &#125; </span><span style="color:#A626A4;--shiki-dark:#C678DD">else</span><span style="color:#383A42;--shiki-dark:#ABB2BF"> &#123;</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">            j </span><span style="color:#A626A4;--shiki-dark:#C678DD">=</span><span style="color:#E45649;--shiki-dark:#E5C07B"> next</span><span style="color:#383A42;--shiki-dark:#ABB2BF">[j </span><span style="color:#A626A4;--shiki-dark:#C678DD">-</span><span style="color:#986801;--shiki-dark:#D19A66"> 1</span><span style="color:#383A42;--shiki-dark:#ABB2BF">];</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">        &#125;</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">    &#125;</span></span><span class="line"><span style="color:#A626A4;--shiki-dark:#C678DD">    return</span><span style="color:#383A42;--shiki-dark:#ABB2BF"> next;</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">&#125;</span></span></code></pre></td></tr></tbody></table></figure></p><p>以下为叙述方便起见，采用类似 MATLAB 的 <code>str[a:b]</code>的形式来表示 <code>str.substr(a, b - a)</code> 这一子串。</p><p>算法的输出 <code>next</code> 数组中，<code>next[i]</code> 对应的是<code>pattern[0:i - 1]</code> 的最长公共前后缀长度+1。算法的循环可以看作两个部分，一个部分是递增<code>i</code>，而另一个循环则是移动 <code>j</code> 来找到<code>pattern[0:i]</code> 的最长公共前后缀长度，所以每次<code>i++</code> 后，<code>j</code> 都表示 <code>pattern[0:i - 1]</code>的最长公共前后缀长度 +1(因为 <code>j</code> 也跟着递增了)。</p><p>着重考虑第二个循环，即 <code>i++</code> 后移动 <code>j</code>的部分。循环开始时，比较 <code>pattern[0:i]</code>后缀的最后一个字符，即 <code>pattern[i]</code> ，与<code>pattern[0:i - 1]</code> 的最长公共前后缀所对应前缀的下一个字符，即<code>pattern[j - 1]</code> 是否相等。</p><p>如果相等，就说明 <code>pattern[0:i]</code> 的最长公共前后缀为<code>pattern[0:j - 1]</code> 和 <code>pattern[i - j:i]</code>，因为<code>pattern[0:i - 1]</code> 的最长公共前后缀恰为<code>pattern[0:j - 2]</code> 和 <code>pattern[i - j:i - 1]</code>。</p><p>如果不相等，则回退 <code>j</code>。这是因为<code>pattern[0:j - 2] == pattern[i - j:i - 1]</code>，而<code>next[j - 1]</code> 就是 <code>pattern[0:j - 2]</code>的最大公共前后缀长度 +1，也是 <code>pattern[i - j:i - 1]</code>的最大公共前后缀长度 +1，所以要把 <code>j</code> 回退到<code>next[j - 1]</code>。</p><p>换句话来说，第二个循环就是利用已经计算好的公共前后缀长度与前后缀相同的性质，按顺序不断尝试寻找最长的公共前后缀，如果发现前后缀不匹配，就回退到次长公共前后缀继续尝试寻找，直到<code>j</code> 回退到<code>pattern[0]</code>，也就是找不到任何公共前后缀时循环结束，递增<code>i</code>。</p><h2 id="kmp-nextval-数组">KMP nextval 数组</h2><p>在 KMP 的匹配算法中，如果 <code>pattern[i]</code>失配，则模式串指针回退到 <code>next[i] - 1</code> 处。但如果<code>pattern[i] = pattern[next[i] - 1]</code>，那回退后进行的下一次匹配一定是失配的，还要继续回退，相当于进行了一次无用的匹配。</p><p><code>nextval</code> 就是用来解决这个问题的，在计算出<code>next</code> 数组后，再遍历 <code>next</code> 数组做一次修改，如果<code>pattern[i] = pattern[next[i] - 1]</code>，就让<code>next[i] = next[next[i] - 1]</code>，省去一次无用的跳转。</p><p>算法代码如下：</p><figure class="highlight cpp"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre class="shiki shiki-themes one-light one-dark-pro"><span class="line"><span style="color:#A626A4;--shiki-dark:#C678DD">void</span><span style="color:#4078F2;--shiki-dark:#61AFEF"> generateNextval</span><span style="color:#383A42;--shiki-dark:#ABB2BF">(</span><span style="color:#A626A4;--shiki-dark:#C678DD">const</span><span style="color:#383A42;--shiki-dark:#ABB2BF"> std::</span><span style="color:#C18401;--shiki-dark:#E5C07B">string</span><span style="color:#A626A4;--shiki-dark:#C678DD">&#x26;</span><span style="color:#383A42;font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic"> pattern</span><span style="color:#383A42;--shiki-dark:#ABB2BF">, std::</span><span style="color:#C18401;--shiki-dark:#E5C07B">vector</span><span style="color:#383A42;--shiki-dark:#ABB2BF">&#x3C;</span><span style="color:#A626A4;--shiki-dark:#C678DD">size_t</span><span style="color:#383A42;--shiki-dark:#ABB2BF">></span><span style="color:#A626A4;--shiki-dark:#C678DD">&#x26;</span><span style="color:#383A42;font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic"> next</span><span style="color:#383A42;--shiki-dark:#ABB2BF">) &#123;</span></span><span class="line"><span style="color:#A626A4;--shiki-dark:#C678DD">    if</span><span style="color:#383A42;--shiki-dark:#ABB2BF"> (</span><span style="color:#E45649;--shiki-dark:#E5C07B">next</span><span style="color:#383A42;--shiki-dark:#ABB2BF">.</span><span style="color:#4078F2;--shiki-dark:#61AFEF">size</span><span style="color:#383A42;--shiki-dark:#ABB2BF">() </span><span style="color:#A626A4;--shiki-dark:#C678DD">==</span><span style="color:#986801;--shiki-dark:#D19A66"> 0</span><span style="color:#383A42;--shiki-dark:#ABB2BF">) &#123;</span></span><span class="line"><span style="color:#A626A4;--shiki-dark:#C678DD">        return</span><span style="color:#383A42;--shiki-dark:#ABB2BF">;</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">    &#125;</span></span><span class="line"><span style="color:#A626A4;--shiki-dark:#C678DD">    for</span><span style="color:#383A42;--shiki-dark:#ABB2BF"> (</span><span style="color:#A626A4;--shiki-dark:#C678DD">size_t</span><span style="color:#383A42;--shiki-dark:#ABB2BF"> i </span><span style="color:#A626A4;--shiki-dark:#C678DD">=</span><span style="color:#986801;--shiki-dark:#D19A66"> 1</span><span style="color:#383A42;--shiki-dark:#ABB2BF">; i </span><span style="color:#A626A4;--shiki-dark:#C678DD">&#x3C;</span><span style="color:#E45649;--shiki-dark:#E5C07B"> pattern</span><span style="color:#383A42;--shiki-dark:#ABB2BF">.</span><span style="color:#4078F2;--shiki-dark:#61AFEF">size</span><span style="color:#383A42;--shiki-dark:#ABB2BF">(); </span><span style="color:#A626A4;--shiki-dark:#C678DD">++</span><span style="color:#383A42;--shiki-dark:#ABB2BF">i) &#123;</span></span><span class="line"><span style="color:#A626A4;--shiki-dark:#C678DD">        if</span><span style="color:#383A42;--shiki-dark:#ABB2BF"> (</span><span style="color:#E45649;--shiki-dark:#E5C07B">pattern</span><span style="color:#383A42;--shiki-dark:#ABB2BF">[i] </span><span style="color:#A626A4;--shiki-dark:#C678DD">==</span><span style="color:#E45649;--shiki-dark:#E5C07B"> pattern</span><span style="color:#383A42;--shiki-dark:#ABB2BF">[</span><span style="color:#E45649;--shiki-dark:#E5C07B">next</span><span style="color:#383A42;--shiki-dark:#ABB2BF">[i] </span><span style="color:#A626A4;--shiki-dark:#C678DD">-</span><span style="color:#986801;--shiki-dark:#D19A66"> 1</span><span style="color:#383A42;--shiki-dark:#ABB2BF">]) &#123;</span></span><span class="line"><span style="color:#E45649;--shiki-dark:#E5C07B">            next</span><span style="color:#383A42;--shiki-dark:#ABB2BF">[i] </span><span style="color:#A626A4;--shiki-dark:#C678DD">=</span><span style="color:#E45649;--shiki-dark:#E5C07B"> next</span><span style="color:#383A42;--shiki-dark:#ABB2BF">[</span><span style="color:#E45649;--shiki-dark:#E5C07B">next</span><span style="color:#383A42;--shiki-dark:#ABB2BF">[i] </span><span style="color:#A626A4;--shiki-dark:#C678DD">-</span><span style="color:#986801;--shiki-dark:#D19A66"> 1</span><span style="color:#383A42;--shiki-dark:#ABB2BF">];</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">        &#125;</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">    &#125;</span></span><span class="line"><span style="color:#A626A4;--shiki-dark:#C678DD">    return</span><span style="color:#383A42;--shiki-dark:#ABB2BF">;</span></span><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">&#125;</span></span></code></pre></td></tr></tbody></table></figure>]]></content:encoded>
      
      
      <category domain="https://blog.hpcesia.com/categories/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/">学习笔记</category>
      
      
      <category domain="https://blog.hpcesia.com/tags/%E7%AE%97%E6%B3%95/">算法</category>
      
      <category domain="https://blog.hpcesia.com/tags/%E8%80%83%E7%A0%94/">考研</category>
      
      
      <comments>https://blog.hpcesia.com/posts/fc617a15/#disqus_thread</comments>
      
    </item>
    
  </channel>
</rss>
