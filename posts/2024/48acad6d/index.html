<!DOCTYPE html><html lang="[&quot;zh-CN&quot;,&quot;zh-TW&quot;,&quot;default&quot;]" data-theme="light"><head><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1"><title>使用 Hexo + Github Page 搭建个人博客的实践记录。 | HPCesia 的摆烂小屋</title><noscript>开启JavaScript才能访问本站哦~</noscript><link rel="icon" href="/img/icon/favicon/favicon_128.png"><link rel="stylesheet" href="/css/index.css?v=2.0.12"><link rel="canonical" href="https://hpcesia.github.io/posts/2024/48acad6d/"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.6.0/css/all.min.css"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/aplayer/1.10.1/APlayer.min.css"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/Swiper/11.0.5/swiper-bundle.min.css"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.9/katex.min.css"><meta name="description" content="更新日志2024-09-03迁移「添加网站到搜索引擎」部分到另一篇文章。规范了更新日志格式。2024-08-30更新了「数学公式渲染」、「搜索引擎」、「评论系统」的部分内容。2024-08-28更新了「数学公式渲染」相关内容。2024-08-27新增「优化博客性能」相关内容。2024-08-26新增"><meta name="apple-mobile-web-app-capable" content="HPCesia 的摆烂小屋"><meta name="theme-color" content="var(--efu-main)"><meta name="apple-mobile-web-app-status-bar-style" content="var(--efu-main)"><link rel="bookmark" href="/img/icon/favicon/favicon_128.png"><link rel="apple-touch-icon" href="/img/icon/favicon/favicon_128.png" sizes="180x180"><script>console.log(" %c Solitude %c 2.0.12 %c https://github.com/everfu/hexo-theme-solitude","background:#35495e ; padding: 1px; border-radius: 3px 0 0 3px;  color: #fff","background:#ff9a9a ; padding: 1px; border-radius: 0 3px 3px 0;  color: #fff","background:unset ; padding: 1px; border-radius: 0 3px 3px 0;  color: #fff")</script><link rel="stylesheet" href="https://gcore.jsdelivr.net/npm/lxgw-wenkai-screen-web/style.css" media="defer" onload='this.media="all"'><script charset="UTF-8" id="LA_COLLECT" src="//sdk.51.la/js-sdk-pro.min.js"></script><script>LA.init({id:"3JbQeWhw3ObmVO5k",ck:"3JbQeWhw3ObmVO5k"})</script><script>(()=>{const e={set:function(e,t,n){if(0===n)return;const o=864e5*n,a={value:t,expiry:(new Date).getTime()+o};localStorage.setItem(e,JSON.stringify(a))},get:function(e){const t=localStorage.getItem(e);if(!t)return;const n=JSON.parse(t);if(!((new Date).getTime()>n.expiry))return n.value;localStorage.removeItem(e)}};window.utils={saveToLocal:e,getCSS:(e,t=!1)=>new Promise(((n,o)=>{const a=document.createElement("link");a.rel="stylesheet",a.href=e,t&&(a.id=t),a.onerror=o,a.onload=a.onreadystatechange=function(){const e=this.readyState;e&&"loaded"!==e&&"complete"!==e||(a.onload=a.onreadystatechange=null,n())},document.head.appendChild(a)})),getScript:(e,t={})=>new Promise(((n,o)=>{const a=document.createElement("script");a.src=e,a.async=!0,a.onerror=o,a.onload=a.onreadystatechange=function(){const e=this.readyState;e&&"loaded"!==e&&"complete"!==e||(a.onload=a.onreadystatechange=null,n())},Object.keys(t).forEach((e=>{a.setAttribute(e,t[e])})),document.head.appendChild(a)})),addGlobalFn:(e,t,n=!1,o=window)=>{const a=o.globalFn||{},r=a[e]||{};n&&r[n]||(r[n=n||Object.keys(r).length]=t,a[e]=r,o.globalFn=a)},addEventListenerPjax:(e,t,n,o=!1)=>{e.addEventListener(t,n,o),utils.addGlobalFn("pjax",(()=>{e.removeEventListener(t,n,o)}))}}})()</script><script>const GLOBAL_CONFIG={root:"/",algolia:void 0,localsearch:{preload:!1,path:"/search.xml"},runtime:"2024-08-19 12:00:00",lazyload:{enable:!0,error:"/img/error_load.avif"},copyright:!1,highlight:{limit:200,expand:!0,copy:!0,syntax:"prismjs"},randomlink:!1,lang:{theme:{dark:"已切换至深色模式",light:"已切换至浅色模式"},copy:{success:"复制成功",error:"复制失败"},backtop:"返回顶部",time:{day:"天前",hour:"小时前",just:"刚刚",min:"分钟前",month:"个月前"},day:" 天",f12:"开发者模式已打开，请遵循GPL协议。",totalk:"无需删除空行，直接输入评论即可",search:{empty:"找不到你查询的内容：${query}",hit:"找到 ${hits} 条结果，用时 ${time} 毫秒",placeholder:"输入关键词快速查找",count:"共 <b>${count}</b> 条结果。"}},aside:{sayhello:{morning:"早上好！希望你不是熬了通宵。",noon:"要和 Teriri 一起睡午觉吗？",afternoon:"三点几了，饮茶先啦！",night:"夜生活才刚刚开始。",goodnight:"早睡 Day0，堂堂开始！"},sayhello2:[],sayhello3:{prefix:"好久不见，",back:"欢迎再次回来，"}},covercolor:{enable:!0},comment:!1,lightbox:"null",post_ai:!1,right_menu:{mode:{dark:"深色模式",light:"浅色模式"},img_error:"此图片无法复制与下载",music:{start:"播放音乐",stop:"暂停音乐"},translate:{translateDelay:0,defaultEncoding:2}},lure:!1,expire:{time:180,position:"top",text_prev:"文章发布于 ",text_next:" 文章可能已经过时。如有问题可联系我。"}}</script><script id="config-diff">var PAGE_CONFIG={is_post:!0,is_page:!1,is_home:!1,page:"",toc:!0,comment:!0,ai_text:!1,color:!1}</script><meta name="generator" content="Hexo 7.3.0"><link rel="alternate" href="/rss2.xml" title="HPCesia 的摆烂小屋" type="application/rss+xml"></head><body id="body"><div id="global_bg"></div><div id="console"><div class="close-btn" onclick="sco.hideConsole()"><i class="solitude fa-solid fa-xmark"></i></div><div class="console-card-group"><div class="console-card-group-left"><div class="console-card" id="card-newest-comments" onclick="sco.hideConsole()"><div class="card-content"><div class="author-content-item-tips">互动</div><div class="author-content-item-title">最新评论<a class="recent-comment-more" href="/recentcomments/" title="最近评论"><i class="solitude fa-solid fa-circle-chevron-right"></i></a></div></div><div class="console_recentcomments"><script pjax>(async()=>{document.querySelector(".console-card .console_recentcomments").textContent="加载中...";const e=/<img class="tk-owo-emotion" [^>]+>/g;let t=utils.saveToLocal.get("twikoo-recent-comments-console");if(t)return void o(document.querySelector(".console-card .console_recentcomments"),t);let n=[];function o(t,n){t.innerHTML=n.map((t=>{return`\n            <div class="comment-card" title="${t.title}" onclick="pjax.loadUrl('${t.url}')">\n                <div class="comment-info">\n                    <img src="${t.avatar}" class="nolazyload" alt="${t.nick}">\n                    <div>\n                        <span class="comment-user">${t.nick}</span>\n                    </div>\n                    <time class="comment-time" datetime="${new Date(t.time)}"></time>\n                </div>\n                <div class="comment-content">${n=t.content,n=(n=(n=(n=(n=(n=n.replace(e,"表情")).replace(/<\/*br>|[\s\uFEFF\xA0]+/g,"")).replace(/<img.*?>/g,"[图片]")).replace(/<a.*?>.*?<\/a>/g,"[链接]")).replace(/<pre.*?>.*?<\/pre>/g,"[代码]")).replace(/<.*?>/g,"")}</div>\n                <div class="comment-title">\n                <i class="solitude fa-solid fa-comment"></i>\n                ${t.title}</div>\n            </div>\n        `;var n})).join(""),"undefined"!=typeof sco?sco.changeTimeFormat(document.querySelectorAll(".comment-time")):(document.addEventListener("pjax:complete",(()=>sco.changeTimeFormat(document.querySelectorAll(".comment-time")))),document.addEventListener("DOMContentLoaded",(()=>sco.changeTimeFormat(document.querySelectorAll(".comment-time")))))}await fetch("https://hpc-blog-twikoo.netlify.app/.netlify/functions/twikoo",{method:"POST",body:JSON.stringify({event:"GET_RECENT_COMMENTS",includeReply:!0,pageSize:6}),headers:{"Content-Type":"application/json"}}).then((e=>e.json())).then((async({data:e})=>{for(const t of e){void 0===t.avatar&&(t.avatar="/avatar/d615d5793929e8c7d70eab5f00f7f5f1?d=mp");let e="";t.url&&await fetch(t.url).then((e=>e.text())).then((t=>{const n=(new DOMParser).parseFromString(t,"text/html");e=n.querySelector("title").innerText})).catch((()=>{e=t.url})),e.indexOf("|")>0&&(e=e.split("|")[0]),n.push({avatar:t.avatar,nick:t.nick,title:e,content:t.comment,url:t.url+"#"+t.id,time:t.created})}o(document.querySelector(".console-card .console_recentcomments"),n),utils.saveToLocal.set("twikoo-recent-comments-console",n,3)}))})()</script></div></div></div><div class="console-card-group-right"><div class="console-card tags" onclick="sco.hideConsole()"><div class="card-content"><div class="author-content-item-tips">标签</div><div class="author-content-item-title">寻找感兴趣的领域</div></div><div class="card-tag-cloud"><a href="/tags/Hexo/">Hexo<sup>5</sup></a><a href="/tags/Fluid/">Fluid<sup>2</sup></a><a href="/tags/%E5%8D%9A%E5%AE%A2/">博客<sup>4</sup></a><a href="/tags/CSS/">CSS<sup>2</sup></a><a href="/tags/JavaScript/">JavaScript<sup>3</sup></a><a href="/tags/HTML/">HTML<sup>1</sup></a><a href="/tags/%E7%AE%97%E6%B3%95/">算法<sup>1</sup></a><a href="/tags/%E8%80%83%E7%A0%94/">考研<sup>1</sup></a><a href="/tags/VSCode/">VSCode<sup>1</sup></a><a href="/tags/%E6%95%B0%E5%AD%A6/">数学<sup>1</sup></a><a href="/tags/%E6%9C%89%E9%99%90%E5%B7%AE%E5%88%86/">有限差分<sup>1</sup></a><a href="/tags/%E6%95%B0%E5%80%BC%E8%AE%A1%E7%AE%97/">数值计算<sup>1</sup></a><a href="/tags/Solitude/">Solitude<sup>1</sup></a></div></div><div class="console-card history" onclick="sco.hideConsole()"><ul class="card-archive-list"><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2024/09/"><span class="card-archive-list-date">2024/09</span><div class="card-archive-list-count-group"><span class="card-archive-list-count">3</span><span class="card-archive-list-count-unit">篇</span></div></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2024/08/"><span class="card-archive-list-date">2024/08</span><div class="card-archive-list-count-group"><span class="card-archive-list-count">5</span><span class="card-archive-list-count-unit">篇</span></div></a></li></ul></div></div></div><div class="button-group"><div class="console-btn-item"><span class="darkmode_switchbutton" onclick="sco.switchDarkMode()" title="昼夜切换"><i class="solitude fa-solid fa-circle-half-stroke"></i></span></div><div class="console-btn-item" id="consoleHideAside"><span class="asideSwitch" onclick="sco.switchHideAside()" title="边栏显示控制"><i class="solitude fas fa-arrows-left-right-to-line"></i></span></div><div class="console-btn-item" id="consoleMusic" onclick="sco.musicToggle()"><span class="music-switch" title="音乐开关"><i class="solitude fa-solid fa-compact-disc"></i></span></div></div><div class="console-mask" onclick="sco.hideConsole()"></div></div><div id="sidebar" style="zoom:1"><div id="menu-mask" style="display:none"></div><div id="sidebar-menus"><div class="site-data"><div class="data-item is-center"><div class="data-item-link"><a href="/archives/"><div class="headline">文章</div><div class="length-num">8</div></a></div></div><div class="data-item is-center"><div class="data-item-link"><a href="/categories/"><div class="headline">分类</div><div class="length-num">3</div></a></div></div><div class="data-item is-center"><div class="data-item-link"><a href="/tags/"><div class="headline">标签</div><div class="length-num">13</div></a></div></div></div><span class="sidebar-menu-item-title">功能</span><div class="sidebar-menu-item"><span class="darkmode_switchbutton menu-child" onclick="sco.switchDarkMode()"><i class="solitude fa-solid fa-circle-half-stroke"></i><span>显示模式</span></span></div><div class="menus_items"><div class="menus_item"><a class="site-page" href="javascript:void(0);" rel="external nofollow noreferrer"><span>文章</span></a><ul class="menus_item_child"><li><a class="site-page child" href="/archives/"><i class="solitude fas fa-folder-closed"></i><span>归档</span></a></li><li><a class="site-page child" href="/categories/"><i class="solitude fas fa-list"></i><span>分类</span></a></li><li><a class="site-page child" href="/tags/"><i class="solitude fas fa-tags"></i><span>标签</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="javascript:void(0);" rel="external nofollow noreferrer"><span>社交</span></a><ul class="menus_item_child"><li><a class="site-page child" href="/recentcomments/"><i class="solitude fas fa-comments"></i><span>最近评论</span></a></li><li><a class="site-page child" href="/links/"><i class="solitude fas fa-user-group"></i><span>友情链接</span></a></li><li><a class="site-page child" href="/message/"><i class="solitude fas fa-message"></i><span>留言板</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="javascript:void(0);" rel="external nofollow noreferrer"><span>我的</span></a><ul class="menus_item_child"><li><a class="site-page child" href="/music/"><i class="solitude fas fa-music"></i><span>音乐馆</span></a></li><li><a class="site-page child" href="/tools/"><i class="solitude fas fa-toolbox"></i><span>在线工具</span></a></li><li><a class="site-page child" href="/equipment/"><i class="solitude fas fa-laptop"></i><span>装备</span></a></li><li><a class="site-page child" href="/games/"><i class="solitude fas fa-gamepad"></i><span>游戏</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="javascript:void(0);" rel="external nofollow noreferrer"><span>关于</span></a><ul class="menus_item_child"><li><a class="site-page child" href="/about/"><i class="solitude fa-solid fa-address-card"></i><span>关于本站</span></a></li><li><a class="site-page child" href="/essay/"><i class="solitude fa-solid fa-lightbulb"></i><span>随便说说</span></a></li></ul></div></div><span class="sidebar-menu-item-title">标签</span><div class="card-widget card-tags card-archives card-webinfo card-allinfo"><div class="card-tag-cloud"><a href="/tags/Hexo/">Hexo<sup>5</sup></a><a href="/tags/Fluid/">Fluid<sup>2</sup></a><a href="/tags/%E5%8D%9A%E5%AE%A2/">博客<sup>4</sup></a><a href="/tags/CSS/">CSS<sup>2</sup></a><a href="/tags/JavaScript/">JavaScript<sup>3</sup></a><a href="/tags/HTML/">HTML<sup>1</sup></a><a href="/tags/%E7%AE%97%E6%B3%95/">算法<sup>1</sup></a><a href="/tags/%E8%80%83%E7%A0%94/">考研<sup>1</sup></a><a href="/tags/VSCode/">VSCode<sup>1</sup></a><a href="/tags/%E6%95%B0%E5%AD%A6/">数学<sup>1</sup></a><a href="/tags/%E6%9C%89%E9%99%90%E5%B7%AE%E5%88%86/">有限差分<sup>1</sup></a><a href="/tags/%E6%95%B0%E5%80%BC%E8%AE%A1%E7%AE%97/">数值计算<sup>1</sup></a><a href="/tags/Solitude/">Solitude<sup>1</sup></a></div></div><span class="sidebar-menu-item-title">网站信息</span><div class="webinfo"><div class="webinfo-item"><div class="webinfo-item-title"><i class="item-icon solitude fa-solid fa-file-word"></i><div class="item-name">全站字数 :</div></div><div class="item-count">18.6k</div></div></div></div></div><div class="post" id="body-wrap"><header class="post-bg" id="page-header"><nav class="show" id="nav"><div id="nav-group"><div id="blog_name"><a id="site-name" href="/" title="返回博客主页"><span class="title">HPCesia 的摆烂小屋</span><i class="solitude fa-solid fa-home"></i></a></div><div id="page-name-mask"><div id="page-name"><a id="page-name-text" onclick="sco.toTop()">使用 Hexo + Github Page 搭建个人博客的实践记录。</a></div></div><div id="menus"><div class="menus_items"><div class="menus_item"><a class="site-page" href="javascript:void(0);" rel="external nofollow noreferrer"><span>文章</span></a><ul class="menus_item_child"><li><a class="site-page child" href="/archives/"><i class="solitude fas fa-folder-closed"></i><span>归档</span></a></li><li><a class="site-page child" href="/categories/"><i class="solitude fas fa-list"></i><span>分类</span></a></li><li><a class="site-page child" href="/tags/"><i class="solitude fas fa-tags"></i><span>标签</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="javascript:void(0);" rel="external nofollow noreferrer"><span>社交</span></a><ul class="menus_item_child"><li><a class="site-page child" href="/recentcomments/"><i class="solitude fas fa-comments"></i><span>最近评论</span></a></li><li><a class="site-page child" href="/links/"><i class="solitude fas fa-user-group"></i><span>友情链接</span></a></li><li><a class="site-page child" href="/message/"><i class="solitude fas fa-message"></i><span>留言板</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="javascript:void(0);" rel="external nofollow noreferrer"><span>我的</span></a><ul class="menus_item_child"><li><a class="site-page child" href="/music/"><i class="solitude fas fa-music"></i><span>音乐馆</span></a></li><li><a class="site-page child" href="/tools/"><i class="solitude fas fa-toolbox"></i><span>在线工具</span></a></li><li><a class="site-page child" href="/equipment/"><i class="solitude fas fa-laptop"></i><span>装备</span></a></li><li><a class="site-page child" href="/games/"><i class="solitude fas fa-gamepad"></i><span>游戏</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="javascript:void(0);" rel="external nofollow noreferrer"><span>关于</span></a><ul class="menus_item_child"><li><a class="site-page child" href="/about/"><i class="solitude fa-solid fa-address-card"></i><span>关于本站</span></a></li><li><a class="site-page child" href="/essay/"><i class="solitude fa-solid fa-lightbulb"></i><span>随便说说</span></a></li></ul></div></div></div><div id="nav-left"></div><div id="nav-right"><div class="nav-button" id="randomPost_button"><a class="site-page" onclick="toRandomPost()" title="随机一篇文章" href="javascript:void(0);" rel="external nofollow noreferrer"><i class="solitude fa-solid fa-dice-d6"></i></a></div><div class="nav-button" id="search-button"><a class="site-page social-icon search" href="javascript:void(0);" rel="external nofollow noreferrer" title="搜索"><i class="solitude fa-solid fa-magnifying-glass"></i></a></div><div class="nav-button" id="nav-console"><a class="console_switchbutton" onclick="sco.showConsole()" title="中控台" href="javascript:void(0);" rel="external nofollow noreferrer"><label><i class="left"></i><i class="center"></i><i class="right"></i></label></a></div><div class="nav-button" id="nav-totop" onclick="sco.toTop()"><a class="totopbtn"><i class="solitude fa-solid fa-arrow-up"></i><span id="percent">0</span></a></div><div id="toggle-menu"><a class="site-page"><i class="solitude fa-solid fa-bars"></i></a></div></div></div></nav><div class="coverdiv" id="coverdiv"><img class="nolazyload" id="post-cover" src="https://pic1.zhimg.com/70/v2-41e1b825c51055f39c22b95777bc620b_1440w.avis?source=172ae18b&amp;biz_tag=Post" alt="使用 Hexo + Github Page 搭建个人博客的实践记录。"></div><div id="post-info"><div id="post-firstinfo"><div class="meta-firstline"><a class="post-meta-original" title="该文章为原创文章，注意版权协议">原创</a><span class="post-meta-categories"><a class="post-meta-categories" href="/categories/%E5%B0%8F%E5%B1%8B%E7%9B%B8%E5%85%B3/">小屋相关</a></span><div class="tag_share"><div class="post-meta__tag-list"><a class="post-meta__tags" href="/tags/Hexo/"><span class="tags-name tags-punctuation"><i class="solitude fa-solid fa-hashtag"></i>Hexo</span></a><a class="post-meta__tags" href="/tags/%E5%8D%9A%E5%AE%A2/"><span class="tags-name tags-punctuation"><i class="solitude fa-solid fa-hashtag"></i>博客</span></a><a class="post-meta__tags" href="/tags/JavaScript/"><span class="tags-name tags-punctuation"><i class="solitude fa-solid fa-hashtag"></i>JavaScript</span></a></div></div></div></div><h1 class="post-title">使用 Hexo + Github Page 搭建个人博客的实践记录。</h1><div id="post-meta"><div class="meta-secondline"><span class="post-meta-date" title="发布于 2024-08-21 16:23:24"><i class="post-meta-icon solitude fa-solid fa-clock"></i><time datetime="2024-08-21T08:23:24.000Z">2024-08-21T08:23:24.000Z</time></span><span class="post-meta-wordcount"><i class="post-meta-icon solitude fa-solid fa-file-word" title="文章字数"></i><span class="word-count">2.6k</span><span class="post-meta-separator"></span><i class="post-meta-icon solitude fa-solid fa-clock" title="阅读耗时"></i><span>11 min</span></span><a class="post-meta-pv" href="/posts/2024/48acad6d/" title="文章热度"><i class="post-meta-icon solitude fa-solid fa-fire-flame-curved"></i><span id="busuanzi_value_page_pv"><i class="solitude fa-solid fa-spinner"></i></span></a><span class="post-meta-commentcount" title="评论数" onclick='sco.scrollTo("post-comment")'><i class="solitude fa-solid fa-comment"></i><a href="/posts/2024/48acad6d/#post-comment"><span class="twikoo-count"><i class="solitude fa-solid fa-spinner"></i></span></a></span></div></div></div><section class="main-hero-waves-area waves-area"><svg class="waves-svg" xmlns="http://www.w3.org/2000/svg" xlink="http://www.w3.org/1999/xlink" viewBox="0 24 150 28" preserveAspectRatio="none" shape-rendering="auto"><defs><path id="gentle-wave" d="M-160 44c30 0 58-18 88-18s58 18 88 18 58-18 88-18 58 18 88 18v44h-352Z"></path></defs><g class="parallax"><use href="#gentle-wave" x="48" y="0"></use><use href="#gentle-wave" x="48" y="3"></use><use href="#gentle-wave" x="48" y="5"></use><use href="#gentle-wave" x="48" y="7"></use></g></svg></section></header><main class="layout" id="content-inner"><div id="post"><article class="post-content" id="article-container"><details><summary>更新日志</summary><div class="content"><div class="timeline"><span class="timeline-title"><div class="timenode"><div class="meta"><p>2024-09-03</p></div><div class="body"><p>迁移「添加网站到搜索引擎」部分到<a href="/posts/2024/1f77b1be/" title="Hexo 博客搜索引擎收录与 SEO 优化个人经验">另一篇文章</a>。<br>规范了更新日志格式。</p></div></div><div class="timenode"><div class="meta"><p>2024-08-30</p></div><div class="body"><p>更新了「数学公式渲染」、「搜索引擎」、「评论系统」的部分内容。</p></div></div><div class="timenode"><div class="meta"><p>2024-08-28</p></div><div class="body"><p>更新了「数学公式渲染」相关内容。</p></div></div><div class="timenode"><div class="meta"><p>2024-08-27</p></div><div class="body"><p>新增「优化博客性能」相关内容。</p></div></div><div class="timenode"><div class="meta"><p>2024-08-26</p></div><div class="body"><p>新增「添加 RSS 订阅」相关内容。</p></div></div><div class="timenode"><div class="meta"><p>2024-08-25</p></div><div class="body"><p>新增「添加网站到搜索引擎」相关内容。</p></div></div><div class="timenode"><div class="meta"><p>2024-08-24</p></div><div class="body"><p>新增「字体修改」与「启用评论数学公式」相关内容。</p></div></div><div class="timenode"><div class="meta"><p>2024-08-21</p></div><div class="body"><p>发布文章。</p></div></div></span></div></div></details><div class="note undefined no-icon modern"><p>为了方便自己以后更换电脑后重新配置这个博客，以及日常调试，在此将自己的建站经验记录下来。</p><p>本文仅适用于 Windows 平台。</p></div><h1 id="环境搭建">环境搭建</h1><h2 id="前置环境">前置环境</h2><h3 id="Node-js-npm">Node.js &amp; npm</h3><p>在终端中执行</p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token function">node</span> <span class="token parameter variable">-v</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>检查当前环境是否安装 Node.js 以及当前的版本号，若未安装，需要在<a target="_blank" rel="noopener external nofollow noreferrer" href="https://nodejs.cn/en/download">官网</a>上下载并安装。Node.js 默认配置了 npm，因此不需要额外下载。</p><p>此外，中国大陆地区使用 npm 需要配置淘宝的镜像源：</p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token function">npm</span> config <span class="token builtin class-name">set</span> registry https://registry.npmmirror.com<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h3 id="Git">Git</h3><p>在<a target="_blank" rel="noopener external nofollow noreferrer" href="https://git-scm.com/download/win">官网</a>上下载 Windows 版本的 Git 安装包并安装。</p><h2 id="Hexo">Hexo</h2><h3 id="安装">安装</h3><p>在终端中执行</p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token function">npm</span> <span class="token function">install</span> hexo-cli <span class="token parameter variable">-g</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>进行 Hexo 的安装操作，在终端中执行</p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">hexo <span class="token parameter variable">-version</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>出现版本号即说明安装成功。</p><h1 id="本地建站">本地建站</h1><h2 id="初始化">初始化</h2><p>新建一个用于存储博客数据的目录(如<code>D:\Blog</code>)并确保该目录为空，随后在终端中执行</p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token builtin class-name">cd</span> D:<span class="token punctuation">\</span>Blog
hexo init<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><p>等待一段时间，即可成功初始化。此时可使用</p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">hexo s <span class="token parameter variable">-g</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>来本地预览初始化成功的博客。</p><h2 id="Github-部署">Github 部署</h2><p>注册 <a target="_blank" rel="noopener external nofollow noreferrer" href="https://github.com/">Github</a> 账号部分不进行叙述，请参考网上教程。</p><p>首先打开根目录下站点配置文件 <code>_config.yml</code>，配置有关 <code>deploy</code> 的部分：</p><pre class="line-numbers language-yaml" data-language="yaml"><code class="language-yaml"><span class="token comment"># Deployment</span>
<span class="token comment">## Docs: https://hexo.io/docs/one-command-deployment</span>
<span class="token key atrule">deploy</span><span class="token punctuation">:</span>
  <span class="token key atrule">type</span><span class="token punctuation">:</span> <span class="token string">'git'</span>
  <span class="token key atrule">repo</span><span class="token punctuation">:</span> git@github.com<span class="token punctuation">:</span>用户名/用户名.github.io.git
  <span class="token key atrule">branch</span><span class="token punctuation">:</span> master<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>同时在博客根目录下终端执行</p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">$ <span class="token function">npm</span> <span class="token function">install</span> hexo-deployer-git <span class="token parameter variable">--save</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>安装部署插件。然后终端执行</p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">hexo d<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>即可部署到 Github 上。打开上面输入的对应的 <code>用户名.github.io</code> 网站，如果能看到和 <code>hexo s</code> 一样的网站界面，就说明部署成功。</p><h1 id="更多配置">更多配置</h1><p>这部分是我自己的博客配置，仅供参考。</p><h2 id="短永久链接">短永久链接</h2><p>Hexo 默认的永久地址格式是 <code>YYYY/MM/DD/title</code>，如果标题为中文，那就是灾难性的链接长度，因此需要更换更短的永久链接。</p><p>本站使用了 <a target="_blank" rel="noopener external nofollow noreferrer" href="https://github.com/ohroy/hexo-abbrlink"><code>hexo-abbrlink</code></a> 插件固定博文的地址。附上我自己在 <code>_config.yml</code> 中的配置，仅供参考。</p><pre class="line-numbers language-yaml" data-language="yaml"><code class="language-yaml"><span class="token comment"># abbrlink config</span>
<span class="token key atrule">abbrlink</span><span class="token punctuation">:</span>
  <span class="token key atrule">alg</span><span class="token punctuation">:</span> crc32      <span class="token comment">#support crc16(default) and crc32</span>
  <span class="token key atrule">rep</span><span class="token punctuation">:</span> hex        <span class="token comment">#support dec(default) and hex</span>
  <span class="token key atrule">drafts</span><span class="token punctuation">:</span> <span class="token boolean important">false</span>   <span class="token comment">#(true)Process draft,(false)Do not process draft. false(default) </span>
  <span class="token comment"># Generate categories from directory-tree</span>
  <span class="token comment"># depth: the max_depth of directory-tree you want to generate, should > 0</span>
  <span class="token key atrule">auto_category</span><span class="token punctuation">:</span>
     <span class="token key atrule">enable</span><span class="token punctuation">:</span> <span class="token boolean important">true</span>  <span class="token comment">#true(default)</span>
     <span class="token key atrule">depth</span><span class="token punctuation">:</span> <span class="token number">3</span>      <span class="token comment">#3(default)</span>
     <span class="token key atrule">over_write</span><span class="token punctuation">:</span> <span class="token boolean important">false</span> 
  <span class="token key atrule">auto_title</span><span class="token punctuation">:</span> <span class="token boolean important">false</span> <span class="token comment">#enable auto title, it can auto fill the title by path</span>
  <span class="token key atrule">auto_date</span><span class="token punctuation">:</span> <span class="token boolean important">false</span> <span class="token comment">#enable auto date, it can auto fill the date by time today</span>
  <span class="token key atrule">force</span><span class="token punctuation">:</span> <span class="token boolean important">false</span> <span class="token comment">#enable force mode,in this mode, the plugin will ignore the cache, and calc the abbrlink for every post even it already had abbrlink. This only updates abbrlink rather than other front variables.</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h2 id="主题">主题</h2><p>可以在 Hexo 官网的<a target="_blank" rel="noopener external nofollow noreferrer" href="https://hexo.io/themes/">主题列表</a>里选择心仪的主题进行更换，并参考主题的配置说明进行配置。</p><div class="note danger no-icon modern"><p>本博客已更换至 <a target="_blank" rel="noopener external nofollow noreferrer" href="https://solitude.js.org/zh/">Solitude</a> 主题，以下 Fluid 主题相关内容仅供参考。</p></div><p>本博客使用 <a target="_blank" rel="noopener external nofollow noreferrer" href="https://hexo.fluid-dev.com/">Fluid</a> 主题。</p><h3 id="站名与图标">站名与图标</h3><p>按照 <a target="_blank" rel="noopener external nofollow noreferrer" href="https://hexo.fluid-dev.com/docs/start/">Fluid 官方配置文档</a>安装 Fluid 主题后，先在 <code>_config.yml</code> 中修改主站名、描述和网站语言</p><pre class="line-numbers language-yaml" data-language="yaml"><code class="language-yaml"><span class="token comment"># Site</span>
<span class="token key atrule">title</span><span class="token punctuation">:</span> HPCesia 的摆烂小屋
<span class="token key atrule">subtitle</span><span class="token punctuation">:</span> <span class="token string">''</span>
<span class="token key atrule">description</span><span class="token punctuation">:</span> <span class="token string">'记录自己的摆烂日常与学习记录'</span>
<span class="token key atrule">keywords</span><span class="token punctuation">:</span>
<span class="token key atrule">author</span><span class="token punctuation">:</span> HPCesia
<span class="token key atrule">language</span><span class="token punctuation">:</span> 
  <span class="token punctuation">-</span> zh<span class="token punctuation">-</span>CN
  <span class="token punctuation">-</span> zh<span class="token punctuation">-</span>TW
<span class="token key atrule">timezone</span><span class="token punctuation">:</span> <span class="token string">'Asia/Shanghai'</span> <span class="token comment"># 这个默认是主机时区，不用管</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>然后可以顺便在 <code>_config.fluid</code> 中修改一下网站图标。</p><pre class="line-numbers language-yaml" data-language="yaml"><code class="language-yaml"><span class="token comment"># 用于浏览器标签的图标</span>
<span class="token comment"># Icon for browser tab</span>
<span class="token key atrule">favicon</span><span class="token punctuation">:</span> /img/fluid.png

<span class="token comment"># 用于苹果设备的图标</span>
<span class="token comment"># Icon for Apple touch</span>
<span class="token key atrule">apple_touch_icon</span><span class="token punctuation">:</span> /img/fluid.png<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>这里建议将新图标放在 <code>./source</code> 文件夹中，在生成过程中会与主题自带的文件进行合并。</p><h3 id="字体">字体</h3><p>本博客使用<a target="_blank" rel="noopener external nofollow noreferrer" href="https://github.com/lxgw/LxgwWenKai">霞鹜文楷</a>字体，如需配置其他字体，请参考<a target="_blank" rel="noopener external nofollow noreferrer" href="https://hexo.fluid-dev.com/docs/guide/#%E5%85%A8%E5%B1%80%E5%AD%97%E4%BD%93">主题配置指南</a></p><p>在 <code>_config.fluid.yml</code> 中搜索 <code>font_family</code> 即可找到字体配置</p><pre class="line-numbers language-yaml" data-language="yaml"><code class="language-yaml"><span class="token key atrule">font</span><span class="token punctuation">:</span>
  <span class="token key atrule">font_size</span><span class="token punctuation">:</span> 16px
  <span class="token key atrule">font_family</span><span class="token punctuation">:</span> 
  <span class="token key atrule">letter_spacing</span><span class="token punctuation">:</span> 0.02em
  <span class="token key atrule">code_font_size</span><span class="token punctuation">:</span> 85%<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>在 <code>font_family</code> 后面添加 <code>&quot;LXGW WenKai Screen&quot;</code>，并在 <code>_config.fluid.yml</code> 中的 <code>custom_css</code> 下添加<a target="_blank" rel="noopener external nofollow noreferrer" href="https://github.com/CMBill/lxgw-wenkai-screen-web">霞鹜文楷屏幕阅读版网络字体仓库</a>中给出的链接：</p><pre class="line-numbers language-yaml" data-language="yaml"><code class="language-yaml"><span class="token key atrule">custom_css</span><span class="token punctuation">:</span>
  <span class="token punctuation">-</span> https<span class="token punctuation">:</span>//cdn.jsdelivr.net/npm/lxgw<span class="token punctuation">-</span>wenkai<span class="token punctuation">-</span>screen<span class="token punctuation">-</span>web/style.css<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><p>再使用 <code>hexo clean</code> + <code>hexo g</code>，即可更换字体。</p><h3 id="头图">头图</h3><p>在 <code>_config.fluid.yml</code> 中搜索 <code>banner_img</code> 即可找到各页面的头图配置。由于大陆访问 Github 的速度相当便秘，头图应该使用 <code>.webp</code> 格式进行高度压缩，以在质量不太拉胯的前提下加快加载速度。</p><div class="note info no-icon modern"><p>本站使用的头图原图链接如下：<br>主页：<a target="_blank" rel="noopener external nofollow noreferrer" href="https://www.pixiv.net/artworks/101693777">「无题」</a><br>关于页：<a target="_blank" rel="noopener external nofollow noreferrer" href="https://www.pixiv.net/artworks/104655300">「致以——无瑕的时代」</a><br>其他页面及文章预览图：<a target="_blank" rel="noopener external nofollow noreferrer" href="https://www.pixiv.net/artworks/101648848">「无题」</a></p></div><h3 id="数学公式">数学公式</h3><p>本博客使用 mathjax 进行数学公式渲染，参考<a target="_blank" rel="noopener external nofollow noreferrer" href="https://hexo.fluid-dev.com/docs/guide/#latex-%E6%95%B0%E5%AD%A6%E5%85%AC%E5%BC%8F">主题配置指南</a>进行了相应配置。</p><details><summary>如果你想用KaTeX</summary><div class="content"><p>KaTeX 使用的 <code>hexo-markdown-it</code> 渲染引擎会与 <code>tocbot</code> 冲突，导致侧边栏一级目录跳转失效，经排查发现是一级标题对应的 <code>&lt;h1&gt;</code> 没有 <code>id</code> 导致的</p><p><strong>解决方案</strong>：在 <code>scripts</code> 目录下新建 <code>hexo-markdown-it-bugfix.js</code> 文件：</p><pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript">hexo<span class="token punctuation">.</span>extend<span class="token punctuation">.</span>filter<span class="token punctuation">.</span><span class="token function">register</span><span class="token punctuation">(</span><span class="token string">'after_post_render'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">post</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>post<span class="token punctuation">.</span>content<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
        <span class="token keyword">const</span> uniqueIdStore <span class="token operator">=</span> <span class="token punctuation">&#123;</span><span class="token punctuation">&#125;</span><span class="token punctuation">;</span>
        post<span class="token punctuation">.</span>content <span class="token operator">=</span> post<span class="token punctuation">.</span>content<span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">&lt;h1>(.*?)&lt;\/h1></span><span class="token regex-delimiter">/</span><span class="token regex-flags">g</span></span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">match<span class="token punctuation">,</span> p1</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
            <span class="token keyword">const</span> cleanId <span class="token operator">=</span> p1<span class="token punctuation">.</span><span class="token function">trim</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toLowerCase</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
                <span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\s+</span><span class="token regex-delimiter">/</span><span class="token regex-flags">g</span></span><span class="token punctuation">,</span> <span class="token string">'-'</span><span class="token punctuation">)</span>
                <span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">[?#&amp;]</span><span class="token regex-delimiter">/</span><span class="token regex-flags">g</span></span><span class="token punctuation">,</span> <span class="token string">''</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
            <span class="token keyword">let</span> uniqueId <span class="token operator">=</span> cleanId<span class="token punctuation">;</span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span>cleanId <span class="token operator">===</span> <span class="token string">''</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
                uniqueId <span class="token operator">=</span> <span class="token string">'default'</span><span class="token punctuation">;</span>
            <span class="token punctuation">&#125;</span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span>uniqueIdStore<span class="token punctuation">[</span>cleanId<span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
                uniqueId <span class="token operator">=</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">$&#123;</span>cleanId<span class="token interpolation-punctuation punctuation">&#125;</span></span><span class="token string">-</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">$&#123;</span>uniqueIdStore<span class="token punctuation">[</span>cleanId<span class="token punctuation">]</span><span class="token interpolation-punctuation punctuation">&#125;</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">;</span>
                uniqueIdStore<span class="token punctuation">[</span>cleanId<span class="token punctuation">]</span> <span class="token operator">+=</span> <span class="token number">1</span><span class="token punctuation">;</span>
            <span class="token punctuation">&#125;</span> <span class="token keyword">else</span> <span class="token punctuation">&#123;</span>
                uniqueIdStore<span class="token punctuation">[</span>cleanId<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>
            <span class="token punctuation">&#125;</span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">&lt;h1 id=".*?"></span><span class="token regex-delimiter">/</span></span><span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span>match<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
                <span class="token keyword">return</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">&lt;h1 id="</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">$&#123;</span>uniqueId<span class="token interpolation-punctuation punctuation">&#125;</span></span><span class="token string">"></span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">$&#123;</span>p1<span class="token interpolation-punctuation punctuation">&#125;</span></span><span class="token string">&lt;/h1></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">;</span>
            <span class="token punctuation">&#125;</span>
            <span class="token keyword">return</span> match<span class="token punctuation">;</span>
        <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>效果是为没有添加 <code>id</code> 的 <code>&lt;h1&gt;</code> 添加正确的 <code>id</code>。</p></div></details><h3 id="评论">评论</h3><p>本博客使用 <a target="_blank" rel="noopener external nofollow noreferrer" href="https://twikoo.js.org/">Twikoo</a> 评论系统，请参考<a target="_blank" rel="noopener external nofollow noreferrer" href="https://twikoo.js.org/quick-start.html">配置指南</a>进行配置。</p><p>本博客使用的配置方法为配置指南中的 <a target="_blank" rel="noopener external nofollow noreferrer" href="https://www.mongodb.com/">MongoDB Atlas</a> + <a target="_blank" rel="noopener external nofollow noreferrer" href="https://huggingface.co">Hugging Face</a>.</p><p>主题需要增加自定义 <code>.js</code> 文件来让 Twikoo 评论也能渲染公式。在 <code>_config.fluid.yml</code> 中的 <code>custom_js</code> 下添加</p><pre class="line-numbers language-yaml" data-language="yaml"><code class="language-yaml"><span class="token key atrule">custom_js</span><span class="token punctuation">:</span>
  <span class="token punctuation">-</span> https<span class="token punctuation">:</span>//cdn.jsdelivr.net/npm/katex@0.12.0/dist/katex.min.js
  <span class="token punctuation">-</span> https<span class="token punctuation">:</span>//cdn.jsdelivr.net/npm/katex@0.12.0/dist/contrib/auto<span class="token punctuation">-</span>render.min.js<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><p>如果使用的是 mathjax 进行文章数学公式渲染，则还需要在 <code>custom_css</code> 下添加</p><pre class="line-numbers language-yaml" data-language="yaml"><code class="language-yaml"><span class="token key atrule">custom_css</span><span class="token punctuation">:</span>
  <span class="token punctuation">-</span> https<span class="token punctuation">:</span>//cdn.jsdelivr.net/npm/katex@0.12.0/dist/katex.min.css <span class="token comment"># Twikoo Katex 数学公式渲染</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><p>再重新 <code>hexo clean</code> + <code>hexo g</code>，即可在评论区激活数学公式渲染。</p><div class="note info no-icon modern"><p>如果发现评论头像无法加载，请参考<a target="_blank" rel="noopener external nofollow noreferrer" href="https://twikoo.js.org/frontend.html#%E6%9B%B4%E6%8D%A2-cdn-%E9%95%9C%E5%83%8F">Twikoo 前端部署</a>更换 <code>_config.fluid.yml</code> 的 <code>static_prefix</code> 配置项中关于 Twikoo 的静态资源链接。</p></div><h3 id="添加-RSS-订阅">添加 RSS 订阅</h3><p>安装 <a target="_blank" rel="noopener external nofollow noreferrer" href="https://github.com/hexojs/hexo-generator-feed"><code>hexo-generator-feed</code></a> 插件:</p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token function">npm</span> <span class="token function">install</span> hexo-generator-feed <span class="token parameter variable">--save</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>在 <code>_config.fluid.yml</code> 中追加配置项：</p><pre class="line-numbers language-yaml" data-language="yaml"><code class="language-yaml"><span class="token comment"># hexo-generator-feed</span>
<span class="token key atrule">plugins</span><span class="token punctuation">:</span>
    hexo<span class="token punctuation">-</span>generator<span class="token punctuation">-</span>feed
<span class="token key atrule">feed</span><span class="token punctuation">:</span>
  <span class="token key atrule">enable</span><span class="token punctuation">:</span> <span class="token boolean important">true</span>
  <span class="token key atrule">type</span><span class="token punctuation">:</span> rss2 <span class="token comment"># 类型 atom | rss2</span>
  <span class="token key atrule">path</span><span class="token punctuation">:</span> rss2.xml <span class="token comment"># 文件路径, 默认是 atom.xml | rss2.xml</span>
  <span class="token key atrule">limit</span><span class="token punctuation">:</span> <span class="token number">5</span> <span class="token comment"># 展示文章的数量, 使用0或则false代表展示全部</span>
  <span class="token key atrule">hub</span><span class="token punctuation">:</span> <span class="token comment"># </span>
  <span class="token key atrule">content</span><span class="token punctuation">:</span>  <span class="token comment"># 在RSS文件中是否包含内容, true | false, 默认不填为 false</span>
  <span class="token key atrule">content_limit</span><span class="token punctuation">:</span> <span class="token number">140</span> <span class="token comment"># 指定内容的长度作为摘要,仅仅在上面content设置为false和没有自定义的描述出现</span>
  <span class="token key atrule">content_limit_delim</span><span class="token punctuation">:</span> <span class="token string">' '</span> <span class="token comment"># 截取描述的分隔符, 以指定分隔符作为截取结束的标志.</span>
  <span class="token key atrule">order_by</span><span class="token punctuation">:</span> <span class="token punctuation">-</span>date
  <span class="token key atrule">autodiscovery</span><span class="token punctuation">:</span> <span class="token boolean important">true</span>
  template<span class="token punctuation">:</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>然后随便找个位置，增加 <code>&lt;a href=&quot;/rss2.xml&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;&lt;i class=&quot;iconfont icon-rss&quot;&gt;&lt;/i&gt;RSS&lt;/a&gt;</code> 进行展示就行，我是放在页脚。</p><h3 id="更多主题修改">更多主题修改</h3><p>参看我的<a href="/posts/2024/a06e351a/" title="Fluid 主题无侵入改造记录">另一篇文章</a></p><h2 id="将网站添加到搜索引擎">将网站添加到搜索引擎</h2><p>本节内容已整体迁移至<a href="/posts/2024/1f77b1be/" title="Hexo 博客搜索引擎收录与 SEO 优化个人经验">另一篇文章</a>。</p><h2 id="优化博客性能">优化博客性能</h2><p>这段内容参考<a target="_blank" rel="noopener external nofollow noreferrer" href="https://akilar.top/posts/49b73b87/">使用gulp压缩博客静态资源 | Akilarの糖果屋</a>编写。</p><h3 id="安装插件">安装插件</h3><p>在博客根目录下打开终端，输入：</p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token function">npm</span> <span class="token function">install</span> <span class="token parameter variable">--global</span> gulp-cli <span class="token comment">#全局安装gulp指令集</span>
<span class="token function">npm</span> <span class="token function">install</span> gulp <span class="token parameter variable">--save</span> <span class="token comment">#安装gulp插件</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><p>安装 gulp 插件。随后输入</p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token function">npm</span> <span class="token function">install</span> gulp-htmlclean --save-dev <span class="token comment"># 压缩 html 文件</span>
<span class="token function">npm</span> <span class="token function">install</span> gulp-html-minifier-terser --save-dev <span class="token comment"># 压缩 html 文件</span>
<span class="token function">npm</span> <span class="token function">install</span> gulp-clean-css --save-dev <span class="token comment"># 压缩 css 文件</span>
<span class="token function">npm</span> <span class="token function">install</span> gulp-terser --save-dev <span class="token comment"># 压缩 js 文件</span>
<span class="token function">npm</span> <span class="token function">install</span> gulp-fontmin --save-dev <span class="token comment"># 不使用本地字体包可以不安装</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>安装附属插件。</p><h3 id="配置-gulp">配置 gulp</h3><p>在博客根目录下新建 <code>gulpfile.js</code>：</p><pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token comment">//用到的各个插件</span>
<span class="token keyword">var</span> gulp <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'gulp'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> cleanCSS <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'gulp-clean-css'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> htmlmin <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'gulp-html-minifier-terser'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> htmlclean <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'gulp-htmlclean'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> fontmin <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'gulp-fontmin'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// gulp-tester</span>
<span class="token keyword">var</span> terser <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'gulp-terser'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// 压缩js</span>
gulp<span class="token punctuation">.</span><span class="token function">task</span><span class="token punctuation">(</span><span class="token string">'compress'</span><span class="token punctuation">,</span> <span class="token keyword">async</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span>
    gulp<span class="token punctuation">.</span><span class="token function">src</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string">'./public/**/*.js'</span><span class="token punctuation">,</span> <span class="token string">'!./public/**/*.min.js'</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
        <span class="token punctuation">.</span><span class="token function">pipe</span><span class="token punctuation">(</span><span class="token function">terser</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
        <span class="token punctuation">.</span><span class="token function">pipe</span><span class="token punctuation">(</span>gulp<span class="token punctuation">.</span><span class="token function">dest</span><span class="token punctuation">(</span><span class="token string">'./public'</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">//压缩css</span>
gulp<span class="token punctuation">.</span><span class="token function">task</span><span class="token punctuation">(</span><span class="token string">'minify-css'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span>
    <span class="token keyword">return</span> gulp<span class="token punctuation">.</span><span class="token function">src</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string">'./public/**/*.css'</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
        <span class="token punctuation">.</span><span class="token function">pipe</span><span class="token punctuation">(</span><span class="token function">cleanCSS</span><span class="token punctuation">(</span><span class="token punctuation">&#123;</span>
            <span class="token literal-property property">compatibility</span><span class="token operator">:</span> <span class="token string">'ie11'</span>
        <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
        <span class="token punctuation">.</span><span class="token function">pipe</span><span class="token punctuation">(</span>gulp<span class="token punctuation">.</span><span class="token function">dest</span><span class="token punctuation">(</span><span class="token string">'./public'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">//压缩html</span>
gulp<span class="token punctuation">.</span><span class="token function">task</span><span class="token punctuation">(</span><span class="token string">'minify-html'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span>
    <span class="token keyword">return</span> gulp<span class="token punctuation">.</span><span class="token function">src</span><span class="token punctuation">(</span><span class="token string">'./public/**/*.html'</span><span class="token punctuation">)</span>
        <span class="token punctuation">.</span><span class="token function">pipe</span><span class="token punctuation">(</span><span class="token function">htmlclean</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
        <span class="token punctuation">.</span><span class="token function">pipe</span><span class="token punctuation">(</span><span class="token function">htmlmin</span><span class="token punctuation">(</span><span class="token punctuation">&#123;</span>
            <span class="token literal-property property">removeComments</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token comment">//清除html注释</span>
            <span class="token literal-property property">collapseWhitespace</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token comment">//压缩html</span>
            <span class="token literal-property property">collapseBooleanAttributes</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
            <span class="token comment">//省略布尔属性的值，例如：&lt;input checked="true"/> ==> &lt;input /></span>
            <span class="token literal-property property">removeEmptyAttributes</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
            <span class="token comment">//删除所有空格作属性值，例如：&lt;input id="" /> ==> &lt;input /></span>
            <span class="token literal-property property">removeScriptTypeAttributes</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
            <span class="token comment">//删除&lt;script>的type="text/javascript"</span>
            <span class="token literal-property property">removeStyleLinkTypeAttributes</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
            <span class="token comment">//删除&lt;style>和&lt;link>的 type="text/css"</span>
            <span class="token literal-property property">minifyJS</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token comment">//压缩页面 JS</span>
            <span class="token literal-property property">minifyCSS</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token comment">//压缩页面 CSS</span>
            <span class="token literal-property property">minifyURLs</span><span class="token operator">:</span> <span class="token boolean">true</span>  <span class="token comment">//压缩页面URL</span>
        <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
        <span class="token punctuation">.</span><span class="token function">pipe</span><span class="token punctuation">(</span>gulp<span class="token punctuation">.</span><span class="token function">dest</span><span class="token punctuation">(</span><span class="token string">'./public'</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">//压缩字体</span>
<span class="token keyword">function</span> <span class="token function">minifyFont</span><span class="token punctuation">(</span><span class="token parameter">text<span class="token punctuation">,</span> cb</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
    gulp
        <span class="token punctuation">.</span><span class="token function">src</span><span class="token punctuation">(</span><span class="token string">'./public/fonts/*.ttf'</span><span class="token punctuation">)</span> <span class="token comment">//原字体所在目录</span>
        <span class="token punctuation">.</span><span class="token function">pipe</span><span class="token punctuation">(</span><span class="token function">fontmin</span><span class="token punctuation">(</span><span class="token punctuation">&#123;</span>
            <span class="token literal-property property">text</span><span class="token operator">:</span> text
        <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
        <span class="token punctuation">.</span><span class="token function">pipe</span><span class="token punctuation">(</span>gulp<span class="token punctuation">.</span><span class="token function">dest</span><span class="token punctuation">(</span><span class="token string">'./public/fontsdest/'</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">//压缩后的输出目录</span>
        <span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span><span class="token string">'end'</span><span class="token punctuation">,</span> cb<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span>

gulp<span class="token punctuation">.</span><span class="token function">task</span><span class="token punctuation">(</span><span class="token string">'mini-font'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">cb</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span>
    <span class="token keyword">var</span> buffers <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
    gulp
        <span class="token punctuation">.</span><span class="token function">src</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string">'./public/**/*.html'</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token comment">//HTML文件所在目录请根据自身情况修改</span>
        <span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span><span class="token string">'data'</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">file</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
            buffers<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>file<span class="token punctuation">.</span>contents<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">&#125;</span><span class="token punctuation">)</span>
        <span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span><span class="token string">'end'</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
            <span class="token keyword">var</span> text <span class="token operator">=</span> Buffer<span class="token punctuation">.</span><span class="token function">concat</span><span class="token punctuation">(</span>buffers<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token string">'utf-8'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token function">minifyFont</span><span class="token punctuation">(</span>text<span class="token punctuation">,</span> cb<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// 运行gulp命令时依次执行以下任务</span>
gulp<span class="token punctuation">.</span><span class="token function">task</span><span class="token punctuation">(</span><span class="token string">'default'</span><span class="token punctuation">,</span> gulp<span class="token punctuation">.</span><span class="token function">parallel</span><span class="token punctuation">(</span>
    <span class="token string">'compress'</span><span class="token punctuation">,</span> <span class="token string">'minify-css'</span><span class="token punctuation">,</span> <span class="token string">'minify-html'</span><span class="token punctuation">,</span> <span class="token string">'mini-font'</span>
<span class="token punctuation">)</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>此时在运行 <code>hexo g</code> 后手动运行 <code>gulp</code> 即可压缩文件。</p><h3 id="自动化配置">自动化配置</h3><p>在博客根目录下找到 <code>package.json</code>，在 <code>scripts</code> 键下添加新脚本：</p><pre class="line-numbers language-json" data-language="json"><code class="language-json"><span class="token property">"scripts"</span><span class="token operator">:</span> <span class="token punctuation">&#123;</span>
  <span class="token property">"postbuild"</span><span class="token operator">:</span> <span class="token string">"gulp"</span>
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><p>随后在 <code>scripts</code> 目录下新建 <code>generator.js</code>，添加以下内容：</p><pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript">hexo<span class="token punctuation">.</span>extend<span class="token punctuation">.</span>generator<span class="token punctuation">.</span><span class="token function">register</span><span class="token punctuation">(</span><span class="token string">'postbuild'</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
  <span class="token keyword">const</span> <span class="token punctuation">&#123;</span> exec <span class="token punctuation">&#125;</span> <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'child_process'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token function">exec</span><span class="token punctuation">(</span><span class="token string">'npm run postbuild'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">err<span class="token punctuation">,</span> stdout<span class="token punctuation">,</span> stderr</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>err<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
      console<span class="token punctuation">.</span><span class="token function">error</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">Error: </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">$&#123;</span>stderr<span class="token interpolation-punctuation punctuation">&#125;</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">&#125;</span> <span class="token keyword">else</span> <span class="token punctuation">&#123;</span>
      console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">Output: </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">$&#123;</span>stdout<span class="token interpolation-punctuation punctuation">&#125;</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">&#125;</span>
  <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>这样在运行 <code>hexo g</code> 后就会自动运行 <code>gulp</code> 对博客进行压缩。</p></article><div class="post-copyright"><div class="post-copyright__author_group"><a class="post-copyright__author_img" href="/about/"><img class="post-copyright__author_img_front" src="/img/icon/favicon/favicon_128.png"></a><div class="post-copyright__author_name">HPCesia 的摆烂小屋</div><div class="post-copyright__author_desc">记录自己的摆烂日常与学习记录</div></div><div class="post-tools" id="post-tools"><div class="post-tools-left"><div id="quit-box" onclick="RemoveRewardMask()"></div><div class="reward-link mode"><a class="reward-link-button" href="/rss2.xml"><i class="solitude fa-solid fa-seedling"></i>订阅</a></div></div></div><div class="social-share"><a class="social-share-ico icon-qq" target="_blank" rel="noopener external nofollow noreferrer" href="https://connect.qq.com/widget/shareqq/index.html?url=https%3A%2F%2FHPCesia.github.io%2Fposts%2F2024%2F48acad6d%2F&amp;title=%E4%BD%BF%E7%94%A8%20Hexo%20%2B%20Github%20Page%20%E6%90%AD%E5%BB%BA%E4%B8%AA%E4%BA%BA%E5%8D%9A%E5%AE%A2%E7%9A%84%E5%AE%9E%E8%B7%B5%E8%AE%B0%E5%BD%95%E3%80%82&amp;desc=undefined&amp;summary=undefined&amp;site=%E4%BD%BF%E7%94%A8%20Hexo%20%2B%20Github%20Page%20%E6%90%AD%E5%BB%BA%E4%B8%AA%E4%BA%BA%E5%8D%9A%E5%AE%A2%E7%9A%84%E5%AE%9E%E8%B7%B5%E8%AE%B0%E5%BD%95%E3%80%82&amp;pics=https%3A%2F%2Fpic1.zhimg.com%2F70%2Fv2-41e1b825c51055f39c22b95777bc620b_1440w.avis%3Fsource%3D172ae18b%26biz_tag%3DPost" title="分享到QQ"><i class="solitude fab fa-qq"></i></a><a class="social-share-ico icon-weibo" target="_blank" rel="noopener external nofollow noreferrer" href="http://service.weibo.com/share/share.php?url=https%3A%2F%2FHPCesia.github.io%2Fposts%2F2024%2F48acad6d%2F&amp;title=%E4%BD%BF%E7%94%A8%20Hexo%20%2B%20Github%20Page%20%E6%90%AD%E5%BB%BA%E4%B8%AA%E4%BA%BA%E5%8D%9A%E5%AE%A2%E7%9A%84%E5%AE%9E%E8%B7%B5%E8%AE%B0%E5%BD%95%E3%80%82&amp;pic=https%3A%2F%2Fpic1.zhimg.com%2F70%2Fv2-41e1b825c51055f39c22b95777bc620b_1440w.avis%3Fsource%3D172ae18b%26biz_tag%3DPost" title="分享到微博"><i class="solitude fab fa-weibo"></i></a><div class="social-share-ico icon-link" onclick="utils.copy(&quot;https://HPCesia.github.io/posts/2024/48acad6d/&quot;)" title="复制文章链接"><i class="solitude fas fa-link"></i></div><div class="social-share-ico icon-qrcode" title="使用手机扫码阅读这篇文章"><i class="solitude fas fa-qrcode"></i><div class="share-main"><div class="share-main-all"><div id="qrcode"></div><div class="reward-dec">使用手机扫码阅读这篇文章</div></div></div><script pjax>"function"==typeof QRCode&&new QRCode(document.getElementById("qrcode"),"https://HPCesia.github.io/posts/2024/48acad6d/"),window.addEventListener("DOMContentLoaded",(()=>{new QRCode(document.getElementById("qrcode"),"https://HPCesia.github.io/posts/2024/48acad6d/")}))</script></div></div><div class="post-copyright__notice"><span class="post-copyright-info">本文是原创文章，采用<a target="_blank" rel="noopener external nofollow noreferrer" href="https://creativecommons.org/licenses/by-nc-sa/4.0/deed.zh">CC BY-NC-SA 4.0</a>协议，完整转载请注明来自<a href="/">HPCesia 的摆烂小屋</a></span></div></div><div class="post-tools-right"><div class="tag_share"><div class="post-meta__tag-list"><a class="post-meta__tags" href="/tags/Hexo/"><span class="tags-punctuation"><i class="solitude fa-solid fa-hashtag"></i>Hexo<span class="tagsPageCount">5</span></span></a><a class="post-meta__tags" href="/tags/%E5%8D%9A%E5%AE%A2/"><span class="tags-punctuation"><i class="solitude fa-solid fa-hashtag"></i>博客<span class="tagsPageCount">4</span></span></a><a class="post-meta__tags" href="/tags/JavaScript/"><span class="tags-punctuation"><i class="solitude fa-solid fa-hashtag"></i>JavaScript<span class="tagsPageCount">3</span></span></a></div></div></div><nav class="needEndHide pagination-post" id="pagination"><div class="prev-post pull-left"><a href="/posts/2024/fc617a15/"><div class="pagination-info"><div class="label">上一篇</div><div class="prev_info">考研数据结构笔记 - KMP 算法</div></div></a></div><div class="next-post pull-right"><a href="/posts/2024/9632325/"><div class="pagination-info"><div class="label">下一篇</div><div class="next_info">向前欧拉、向后欧拉、跃点（蛙跳）、梯形四种有限差分方法的准确性（收敛性）、稳定性数学推导</div></div></a></div></nav><div id="post-comment"><div class="comment-head"><div class="comment-headline"><i class="solitude fa-solid fa-comment"></i> <span>评论</span> <span class="count">(<span class="twikoo-count"><i class="solitude fa-solid fa-spinner"></i></span>)</span></div></div><div class="comment-wrap"><div id="twikoo-wrap"></div></div></div></div><div class="aside-content" id="aside-content"><div class="card-widget card-info"><div class="card-content"><div class="card-info-bg-top"><div class="author-info-social"><div class="social-icons"></div><span class="more-info" onclick='document.querySelector(".social-icons").classList.toggle("show")'><i class="solitude fa-solid fa-ellipsis-vertical"></i></span></div></div><a class="card-info-avatar" href="/about/" title="头像"><div class="avatar-img"><img src="/img/myavatar.webp" alt="头像"></div></a><div class="author-info__name">HPCesia</div><div class="card-info__data is-center"><a href="/archives/" title="累计文章数:8"><div class="length-num">8</div><div class="headline">文章</div></a><a href="/tags/" title="标签总数:13"><div class="length-num">13</div><div class="headline">标签</div></a><a href="/categories/" title="分类总数:3"><div class="length-num">3</div><div class="headline">分类</div></a></div><div class="card-info__desc_group"><div class="author-info__description">欢迎来到我的摆烂小屋</div><div class="author-info__description2">一个想要摆烂的人</div></div></div></div><div class="sticky_layout"><div class="card-widget" id="card-toc"><div class="item-headline"><i class="solitude fa-solid fa-bars"></i><span>文章目录</span></div><div class="toc-content" id="toc-content"><ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA"><span class="toc-text">环境搭建</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%89%8D%E7%BD%AE%E7%8E%AF%E5%A2%83"><span class="toc-text">前置环境</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#Node-js-npm"><span class="toc-text">Node.js &amp; npm</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Git"><span class="toc-text">Git</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Hexo"><span class="toc-text">Hexo</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%AE%89%E8%A3%85"><span class="toc-text">安装</span></a></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E6%9C%AC%E5%9C%B0%E5%BB%BA%E7%AB%99"><span class="toc-text">本地建站</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%88%9D%E5%A7%8B%E5%8C%96"><span class="toc-text">初始化</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Github-%E9%83%A8%E7%BD%B2"><span class="toc-text">Github 部署</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E6%9B%B4%E5%A4%9A%E9%85%8D%E7%BD%AE"><span class="toc-text">更多配置</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%9F%AD%E6%B0%B8%E4%B9%85%E9%93%BE%E6%8E%A5"><span class="toc-text">短永久链接</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%B8%BB%E9%A2%98"><span class="toc-text">主题</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%AB%99%E5%90%8D%E4%B8%8E%E5%9B%BE%E6%A0%87"><span class="toc-text">站名与图标</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%AD%97%E4%BD%93"><span class="toc-text">字体</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%A4%B4%E5%9B%BE"><span class="toc-text">头图</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%95%B0%E5%AD%A6%E5%85%AC%E5%BC%8F"><span class="toc-text">数学公式</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%AF%84%E8%AE%BA"><span class="toc-text">评论</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%B7%BB%E5%8A%A0-RSS-%E8%AE%A2%E9%98%85"><span class="toc-text">添加 RSS 订阅</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%9B%B4%E5%A4%9A%E4%B8%BB%E9%A2%98%E4%BF%AE%E6%94%B9"><span class="toc-text">更多主题修改</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%B0%86%E7%BD%91%E7%AB%99%E6%B7%BB%E5%8A%A0%E5%88%B0%E6%90%9C%E7%B4%A2%E5%BC%95%E6%93%8E"><span class="toc-text">将网站添加到搜索引擎</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%BC%98%E5%8C%96%E5%8D%9A%E5%AE%A2%E6%80%A7%E8%83%BD"><span class="toc-text">优化博客性能</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%AE%89%E8%A3%85%E6%8F%92%E4%BB%B6"><span class="toc-text">安装插件</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%85%8D%E7%BD%AE-gulp"><span class="toc-text">配置 gulp</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%87%AA%E5%8A%A8%E5%8C%96%E9%85%8D%E7%BD%AE"><span class="toc-text">自动化配置</span></a></li></ol></li></ol></li></ol></div></div><div class="card-widget card-recent-post"><div class="item-headline"><i class="solitude fa-solid fa-map"></i><span>最近发布</span></div><div class="aside-list"><a class="aside-list-item" href="/posts/2024/e5415539/" title="Solitude 主题标签使用说明"><div class="thumbnail"><img alt="Solitude 主题标签使用说明" src="https://gcore.jsdelivr.net/gh/HPCesia/PicGo-ImageBed/images/blog/202409072035830.webp"></div><div class="content"><span class="title" href="/posts/2024/e5415539/" title="Solitude 主题标签使用说明">Solitude 主题标签使用说明</span><span class="article-recent_post_categories" href="/posts/2024/e5415539/">小屋相关</span></div></a><a class="aside-list-item" href="/posts/2024/bb896ab4/" title="VSCode 功能与美化扩展插件推荐"><div class="thumbnail"><img alt="VSCode 功能与美化扩展插件推荐" src="https://gcore.jsdelivr.net/gh/HPCesia/PicGo-ImageBed/images/blog/202409061221045.webp"></div><div class="content"><span class="title" href="/posts/2024/bb896ab4/" title="VSCode 功能与美化扩展插件推荐">VSCode 功能与美化扩展插件推荐</span><span class="article-recent_post_categories" href="/posts/2024/bb896ab4/">经验记录</span></div></a><a class="aside-list-item" href="/posts/2024/1f77b1be/" title="Hexo 博客搜索引擎收录与 SEO 优化个人经验"><div class="thumbnail"><img alt="Hexo 博客搜索引擎收录与 SEO 优化个人经验" src="https://gcore.jsdelivr.net/gh/HPCesia/PicGo-ImageBed/images/blog/202409041206126.webp"></div><div class="content"><span class="title" href="/posts/2024/1f77b1be/" title="Hexo 博客搜索引擎收录与 SEO 优化个人经验">Hexo 博客搜索引擎收录与 SEO 优化个人经验</span><span class="article-recent_post_categories" href="/posts/2024/1f77b1be/">小屋相关</span></div></a><a class="aside-list-item" href="/posts/2024/a0486011/" title="Fluid 移植其他主题的标签语法"><div class="thumbnail"><img alt="Fluid 移植其他主题的标签语法" src="https://gcore.jsdelivr.net/gh/HPCesia/PicGo-ImageBed/images/blog/202409041224362.webp"></div><div class="content"><span class="title" href="/posts/2024/a0486011/" title="Fluid 移植其他主题的标签语法">Fluid 移植其他主题的标签语法</span><span class="article-recent_post_categories" href="/posts/2024/a0486011/">小屋相关</span></div></a><a class="aside-list-item" href="/posts/2024/a06e351a/" title="Fluid 主题无侵入改造记录"><div class="thumbnail"><img alt="Fluid 主题无侵入改造记录" src="https://gcore.jsdelivr.net/gh/HPCesia/PicGo-ImageBed/images/blog/202409041224362.webp"></div><div class="content"><span class="title" href="/posts/2024/a06e351a/" title="Fluid 主题无侵入改造记录">Fluid 主题无侵入改造记录</span><span class="article-recent_post_categories" href="/posts/2024/a06e351a/">小屋相关</span></div></a></div></div></div></div></main><footer id="footer"><div id="footer_deal"><a class="deal_link" target="_blank" rel="noopener external nofollow noreferrer" href="https://github.com/HPCesia" title="Github"><i class="solitude fab fa-github"></i></a><a class="deal_link" href="mailto:HPCesia@foxmail.com" rel="external nofollow noreferrer" title="Mail"><i class="solitude fas fa-envelope"></i></a><div class="nolazyload footer_mini_logo" id="footer_mini_logo" title="返回顶部" onclick="sco.toTop()"><img src="https://weavatar.com/avatar/ef549315395c1d25c6150a8c4d97442782d524e70e2f6fdc3fc47163a6a9b2db?d=wavatar" alt="返回顶部"></div><a class="deal_link" target="_blank" rel="noopener external nofollow noreferrer" href="https://space.bilibili.com/73749124" title="Bilibili"><i class="solitude fab fa-bilibili"></i></a><a class="deal_link" target="_blank" rel="noopener external nofollow noreferrer" href="https://www.zhihu.com/people/derek0192" title="Zhihu"><i class="solitude fab fa-zhihu"></i></a></div><div id="st-footer"><div class="footer-group"><h3 class="footer-title">导航</h3><div class="footer-links"><a class="footer-item" href="/archives/" title="归档">归档</a><a class="footer-item" href="/categories/" title="分类">分类</a><a class="footer-item" href="/tags/" title="标签">标签</a><a class="footer-item" href="/rss2.xml" title="订阅">订阅</a></div></div><div class="footer-group"><h3 class="footer-title">跳转</h3><div class="footer-links"><a class="footer-item" target="_blank" rel="noopener external nofollow noreferrer" href="https://travel.moe/go.html" title="异次元之旅">异次元之旅</a></div></div></div><div id="footer-bar"><div class="footer-bar-links"><div class="footer-bar-left"><div class="copyright">© 2024 By&nbsp;<a class="footer-bar-link" href="/">HPCesia</a></div></div><div class="footer-bar-right"><a class="footer-bar-link" target="_blank" rel="noopener external nofollow noreferrer" href="https://icp.gov.moe/?keyword=20249290" alt="萌ICP备20249290号">萌ICP备20249290号</a><a class="footer-bar-link" target="_blank" rel="noopener external nofollow noreferrer" href="https://github.com/everfu/hexo-theme-solitude/" alt="主题">主题</a><a class="footer-bar-link" target="_blank" rel="noopener external nofollow noreferrer" href="https://hexo.io/" alt="Hexo">Hexo</a></div></div></div></footer></div><div id="rightMenu"><div class="rightMenu-group rightMenu-small"><div class="rightMenu-item" id="menu-backward"><i class="solitude fa-solid fa-arrow-left"></i></div><div class="rightMenu-item" id="menu-forward"><i class="solitude fa-solid fa-arrow-right"></i></div><div class="rightMenu-item" id="menu-refresh"><i class="solitude fa-solid fa-arrows-rotate"></i></div><div class="rightMenu-item" id="menu-top"><i class="solitude fa-solid fa-arrow-up"></i></div></div><div class="rightMenu-group rightMenu-line rightMenuPlugin"><div class="rightMenu-item" id="menu-copytext"><i class="solitude fa-solid fa-clone"></i><span>复制选中文本</span></div><div class="rightMenu-item" id="menu-pastetext"><i class="solitude fa-solid fa-clipboard"></i><span>粘贴文本</span></div><div class="rightMenu-item" id="menu-commenttext"><i class="solitude fa-solid fa-comment-medical"></i><span>引用到评论</span></div><div class="rightMenu-item" id="menu-newwindow"><i class="solitude fa-regular fa-window-maximize"></i><span>新窗口打开</span></div><div class="rightMenu-item" id="menu-copylink"><i class="solitude fa-solid fa-link"></i><span>复制链接地址</span></div><div class="rightMenu-item" id="menu-copyimg"><i class="solitude fa-solid fa-clone"></i><span>复制此图片</span></div><div class="rightMenu-item" id="menu-downloadimg"><i class="solitude fa-solid fa-cloud-arrow-down"></i><span>下载此图片</span></div><div class="rightMenu-item" id="menu-search"><i class="solitude fa-solid fa-magnifying-glass"></i><span>站内搜索</span></div><div class="rightMenu-item" id="menu-music-toggle"><i class="solitude fa-solid fa-play"></i><span>播放音乐</span></div><div class="rightMenu-item" id="menu-music-back"><i class="solitude fa-solid fa-backward"></i><span>切换到上一首</span></div><div class="rightMenu-item" id="menu-music-forward"><i class="solitude fa-solid fa-forward"></i><span>切换到下一首</span></div><div class="rightMenu-item" id="menu-music-copyMusicName"><i class="solitude fa-solid fa-clone"></i><span>复制歌名</span></div></div><div class="rightMenu-group rightMenu-line rightMenuOther"><div class="rightMenu-item" id="menu-randomPost" onclick="toRandomPost()||rm.hideRightMenu()"><i class="solitude fas fa-tower-broadcast"></i><span>随机文章</span></div><div class="rightMenu-item" onclick='pjax.loadUrl("/categories/")||rm.hideRightMenu()'><i class="solitude fas fa-clone"></i><span>全部分类</span></div><div class="rightMenu-item" onclick='pjax.loadUrl("/tags/")||rm.hideRightMenu()'><i class="solitude fas fa-tags"></i><span>全部标签</span></div><div class="rightMenu-item" onclick='pjax.loadUrl("/recentcomments/")||rm.hideRightMenu()'><i class="solitude fas fa-comments"></i><span>最近评论</span></div></div><div class="rightMenu-group rightMenu-line rightMenuOther"><div class="rightMenu-item" id="menu-darkmode" onclick="sco.switchDarkMode()"><i class="solitude fa-solid fa-circle-half-stroke"></i><span class="menu-darkmode-text">深色模式</span></div><div class="rightMenu-item" id="menu-translate"><i class="solitude fa-solid fa-language"></i><span>轉為繁體</span></div></div></div><div id="rightmenu-mask"></div><div><script src="/js/utils.js?v=2.0.12"></script><script src="/js/main.js?v=2.0.12"></script><script src="/js/third_party/waterfall.min.js?v=2.0.12"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/pjax/0.2.8/pjax.min.js"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/qrcodejs/1.0.0/qrcode.min.js"></script><script src="/js/tw_cn.js?v=2.0.12"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/19.1.3/lazyload.iife.min.js"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/node-snackbar/0.1.16/snackbar.min.js"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/Swiper/11.0.5/swiper-bundle.min.js"></script><script>var meting_api="https://meting.qjqq.cn/?server=:server&type=:type&id=:id&auth=:auth&r=:r"</script><script src="https://cdnjs.cloudflare.com/ajax/libs/aplayer/1.10.1/APlayer.min.js"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/meting/2.0.1/Meting.min.js"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/color-thief/2.4.0/color-thief.min.js"></script><script src="/js/covercolor/local.js?v=2.0.12"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/pace/1.2.4/pace.min.js"></script><script src="/js/right_menu.js?v=2.0.12"></script><div class="js-pjax"><script>(()=>{const o=()=>{twikoo.init(Object.assign({el:"#twikoo-wrap",envId:"https://hpc-blog-twikoo.netlify.app/.netlify/functions/twikoo",region:"",path:window.location.pathname,onCommentLoaded:()=>{GLOBAL_CONFIG.lightbox&&utils.lightbox(document.querySelectorAll("#twikoo .tk-content img:not(.tk-owo-emotion)"))}},null))&&(()=>{const o=document.querySelectorAll(".twikoo-count");o&&twikoo.getCommentsCount({envId:"https://hpc-blog-twikoo.netlify.app/.netlify/functions/twikoo",region:"",urls:[window.location.pathname],includeReply:!1}).then((t=>{o.forEach((o=>o.textContent=t[0].count))})).catch((o=>{console.error(o)}))})(),sco.owoBig({body:".OwO-body",item:".OwO-items li"})},t=()=>{"object"==typeof twikoo?setTimeout(o,0):utils.getScript("https://cdnjs.cloudflare.com/ajax/libs/twikoo/1.6.39/twikoo.all.min.js").then(o)};utils.loadComment(document.getElementById("twikoo-wrap"),t)})()</script><script defer pjax src="https://cdnjs.cloudflare.com/ajax/libs/busuanzi/2.3.0/bsz.pure.mini.min.js"></script></div></div><script>const pjax=new Pjax({elements:'a:not([target="_blank"])',selectors:["title","#body-wrap","#site-config",'meta[name="description"]',".js-pjax",'meta[property^="og:"]',"#config-diff"],cacheBust:!1,analytics:!1,scrollRestoration:!1});document.querySelectorAll("script[data-pjax]").forEach((e=>{const t=document.createElement("script"),a=e.text||e.textContent||e.innerHTML||"";Array.from(e.attributes).forEach((e=>t.setAttribute(e.name,e.value))),t.appendChild(document.createTextNode(a)),e.parentNode.replaceChild(t,e)})),document.addEventListener("pjax:complete",(()=>{window.refreshFn(),document.querySelectorAll("script[data-pjax]").forEach((e=>{const t=document.createElement("script"),a=e.text||e.textContent||e.innerHTML||"";Array.from(e.attributes).forEach((e=>t.setAttribute(e.name,e.value))),t.appendChild(document.createTextNode(a)),e.parentNode.replaceChild(t,e)})),GLOBAL_CONFIG.islazyload&&window.lazyLoadInstance.update()})),document.addEventListener("pjax:error",(e=>{404===e.request.status&&pjax.loadUrl("/404.html")}))</script><script>initTheme=()=>{let e=window.matchMedia("(prefers-color-scheme: dark)").matches;const t=utils.saveToLocal.get("theme");if(void 0===t){const t=e?"dark":"light";document.documentElement.setAttribute("data-theme",t)}else document.documentElement.setAttribute("data-theme",t);"object"==typeof rm&&rm.mode("dark"===t&&e)},initTheme()</script><div id="local-search"><div class="search-dialog"><nav class="search-nav"><span class="search-dialog-title">搜索</span><button class="search-close-button"><i class="solitude fa-solid fa-xmark"></i></button></nav><div class="search-wrap"><div class="search-box"><input class="search-box-input" id="search-input" type="text" autocomplete="off" spellcheck="false" autocorrect="off" autocapitalize="off" placeholder="输入关键词快速查找"></div><div id="search-results"><div id="search-hits"></div></div><div id="search-pagination"></div><div id="search-tips"></div></div></div><div id="search-mask"></div></div><script src="/js/search/local.js?v=2.0.12"></script><div class="needEndHide" id="nav-music" onclick="sco.musicToggle()"><div id="nav-music-hoverTips">音乐已暂停</div><meting-js id="12566789716" server="netease" type="playlist" mutex="true" preload="none" data-lrctype="0" order="random" theme="var(--efu-main)"></meting-js></div></body></html><script>const posts=["posts/2024/e5415539/","posts/2024/bb896ab4/","posts/2024/1f77b1be/","posts/2024/a0486011/","posts/2024/a06e351a/","posts/2024/fc617a15/","posts/2024/48acad6d/","posts/2024/9632325/"];function toRandomPost(){pjax.loadUrl(GLOBAL_CONFIG.root+posts[Math.floor(Math.random()*posts.length)])}</script>